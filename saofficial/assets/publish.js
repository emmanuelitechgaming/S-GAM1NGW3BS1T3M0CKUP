(function e(b, g, d) {
    function c(m, j) {
        if (!g[m]) {
            if (!b[m]) {
                var i = typeof require == "function" && require;
                if (!j && i) {
                    return i(m, !0)
                }
                if (a) {
                    return a(m, !0)
                }
                var k = new Error("Cannot find module '" + m + "'");
                throw k.code = "MODULE_NOT_FOUND", k
            }
            var h = g[m] = {
                exports: {}
            };
            b[m][0].call(h.exports, function(l) {
                var o = b[m][1][l];
                return c(o ? o : l)
            }, h, h.exports, e, b, g, d)
        }
        return g[m].exports
    }
    var a = typeof require == "function" && require;
    for (var f = 0; f < d.length; f++) {
        c(d[f])
    }
    return c
})({
    1: [function(b, c, a) {
        /*! version 1.6.2 - Thu Nov 20 2014 17:09:22 GMT+0100 (CET). Author: Scott van Looy scott.vanlooy@akqa.com. (C) Copyright AKQA 2012-2014. All Rights Reserved. */
        ! function() {
            function f(h) {
                function g(ag, af) {
                    function ae() {
                        clearTimeout(N), N = setTimeout(function() {
                            ag.scrolltotop && window.scrollTo(0, 1), ag.switchonorientationchange && (ag.horizontal = !ag.horizontal, ag.vertical = !ag.vertical), aa.akscroller("bounds", {
                                x: F(),
                                y: E()
                            }), ag.switchonorientationchange && aa.akscroller("switchdirection"), G(H)
                        }, 200)
                    }

                    function ad() {
                        var j;
                        clearTimeout(Z), Z = setTimeout(function() {
                            j = ++H, j === K.length && (j = H = 0), G(j), ag.callback && ag.callback(H, !1, !1, ag.node), ad()
                        }, ag.delay || 5000)
                    }

                    function ac(j) {
                        j.preventDefault(), j.stopPropagation();
                        var k = Y.find("a").index(h(j.target));
                        G(k)
                    }

                    function ab() {
                        if (ag.navarrows) {
                            var j = ag.node.find(".cleftarrow").removeClass("off"),
                                k = ag.node.find(".crightarrow").removeClass("off");
                            (H >= K.length - J || J > K.length) && k.addClass("off"), (!H || 0 >= H) && j.addClass("off")
                        }
                    }
                    ag.switchonorientationchange && (af && document.width / document.height < 1 || !af && document.width / document.height > 1) && (ag.horizontal = !ag.horizontal, ag.vertical = !ag.vertical);
                    var aa, Z, Y, X, W, V, U, T, S, Q, O = "undefined" == typeof window.ontouchstart ? "mouseup" : "touchend",
                        M = "undefined" == typeof window.ontouchstart ? "mousedown" : "touchstart",
                        K = ag.node.find(".slide"),
                        J = ag.singleStep ? 1 : parseInt(ag.node.width() / K.width(), 10),
                        I = !1,
                        H = 0,
                        G = function(p, u) {
                            function t(k) {
                                for (var j = 0, m = o, l = q.length; l--;) {
                                    Math.abs(q[l] - k) < m && (m = q[l] - k, j = q[l], H = l)
                                }
                                return j
                            }
                            if (!(0 > p || p > K.length - 1 || I)) {
                                ag.autoSwitch && (clearTimeout(Z), Z = setTimeout(ad, ag.interruptionDelay || 15000));
                                var s, r = aa.akscroller("position"),
                                    q = [],
                                    o = ag.horizontal ? K.width() : K.height(),
                                    n = "undefined" != typeof p ? p * o : ag.horizontal ? r.x : r.y;
                                for (s = 0, Q = ag.node.find(".slide").length; Q > s; s++) {
                                    ag.variablesizeslides ? (0 === s && (o = 0, q.push(0)), p && p === s && (n = o), o += ag.horizontal ? K.eq(s).width() : K.eq(s).height(), q.push(o)) : q.push(o * s)
                                }
                                return aa.akscroller("scrollto", ag.horizontal ? {
                                    x: t(n),
                                    y: 0
                                } : {
                                    x: 0,
                                    y: t(n)
                                }, u || ag.scrollSpeed), R(H), ab(), ag.node
                            }
                        },
                        F = function() {
                            var j = K.length,
                                k = 0;
                            if (ag.horizontal) {
                                if (ag.variablesizeslides) {
                                    for (; j--;) {
                                        k += K.eq(j).width()
                                    }
                                    return k
                                }
                                return ag.node.find(".slide").width() * ag.node.find(".slide").length
                            }
                            if (ag.variablesizeslides) {
                                for (; j--;) {
                                    K.eq(j).width() > k && (k = K.eq(j).width())
                                }
                                return k
                            }
                            return K.width()
                        },
                        E = function() {
                            var j = K.length,
                                k = 0;
                            if (ag.vertical) {
                                if (ag.variablesizeslides) {
                                    for (; j--;) {
                                        k += K.eq(j).height()
                                    }
                                    return k
                                }
                                return ag.node.find(".slide").height() * ag.node.find(".slide").length
                            }
                            if (ag.variablesizeslides) {
                                for (; j--;) {
                                    K.eq(j).height() > k && (k = K.eq(j).height())
                                }
                                return k
                            }
                            return K.height()
                        },
                        R = function(j) {
                            var k = K.eq(j);
                            Y && (Y.find("a").removeClass("active"), Y.find("a").eq(j).addClass("active")), K.removeClass("active"), k.addClass("active"), ag.hero && (X.find(".img").removeClass("active").eq(j).addClass("active"), X.find("article").html(k.find("article").html()), ag.node.removeClass("light dark").addClass(k.hasClass("dark") ? "dark" : "light"))
                        },
                        P = {
                            horizontal: ag.horizontal,
                            easing: ag.easing,
                            vertical: ag.vertical,
                            lockscroll: ag.lockscroll,
                            swipeDistance: ag.swipeDistance,
                            scrollable: ag.scrollable ? "scrollable" : null,
                            callback: function(j, o, n, m) {
                                var l, k;
                                !ag.clickablelinks || n || m || (j.is("a") ? k = j : (j.find("a").length && (k = j.find("a").eq(0)), j.parent("a").length && (k = j.parent("a"))), k && window.open(k.attr("href"), k.attr("target"))), l = j.hasClass("slide") ? j.index() : j.parents(".slide").index(), m ? (H += m, 0 > H && (H = 0), H + J > K.length && (H = K.length - J), G(H, ag.swipeSpeed || ag.scrollSpeed / 4)) : !n && ag.tapnavigation ? G(l, ag.scrollSpeed / 2) : G(), ag.callback && ag.callback(H, o, n, ag.node)
                            },
                            scrollSpeed: ag.scrollSpeed,
                            interruptionDelay: ag.interruptionDelay
                        };
                    window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints && (O = "MSPointerUp", M = "MSPointerDown"), ag.skipbounds || (P.boundsX = F(), P.boundsY = E()), ag.node.find("img").mousedown(function(j) {
                        j.preventDefault()
                    }), aa = ag.scrollNode ? h(ag.node).find(".scroll").akscroller(P) : h(ag.node).akscroller(P);
                    var N;
                    if (window.addEventListener ? (window.addEventListener("orientationchange", ae, !1), window.addEventListener("resize", ae, !1)) : h("window").bind("orientationchange resize", ae), ag.autoSwitch && ad(), Y = ag.node.find(".pager"), X = ag.node.find(".hero"), Y.length) {
                        for (U = function() {
                                h(this).removeAttr("style")
                            }, Y.empty(), Y.unbind().bind("click", function(j) {
                                j.preventDefault(), j.stopPropagation()
                            }).bind(O, ac), Q = K.length - parseInt(ag.node.width() / K.width() - 1, 10); Q--;) {
                            var L = h('<a href="#"></a>');
                            Y.append(L), ag.hero && X.length && (W = "", K.eq(Q).hasClass("light") && (W = " light"), V = h('<img style="opacity:0" />').bind("load", U), V.attr("src", K.eq(Q).data("hero") || K.eq(Q).attr("data-hero")), S = h('<div class="img' + W + '"></div>').append(V), X.prepend(S))
                        }
                    } else {
                        Y = null
                    }
                    return ag.navarrows && (T = h('<a class="cleftarrow" href="#"></a>'), T.unbind().bind("click", function(j) {
                        j.preventDefault(), j.stopPropagation()
                    }).bind(O, function() {
                        H > 0 && (G(H - 1), ag.callback && ag.callback(H, !1, !1, ag.node))
                    }), ag.node.append(T), T = h('<a class="crightarrow" href="#"></a>'), T.unbind().bind("click", function(j) {
                        j.preventDefault(), j.stopPropagation()
                    }).bind(O, function() {
                        H < K.length - J && (G(H + 1), ag.callback && ag.callback(H, !1, !1, ag.node))
                    }), ag.node.append(T), ag.node.bind(M + ".navicons", function() {
                        clearTimeout(h(this)[0].tmptimeout), h(this).addClass("touched")
                    }).bind(O + ".navicons", function() {
                        var j = h(this);
                        j[0].tmptimeout = setTimeout(function() {
                            j.removeClass("touched")
                        }, 3500)
                    }), ag.node.addClass("touched"), ag.node[0].tmptimeout = setTimeout(function() {
                        ag.node.removeClass("touched")
                    }, 3500), ab()), R(0), {
                        moveto: G,
                        forward: function() {
                            G(H + 1)
                        },
                        back: function() {
                            G(H - 1)
                        },
                        currentSlide: function() {
                            return H
                        },
                        suspend: function() {
                            h(ag.node).akscroller("suspendscroll"), I = !0
                        },
                        resume: function() {
                            h(ag.node).akscroller("resumescroll"), I = !1
                        }
                    }
                }

                function i(j, k) {
                    return k ? /ipad/i.test(navigator.appVersion) || 0 !== window.screenX || !("ontouchstart" in window) || window.screen.width > 1023 && /android/i.test(navigator.appVersion) && !/mobile/i.test(navigator.appVersion) ? new g(j, !0) : new g(k, !1) : new g(j)
                }
                h.fn.akcarousel = function(j, m, l) {
                    if ("string" != typeof j) {
                        if ("function" != typeof h.fn.akscroller) {
                            throw "Error: $.fn.akscroller is required for this carousel to work correctly."
                        }
                        this.each(function() {
                            var o, n;
                            m && (n = h.extend({}, m), n.node = h(this)), o = h.extend({}, j), o.node = h(this), l && l.node && (n = h.extend({}, l), n.node = h(this)), this.akcarousel = new i(o, n)
                        })
                    } else {
                        if ("move" === j) {
                            return this.each(function() {
                                return this.akcarousel ? isNaN(m) ? -1 !== m.indexOf("+") ? void this.akcarousel.forward() : void(-1 !== m.indexOf("-") && this.akcarousel.back()) : void this.akcarousel.moveto(m) : void 0
                            }), this
                        }
                        if ("realign" === j) {
                            var k;
                            return this.each(function() {
                                this.akcarousel && this.akcarousel.moveto(this.akcarousel.currentSlide())
                            }), k
                        }
                        "suspend" === j ? this.each(function() {
                            this.akcarousel && this.akcarousel.suspend && this.akcarousel.suspend()
                        }) : "resume" === j ? this.each(function() {
                            this.akcarousel && this.akcarousel.resume && this.akcarousel.resume()
                        }) : window.console && window.console.warn && window.console.warn(this, "carousel: function " + j + " not recognised")
                    }
                    return this
                }
            }

            function d() {
                (window.jQuery || window.Zepto) && ((window.jQuery || window.Zepto).fn || {}).akscroller ? f(window.jQuery || window.Zepto) : setTimeout(d, 100)
            }
            d()
        }()
    }, {}],
    2: [function(b, c, a) {
        /*! version 1.7.3 - Wed Feb 18 2015 11:53:40 GMT+0100 (CET). Author: Scott van Looy scott.vanlooy@akqa.com. (C) Copyright AKQA 2012-2015. All Rights Reserved. */
        ! function() {
            function f(h) {
                function g(aD) {
                    function aC() {
                        P = setTimeout(function() {
                            clearTimeout(ax), aD.horizontal = !aD.horizontal, aD.vertical = !aD.vertical, ax = setTimeout(ab, 1000)
                        }, 200)
                    }
                    var aB, aA, az, ay, ax, aw, av, au, at, ar, aq, ap, ao = "mouseup touchend mouseleave",
                        an = "mousedown touchstart",
                        am = "mousemove touchmove",
                        al = 350,
                        ak = aD.swipeDistance || 50,
                        aj = {
                            x: 0,
                            y: 0
                        },
                        ai = {
                            x: 0,
                            y: 0
                        },
                        ah = {},
                        ag = {},
                        af = aD.inertia ? "boolean" == typeof aD.inertia ? 200 : aD.inertia : !1,
                        ae = aD.scrollSpeed || 500,
                        ad = function(i) {
                            return "string" == typeof i.MozTransform ? {
                                j: "Moz",
                                c: "-moz-"
                            } : "string" == typeof i.WebkitTransform ? {
                                j: "Webkit",
                                c: "-webkit-"
                            } : "string" != typeof i.msTransform && "string" != typeof i.MsTransform || /MSIE 9/.test(navigator.appVersion) ? "string" == typeof i.transform ? {
                                j: "",
                                c: ""
                            } : {
                                j: null,
                                c: null
                            } : {
                                j: "ms",
                                c: "-ms-"
                            }
                        }(document.body.style),
                        ac = aD.node.find(".slide").length ? aD.node.find(".slide").parent().length ? aD.node.find(".slide").parent()[0] : aD.node.find(".slide")[0] : aD.node[0],
                        ab = function(i) {
                            return clearTimeout(ax), ay = ((i || {}).x || aD.boundsX || aD.node.width() + 20) - aD.node.parent().width(), aw = ((i || {}).y || aD.boundsY || aD.node.height() + 20) - aD.node.parent().height(), ac
                        },
                        aa = function(i, l) {
                            var k = aD.horizontal || l ? i.pageX || ((i.touches || (i.originalEvent || {}).touches || [])[0] || {}).pageX || 0 : 0,
                                j = aD.vertical || l ? i.pageY || ((i.touches || (i.originalEvent || {}).touches || [])[0] || {}).pageY || 0 : 0;
                            return {
                                x: k,
                                y: j
                            }
                        },
                        Z = function(i) {
                            var k, j = Math.abs;
                            if (k = aa(i, !0), aD.horizontal && j(ah.x - k.x) > 15 || aD.vertical && j(ah.y - k.y) > 15) {
                                if (j(ah.x - k.x) > j(ah.y - k.y)) {
                                    if (aD.horizontal) {
                                        return !0
                                    }
                                } else {
                                    if (aD.vertical) {
                                        return !0
                                    }
                                }
                            }
                            return !1
                        },
                        Y = function(i, s, r, q) {
                            var p, o, n, m;
                            (aA || r) && (o = {
                                x: ai.x - i.x,
                                y: ai.y - i.y
                            }, r && (o = i), o.x > ay && (o.x = ay, p = !0), o.x < 0 && (o.x = 0, p = !0), o.y > aw && (o.y = aw, p = !0), o.y < 0 && (o.y = 0, p = !0), n = -(o.x || 0), m = -(o.y || 0), ad.j ? ac.style[ad.j + "Transform"] = "Webkit" === ad.j ? "translate3d(" + n + "px, " + m + "px, 0)" : "translate(" + n + "px, " + m + "px)" : r && 0 !== q ? h(ac).animate({
                                left: n + "px",
                                top: m + "px"
                            }, q) : (ac.style.left = n + "px", ac.style.top = m + "px"), aj = o)
                        },
                        X = function(i, j) {
                            return ac.style[ad.j + "Transition"] = ad.c + "transform " + (j || ae) + "ms " + (aD.easing || "ease-out"), Y(i, null, !0, j || ae), ac
                        },
                        W = function(i, k, j) {
                            if ((new Date).getTime() - i.getTime() < al) {
                                if (aD.horizontal && Math.abs(k.x - j.x) > ak) {
                                    return k.x > j.x ? 1 : -1
                                }
                                if (aD.vertical && Math.abs(k.y - j.y) > ak) {
                                    return k.y > j.y ? 1 : -1
                                }
                            }
                            return !1
                        },
                        V = function() {
                            aq ? (aq.x = ar.x - aj.x, aq.y = ar.y - aj.y) : aq = {
                                x: 0,
                                y: 0
                            }, ar = aj
                        },
                        U = function() {
                            if (clearInterval(at), af && aq) {
                                var j = Math.abs(aq.x),
                                    i = Math.abs(aq.y),
                                    l = aq.x,
                                    k = aq.y;
                                (j > 5 || i > 5) && (j > 200 || i > 200 ? X({
                                    x: -l * (af / 200) * 3 + aj.x,
                                    y: -k * (af / 200) * 3 + aj.y
                                }, 3 * af) : j > 150 || i > 150 ? X({
                                    x: -l * (af / 200) * 2 + aj.x,
                                    y: -k * (af / 200) * 2 + aj.y
                                }, 2 * af) : X({
                                    x: -l * (af / 200) + aj.x,
                                    y: -k * (af / 200) + aj.y
                                }, af)), aq = null
                            }
                        },
                        T = function(i) {
                            if (aD.lockscroll && i.preventDefault(), !(av || window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints && !i.isPrimary)) {
                                az = !0, aB = new Date, ac.style[ad.j + "Transition"] = "";
                                var j = aa(i);
                                ai = aj ? {
                                    x: aj.x + j.x,
                                    y: aj.y + j.y
                                } : j, ah = aa(i, !0), au = (new Date).getTime(), clearInterval(at), aq = null, V(), at = setInterval(V, 100)
                            }
                        },
                        S = function(j) {
                            if (!(av || window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints && !j.isPrimary)) {
                                var i = h(j.target).parents("." + aD.scrollable).length;
                                az && (aA = !0, !aD.lockscroll && !Z(j) || i || (j.stopPropagation(), j.preventDefault()), (!aD.scrollable || aD.scrollable && !i) && Y(aa(j), j)), ag = aa(j, !0)
                            }
                        },
                        R = function(i) {
                            av || window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints && !i.isPrimary || (aD.callback && az && aD.callback(h(i.target), aj, aA, aA ? W(aB, ah, ag) : !1), az = !1, aA = !1, aB = null, U())
                        },
                        Q = function(n) {
                            var m = aD.horizontal ? n.deltaX : 0,
                                l = aD.vertical ? n.deltaY : 0,
                                k = /MSIE ([6-8])/.test(navigator.appVersion) ? 40 : 1;
                            if (aD.horizontal && !aD.vertical && Math.abs(n.deltaY) > Math.abs(n.deltaX) && (m = -n.deltaY), 0 !== m || 0 !== l) {
                                n.preventDefault(), n.stopPropagation(), aA = !0;
                                var j = {
                                    x: aj.x + m * n.deltaFactor * k,
                                    y: aj.y - l * n.deltaFactor * k
                                };
                                aB || (aB = new Date, ah = {
                                    x: aj.x,
                                    y: aj.y
                                }), ag = {
                                    x: aj.x,
                                    y: aj.y
                                }, Y(j, null, !0, 0), aA = !1, clearTimeout(ap), ap = setTimeout(function() {
                                    aD.callback && aD.callback(h(n.target), aj, aA, aA ? W(aB, ah, ag) : !1), aB = ah = ag = null
                                }, 150)
                            }
                        };
                    window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints && (ao = "MSPointerUp", an = "MSPointerDown", am = "MSPointerMove"), ab();
                    var P;
                    return aD.orientationchange && (window.addEventListener ? window.addEventListener("orientationchange", aC, !0) : h("window").on("orientationchange resize", aC)), h(ac).on(an, T), h(ac).on(am, S), h(ac).on(ao, R), aD.mousewheel && h.fn.mousewheel && ! function() {
                        h(ac).on("mousewheel.scroll", Q)
                    }(), h("body").bind("mouseup.scroll", function() {
                        az = !1
                    }).bind("dragstart.scroll", function() {
                        return !1
                    }), {
                        position: function() {
                            return aj
                        },
                        scrollto: X,
                        setBounds: ab,
                        switchDirection: function() {
                            return aD.vertical = !aD.vertical, aD.horizontal = !aD.horizontal, ac
                        },
                        suspend: function() {
                            av = !0
                        },
                        resume: function() {
                            av = !1
                        }
                    }
                }
                h.fn.akscroller = function(k, j, i) {
                    if ("string" != typeof k) {
                        j = k, this.each(function() {
                            var l = h.extend({}, j);
                            l.node = h(this), h(this).attr("style", ""), this.akscroller = new g(l), h(this).data("scroller", !0)
                        })
                    } else {
                        if ("scrollto" === k && this.each(function() {
                                this.akscroller.scrollto(j, i)
                            }), "bounds" === k && this.each(function() {
                                this.akscroller.setBounds(j)
                            }), "position" === k && this.eq(0) && this.eq(0)[0] && this.eq(0)[0].akscroller) {
                            return this.eq(0)[0].akscroller.position()
                        }
                        "switchdirection" === k && this.each(function() {
                            this.akscroller.switchDirection()
                        }), "suspendscroll" === k && this.each(function() {
                            this.akscroller && this.akscroller.suspend()
                        }), "resumescroll" === k && this.each(function() {
                            this.akscroller && this.akscroller.resume()
                        })
                    }
                    return this
                }
            }

            function d() {
                window.jQuery || window.Zepto ? f(window.jQuery || window.Zepto) : setTimeout(d, 100)
            }
            d()
        }()
    }, {}],
    3: [function(b, c, a) {
        (function(l) {
            var z = (typeof window.ontouchstart === "undefined") ? "mouseup" : "touchend",
                A = (typeof window.ontouchstart === "undefined") ? "mousedown" : "touchstart",
                y = (typeof window.ontouchstart === "undefined") ? "mousemove" : "touchmove",
                t = window.Zepto ? "ease-in-out 1ms" : undefined,
                m, v, s = false,
                i, g, j, h, f, d, p = (function(B) {
                    if (typeof B.transform === "string") {
                        return {
                            j: "",
                            c: ""
                        }
                    }
                    if (typeof B.WebkitTransform === "string") {
                        return {
                            j: "Webkit",
                            c: "-webkit-"
                        }
                    }
                    if (typeof B.MozTransform === "string") {
                        return {
                            j: "Moz",
                            c: "-moz-"
                        }
                    }
                    if (typeof B.OTransform === "string") {
                        return {
                            j: "O",
                            c: "-O-"
                        }
                    }
                    if ((typeof B.msTransform === "string" || typeof B.MsTransform === "string") && !/MSIE 9/.test(navigator.appVersion)) {
                        return {
                            j: "ms",
                            c: "-ms-"
                        }
                    }
                    return {
                        j: null,
                        c: null
                    }
                }((document.body || document.head).style));

            function u() {
                return true
            }
            var r = function(B) {
                B = B || l(".zoom img.zoom-image");
                if ("WebkitTransform" in document.body.style || "MozTransform" in document.body.style || "OTransform" in document.body.style || "transform" in document.body.style) {
                    B.off().animate({
                        translate3d: "0,0,0"
                    }, 1, t).parents(".active").removeClass("zoomed")
                } else {
                    B.off().css({
                        left: "0",
                        right: "0"
                    })
                }
            };

            function q(D) {
                D.preventDefault();
                D.stopPropagation();
                var B = l(D.target).parents(".slide"),
                    E = l(D.target).parents("#js-product-gallery-carousel"),
                    C = B.find(".zoom img.zoom-image");
                if (B.hasClass("zoomed")) {
                    B.removeClass("zoomed");
                    r(C);
                    i = 0;
                    g = 0;
                    E.akscroller("resumescroll")
                } else {
                    B.addClass("zoomed");
                    C.on(u);
                    E.akscroller("suspendscroll")
                }
            }

            function k(B) {
                return B.targetTouches ? B.targetTouches[0] : B
            }

            function x(C) {
                C.preventDefault();
                C.stopPropagation();
                var B = l(C.target);
                f = k(C).pageX;
                d = k(C).pageY;
                j = (p) ? (i || 0) + f : -(f - B.offset().left);
                h = (p) ? (g || 0) + d : -(d - B.offset().top);
                s = true
            }

            function o(F) {
                if (s) {
                    var E = l(F.target),
                        B = j - k(F).pageX,
                        G = h - k(F).pageY,
                        D = E.width() / 3,
                        C = E.height() / 2;
                    F.stopPropagation();
                    F.preventDefault();
                    if ((B <= D && B >= -D) && (G <= C && G >= -C)) {
                        if ("WebkitTransform" in document.body.style || "MozTransform" in document.body.style || "OTransform" in document.body.style || "transform" in document.body.style) {
                            B = 0;
                            E[0].style[p.j.length ? p.j + "Transform" : "transform"] = (p.j === "Webkit") ? "translate3d(" + -B + "px, " + -G + "px, 0)" : "translate(" + -B + "px, " + -G + "px)"
                        } else {
                            E.css("left", -B);
                            E.css("top", -G)
                        }
                        i = B;
                        g = G
                    } else {
                        return
                    }
                }
            }

            function n() {
                j = i;
                h = g;
                s = false
            }

            function w(B) {
                v = B.find(".zoom-image");
                v.on(A, x).on(y, o).on(z, n).on("mouseout", n);
                B.parents().find(".crightarrow, .cleftarrow").on(A, function() {
                    if (B.hasClass("zoomed")) {
                        B.removeClass("zoomed");
                        v.off();
                        r(v)
                    }
                })
            }
            l.fn.galleryZoom = function(C, B) {
                if (typeof C !== "string") {
                    B = C
                } else {
                    if (C === "zoomReset") {
                        r()
                    }
                }
                B = B || {};
                p = p;
                this.each(function() {
                    var D = l(this);
                    D.on(A, function(E) {
                        w(D)
                    })
                })
            }
        }(window.Zepto || window.jQuery))
    }, {}],
    4: [function(b, c, a) {
        (function(d) {
            d.cookie = function(g, q, t) {
                if (typeof q != "undefined") {
                    t = t || {};
                    if (q === null) {
                        q = "";
                        t.expires = -1
                    }
                    var k = "";
                    if (t.expires && (typeof t.expires == "number" || t.expires.toUTCString)) {
                        var m;
                        if (typeof t.expires == "number") {
                            m = new Date();
                            m.setTime(m.getTime() + (t.expires * 24 * 60 * 60 * 1000))
                        } else {
                            m = t.expires
                        }
                        k = "; expires=" + m.toUTCString()
                    }
                    var s = t.path ? "; path=" + (t.path) : "";
                    var o = t.domain ? "; domain=" + (t.domain) : "";
                    var f = t.secure ? "; secure" : "";
                    document.cookie = [g, "=", encodeURIComponent(q), k, s, o, f].join("")
                } else {
                    var j = null;
                    if (document.cookie && document.cookie !== "") {
                        var r = document.cookie.split(";"),
                            n = r.length;
                        for (var p = 0; p < n; p++) {
                            var h = d.trim(r[p]);
                            if (h.substring(0, g.length + 1) == (g + "=")) {
                                j = decodeURIComponent(h.substring(g.length + 1));
                                break
                            }
                        }
                    }
                    return j
                }
            }
        })(window.jQuery || window.Zepto)
    }, {}],
    5: [function(b, c, a) {
        (function(f, d, g) {
            (function(h) {
                if (typeof define === "function" && define.amd) {
                    define(["jquery", "jquery-mousewheel"], h)
                } else {
                    h(jQuery)
                }
            }(function(n) {
                var k = "mCustomScrollbar",
                    h = "mCS",
                    q = ".mCustomScrollbar",
                    l = {
                        setWidth: false,
                        setHeight: false,
                        setTop: 0,
                        setLeft: 0,
                        axis: "y",
                        scrollbarPosition: "inside",
                        scrollInertia: 950,
                        autoDraggerLength: true,
                        autoHideScrollbar: false,
                        autoExpandScrollbar: false,
                        alwaysShowScrollbar: 0,
                        snapAmount: null,
                        snapOffset: 0,
                        mouseWheel: {
                            enable: true,
                            scrollAmount: "auto",
                            axis: "y",
                            preventDefault: false,
                            deltaFactor: "auto",
                            normalizeDelta: false,
                            invert: false,
                            disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                        },
                        scrollButtons: {
                            enable: false,
                            scrollType: "stepless",
                            scrollAmount: "auto"
                        },
                        keyboard: {
                            enable: true,
                            scrollType: "stepless",
                            scrollAmount: "auto"
                        },
                        contentTouchScroll: 25,
                        advanced: {
                            autoExpandHorizontalScroll: false,
                            autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                            updateOnContentResize: true,
                            updateOnImageLoad: true,
                            updateOnSelectorChange: false
                        },
                        theme: "light",
                        callbacks: {
                            onScrollStart: false,
                            onScroll: false,
                            onTotalScroll: false,
                            onTotalScrollBack: false,
                            whileScrolling: false,
                            onTotalScrollOffset: 0,
                            onTotalScrollBackOffset: 0,
                            alwaysTriggerOffsets: true,
                            onOverflowY: false,
                            onOverflowX: false,
                            onOverflowYNone: false,
                            onOverflowXNone: false
                        },
                        live: false,
                        liveSelector: null
                    },
                    p = 0,
                    s = {},
                    j = function(t) {
                        if (s[t]) {
                            clearTimeout(s[t]);
                            m._delete.call(null, s[t])
                        }
                    },
                    o = (f.attachEvent && !f.addEventListener) ? 1 : 0,
                    r = false,
                    i = {
                        init: function(u) {
                            var u = n.extend(true, {}, l, u),
                                t = m._selector.call(this);
                            if (u.live) {
                                var w = u.liveSelector || this.selector || q,
                                    v = n(w);
                                if (u.live === "off") {
                                    j(w);
                                    return
                                }
                                s[w] = setTimeout(function() {
                                    v.mCustomScrollbar(u);
                                    if (u.live === "once" && v.length) {
                                        j(w)
                                    }
                                }, 500)
                            } else {
                                j(w)
                            }
                            u.setWidth = (u.set_width) ? u.set_width : u.setWidth;
                            u.setHeight = (u.set_height) ? u.set_height : u.setHeight;
                            u.axis = (u.horizontalScroll) ? "x" : m._findAxis.call(null, u.axis);
                            u.scrollInertia = u.scrollInertia > 0 && u.scrollInertia < 17 ? 17 : u.scrollInertia;
                            if (typeof u.mouseWheel !== "object" && u.mouseWheel == true) {
                                u.mouseWheel = {
                                    enable: true,
                                    scrollAmount: "auto",
                                    axis: "y",
                                    preventDefault: false,
                                    deltaFactor: "auto",
                                    normalizeDelta: false,
                                    invert: false
                                }
                            }
                            u.mouseWheel.scrollAmount = !u.mouseWheelPixels ? u.mouseWheel.scrollAmount : u.mouseWheelPixels;
                            u.mouseWheel.normalizeDelta = !u.advanced.normalizeMouseWheelDelta ? u.mouseWheel.normalizeDelta : u.advanced.normalizeMouseWheelDelta;
                            u.scrollButtons.scrollType = m._findScrollButtonsType.call(null, u.scrollButtons.scrollType);
                            m._theme.call(null, u);
                            return n(t).each(function() {
                                var y = n(this);
                                if (!y.data(h)) {
                                    y.data(h, {
                                        idx: ++p,
                                        opt: u,
                                        scrollRatio: {
                                            y: null,
                                            x: null
                                        },
                                        overflowed: null,
                                        contentReset: {
                                            y: null,
                                            x: null
                                        },
                                        bindEvents: false,
                                        tweenRunning: false,
                                        sequential: {},
                                        langDir: y.css("direction"),
                                        cbOffsets: null,
                                        trigger: null
                                    });
                                    var A = y.data(h).opt,
                                        z = y.data("mcs-axis"),
                                        x = y.data("mcs-scrollbar-position"),
                                        B = y.data("mcs-theme");
                                    if (z) {
                                        A.axis = z
                                    }
                                    if (x) {
                                        A.scrollbarPosition = x
                                    }
                                    if (B) {
                                        A.theme = B;
                                        m._theme.call(null, A)
                                    }
                                    m._pluginMarkup.call(this);
                                    i.update.call(null, y)
                                }
                            })
                        },
                        update: function(u) {
                            var t = u || m._selector.call(this);
                            return n(t).each(function() {
                                var x = n(this);
                                if (x.data(h)) {
                                    var z = x.data(h),
                                        y = z.opt,
                                        v = n("#mCSB_" + z.idx + "_container"),
                                        w = [n("#mCSB_" + z.idx + "_dragger_vertical"), n("#mCSB_" + z.idx + "_dragger_horizontal")];
                                    if (!v.length) {
                                        return
                                    }
                                    if (z.tweenRunning) {
                                        m._stop.call(null, x)
                                    }
                                    if (x.hasClass("mCS_disabled")) {
                                        x.removeClass("mCS_disabled")
                                    }
                                    if (x.hasClass("mCS_destroyed")) {
                                        x.removeClass("mCS_destroyed")
                                    }
                                    m._maxHeight.call(this);
                                    m._expandContentHorizontally.call(this);
                                    if (y.axis !== "y" && !y.advanced.autoExpandHorizontalScroll) {
                                        v.css("width", m._contentWidth(v.children()))
                                    }
                                    z.overflowed = m._overflowed.call(this);
                                    m._scrollbarVisibility.call(this);
                                    if (y.autoDraggerLength) {
                                        m._setDraggerLength.call(this)
                                    }
                                    m._scrollRatio.call(this);
                                    m._bindEvents.call(this);
                                    var A = [Math.abs(v[0].offsetTop), Math.abs(v[0].offsetLeft)];
                                    if (y.axis !== "x") {
                                        if (!z.overflowed[0]) {
                                            m._resetContentPosition.call(this);
                                            if (y.axis === "y") {
                                                m._unbindEvents.call(this)
                                            } else {
                                                if (y.axis === "yx" && z.overflowed[1]) {
                                                    m._scrollTo.call(this, x, A[1].toString(), {
                                                        dir: "x",
                                                        dur: 0,
                                                        overwrite: "none"
                                                    })
                                                }
                                            }
                                        } else {
                                            if (w[0].height() > w[0].parent().height()) {
                                                m._resetContentPosition.call(this)
                                            } else {
                                                m._scrollTo.call(this, x, A[0].toString(), {
                                                    dir: "y",
                                                    dur: 0,
                                                    overwrite: "none"
                                                });
                                                z.contentReset.y = null
                                            }
                                        }
                                    }
                                    if (y.axis !== "y") {
                                        if (!z.overflowed[1]) {
                                            m._resetContentPosition.call(this);
                                            if (y.axis === "x") {
                                                m._unbindEvents.call(this)
                                            } else {
                                                if (y.axis === "yx" && z.overflowed[0]) {
                                                    m._scrollTo.call(this, x, A[0].toString(), {
                                                        dir: "y",
                                                        dur: 0,
                                                        overwrite: "none"
                                                    })
                                                }
                                            }
                                        } else {
                                            if (w[1].width() > w[1].parent().width()) {
                                                m._resetContentPosition.call(this)
                                            } else {
                                                m._scrollTo.call(this, x, A[1].toString(), {
                                                    dir: "x",
                                                    dur: 0,
                                                    overwrite: "none"
                                                });
                                                z.contentReset.x = null
                                            }
                                        }
                                    }
                                    m._autoUpdate.call(this)
                                }
                            })
                        },
                        scrollTo: function(v, u) {
                            if (typeof v == "undefined" || v == null) {
                                return
                            }
                            var t = m._selector.call(this);
                            return n(t).each(function() {
                                var y = n(this);
                                if (y.data(h)) {
                                    var B = y.data(h),
                                        A = B.opt,
                                        z = {
                                            trigger: "external",
                                            scrollInertia: A.scrollInertia,
                                            scrollEasing: "mcsEaseInOut",
                                            moveDragger: false,
                                            timeout: 60,
                                            callbacks: true,
                                            onStart: true,
                                            onUpdate: true,
                                            onComplete: true
                                        },
                                        w = n.extend(true, {}, z, u),
                                        C = m._arr.call(this, v),
                                        x = w.scrollInertia > 0 && w.scrollInertia < 17 ? 17 : w.scrollInertia;
                                    C[0] = m._to.call(this, C[0], "y");
                                    C[1] = m._to.call(this, C[1], "x");
                                    if (w.moveDragger) {
                                        C[0] *= B.scrollRatio.y;
                                        C[1] *= B.scrollRatio.x
                                    }
                                    w.dur = x;
                                    setTimeout(function() {
                                        if (C[0] !== null && typeof C[0] !== "undefined" && A.axis !== "x" && B.overflowed[0]) {
                                            w.dir = "y";
                                            w.overwrite = "all";
                                            m._scrollTo.call(this, y, C[0].toString(), w)
                                        }
                                        if (C[1] !== null && typeof C[1] !== "undefined" && A.axis !== "y" && B.overflowed[1]) {
                                            w.dir = "x";
                                            w.overwrite = "none";
                                            m._scrollTo.call(this, y, C[1].toString(), w)
                                        }
                                    }, w.timeout)
                                }
                            })
                        },
                        stop: function() {
                            var t = m._selector.call(this);
                            return n(t).each(function() {
                                var u = n(this);
                                if (u.data(h)) {
                                    m._stop.call(null, u)
                                }
                            })
                        },
                        disable: function(u) {
                            var t = m._selector.call(this);
                            return n(t).each(function() {
                                var v = n(this);
                                if (v.data(h)) {
                                    var x = v.data(h),
                                        w = x.opt;
                                    m._autoUpdate.call(this, "remove");
                                    m._unbindEvents.call(this);
                                    if (u) {
                                        m._resetContentPosition.call(this)
                                    }
                                    m._scrollbarVisibility.call(this, true);
                                    v.addClass("mCS_disabled")
                                }
                            })
                        },
                        destroy: function() {
                            var t = m._selector.call(this);
                            return n(t).each(function() {
                                var w = n(this);
                                if (w.data(h)) {
                                    var y = w.data(h),
                                        x = y.opt,
                                        u = n("#mCSB_" + y.idx),
                                        v = n("#mCSB_" + y.idx + "_container"),
                                        z = n(".mCSB_" + y.idx + "_scrollbar");
                                    if (x.live) {
                                        j(t)
                                    }
                                    m._autoUpdate.call(this, "remove");
                                    m._unbindEvents.call(this);
                                    m._resetContentPosition.call(this);
                                    w.removeData(h);
                                    m._delete.call(null, this.mcs);
                                    z.remove();
                                    u.replaceWith(v.contents());
                                    w.removeClass(k + " _" + h + "_" + y.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")
                                }
                            })
                        }
                    },
                    m = {
                        _selector: function() {
                            return (typeof n(this) !== "object" || n(this).length < 1) ? q : this
                        },
                        _theme: function(w) {
                            var v = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                                u = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                                t = ["minimal", "minimal-dark"],
                                y = ["minimal", "minimal-dark"],
                                x = ["minimal", "minimal-dark"];
                            w.autoDraggerLength = n.inArray(w.theme, v) > -1 ? false : w.autoDraggerLength;
                            w.autoExpandScrollbar = n.inArray(w.theme, u) > -1 ? false : w.autoExpandScrollbar;
                            w.scrollButtons.enable = n.inArray(w.theme, t) > -1 ? false : w.scrollButtons.enable;
                            w.autoHideScrollbar = n.inArray(w.theme, y) > -1 ? true : w.autoHideScrollbar;
                            w.scrollbarPosition = n.inArray(w.theme, x) > -1 ? "outside" : w.scrollbarPosition
                        },
                        _findAxis: function(t) {
                            return (t === "yx" || t === "xy" || t === "auto") ? "yx" : (t === "x" || t === "horizontal") ? "x" : "y"
                        },
                        _findScrollButtonsType: function(t) {
                            return (t === "stepped" || t === "pixels" || t === "step" || t === "click") ? "stepped" : "stepless"
                        },
                        _pluginMarkup: function() {
                            var C = n(this),
                                B = C.data(h),
                                v = B.opt,
                                x = v.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "",
                                F = ["<div id='mCSB_" + B.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + B.idx + "_scrollbar mCS-" + v.theme + " mCSB_scrollTools_vertical" + x + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + B.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + B.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + B.idx + "_scrollbar mCS-" + v.theme + " mCSB_scrollTools_horizontal" + x + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + B.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                                y = v.axis === "yx" ? "mCSB_vertical_horizontal" : v.axis === "x" ? "mCSB_horizontal" : "mCSB_vertical",
                                A = v.axis === "yx" ? F[0] + F[1] : v.axis === "x" ? F[1] : F[0],
                                z = v.axis === "yx" ? "<div id='mCSB_" + B.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                                w = v.autoHideScrollbar ? " mCS-autoHide" : "",
                                t = (v.axis !== "x" && B.langDir === "rtl") ? " mCS-dir-rtl" : "";
                            if (v.setWidth) {
                                C.css("width", v.setWidth)
                            }
                            if (v.setHeight) {
                                C.css("height", v.setHeight)
                            }
                            v.setLeft = (v.axis !== "y" && B.langDir === "rtl") ? "989999px" : v.setLeft;
                            C.addClass(k + " _" + h + "_" + B.idx + w + t).wrapInner("<div id='mCSB_" + B.idx + "' class='mCustomScrollBox mCS-" + v.theme + " " + y + "'><div id='mCSB_" + B.idx + "_container' class='mCSB_container' style='position:relative; top:" + v.setTop + "; left:" + v.setLeft + ";' dir=" + B.langDir + " /></div>");
                            var u = n("#mCSB_" + B.idx),
                                D = n("#mCSB_" + B.idx + "_container");
                            if (v.axis !== "y" && !v.advanced.autoExpandHorizontalScroll) {
                                D.css("width", m._contentWidth(D.children()))
                            }
                            if (v.scrollbarPosition === "outside") {
                                if (C.css("position") === "static") {
                                    C.css("position", "relative")
                                }
                                C.css("overflow", "visible");
                                u.addClass("mCSB_outside").after(A)
                            } else {
                                u.addClass("mCSB_inside").append(A);
                                D.wrap(z)
                            }
                            m._scrollButtons.call(this);
                            var E = [n("#mCSB_" + B.idx + "_dragger_vertical"), n("#mCSB_" + B.idx + "_dragger_horizontal")];
                            E[0].css("min-height", E[0].height());
                            E[1].css("min-width", E[1].width())
                        },
                        _contentWidth: function(t) {
                            return Math.max.apply(Math, t.map(function() {
                                return n(this).outerWidth(true)
                            }).get())
                        },
                        _expandContentHorizontally: function() {
                            var u = n(this),
                                w = u.data(h),
                                v = w.opt,
                                t = n("#mCSB_" + w.idx + "_container");
                            if (v.advanced.autoExpandHorizontalScroll && v.axis !== "y") {
                                t.css({
                                    position: "absolute",
                                    width: "auto"
                                }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                                    width: (Math.ceil(t[0].getBoundingClientRect().right + 0.4) - Math.floor(t[0].getBoundingClientRect().left)),
                                    position: "relative"
                                }).unwrap()
                            }
                        },
                        _scrollButtons: function() {
                            var w = n(this),
                                y = w.data(h),
                                x = y.opt,
                                u = n(".mCSB_" + y.idx + "_scrollbar:first"),
                                v = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],
                                t = [(x.axis === "x" ? v[2] : v[0]), (x.axis === "x" ? v[3] : v[1]), v[2], v[3]];
                            if (x.scrollButtons.enable) {
                                u.prepend(t[0]).append(t[1]).next(".mCSB_scrollTools").prepend(t[2]).append(t[3])
                            }
                        },
                        _maxHeight: function() {
                            var x = n(this),
                                A = x.data(h),
                                z = A.opt,
                                v = n("#mCSB_" + A.idx),
                                u = x.css("max-height"),
                                w = u.indexOf("%") !== -1,
                                t = x.css("box-sizing");
                            if (u !== "none") {
                                var y = w ? x.parent().height() * parseInt(u) / 100 : parseInt(u);
                                if (t === "border-box") {
                                    y -= ((x.innerHeight() - x.height()) + (x.outerHeight() - x.innerHeight()))
                                }
                                v.css("max-height", Math.round(y))
                            }
                        },
                        _setDraggerLength: function() {
                            var z = n(this),
                                x = z.data(h),
                                t = n("#mCSB_" + x.idx),
                                A = n("#mCSB_" + x.idx + "_container"),
                                C = [n("#mCSB_" + x.idx + "_dragger_vertical"), n("#mCSB_" + x.idx + "_dragger_horizontal")],
                                y = [t.height() / A.outerHeight(false), t.width() / A.outerWidth(false)],
                                u = [parseInt(C[0].css("min-height")), Math.round(y[0] * C[0].parent().height()), parseInt(C[1].css("min-width")), Math.round(y[1] * C[1].parent().width())],
                                v = o && (u[1] < u[0]) ? u[0] : u[1],
                                B = o && (u[3] < u[2]) ? u[2] : u[3];
                            C[0].css({
                                height: v,
                                "max-height": (C[0].parent().height() - 10)
                            }).find(".mCSB_dragger_bar").css({
                                "line-height": u[0] + "px"
                            });
                            C[1].css({
                                width: B,
                                "max-width": (C[1].parent().width() - 10)
                            })
                        },
                        _scrollRatio: function() {
                            var x = n(this),
                                z = x.data(h),
                                u = n("#mCSB_" + z.idx),
                                v = n("#mCSB_" + z.idx + "_container"),
                                w = [n("#mCSB_" + z.idx + "_dragger_vertical"), n("#mCSB_" + z.idx + "_dragger_horizontal")],
                                y = [v.outerHeight(false) - u.height(), v.outerWidth(false) - u.width()],
                                t = [y[0] / (w[0].parent().height() - w[0].height()), y[1] / (w[1].parent().width() - w[1].width())];
                            z.scrollRatio = {
                                y: t[0],
                                x: t[1]
                            }
                        },
                        _onDragClasses: function(v, x, u) {
                            var w = u ? "mCSB_dragger_onDrag_expanded" : "",
                                t = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"],
                                y = v.closest(".mCSB_scrollTools");
                            if (x === "active") {
                                v.toggleClass(t[0] + " " + w);
                                y.toggleClass(t[1]);
                                v[0]._draggable = v[0]._draggable ? 0 : 1
                            } else {
                                if (!v[0]._draggable) {
                                    if (x === "hide") {
                                        v.removeClass(t[0]);
                                        y.removeClass(t[1])
                                    } else {
                                        v.addClass(t[0]);
                                        y.addClass(t[1])
                                    }
                                }
                            }
                        },
                        _overflowed: function() {
                            var x = n(this),
                                y = x.data(h),
                                u = n("#mCSB_" + y.idx),
                                w = n("#mCSB_" + y.idx + "_container"),
                                v = y.overflowed == null ? w.height() : w.outerHeight(false),
                                t = y.overflowed == null ? w.width() : w.outerWidth(false);
                            return [v > u.height(), t > u.width()]
                        },
                        _resetContentPosition: function() {
                            var x = n(this),
                                z = x.data(h),
                                y = z.opt,
                                u = n("#mCSB_" + z.idx),
                                v = n("#mCSB_" + z.idx + "_container"),
                                w = [n("#mCSB_" + z.idx + "_dragger_vertical"), n("#mCSB_" + z.idx + "_dragger_horizontal")];
                            m._stop(x);
                            if ((y.axis !== "x" && !z.overflowed[0]) || (y.axis === "y" && z.overflowed[0])) {
                                w[0].add(v).css("top", 0);
                                m._scrollTo(x, "_resetY")
                            }
                            if ((y.axis !== "y" && !z.overflowed[1]) || (y.axis === "x" && z.overflowed[1])) {
                                var t = dx = 0;
                                if (z.langDir === "rtl") {
                                    t = u.width() - v.outerWidth(false);
                                    dx = Math.abs(t / z.scrollRatio.x)
                                }
                                v.css("left", t);
                                w[1].css("left", dx);
                                m._scrollTo(x, "_resetX")
                            }
                        },
                        _bindEvents: function() {
                            var v = n(this),
                                x = v.data(h),
                                w = x.opt;
                            if (!x.bindEvents) {
                                m._draggable.call(this);
                                if (w.contentTouchScroll) {
                                    m._contentDraggable.call(this)
                                }
                                if (w.mouseWheel.enable) {
                                    function u() {
                                        t = setTimeout(function() {
                                            if (!n.event.special.mousewheel) {
                                                u()
                                            } else {
                                                clearTimeout(t);
                                                m._mousewheel.call(v[0])
                                            }
                                        }, 1000)
                                    }
                                    var t;
                                    u()
                                }
                                m._draggerRail.call(this);
                                m._wrapperScroll.call(this);
                                if (w.advanced.autoScrollOnFocus) {
                                    m._focus.call(this)
                                }
                                if (w.scrollButtons.enable) {
                                    m._buttons.call(this)
                                }
                                if (w.keyboard.enable) {
                                    m._keyboard.call(this)
                                }
                                x.bindEvents = true
                            }
                        },
                        _unbindEvents: function() {
                            var w = n(this),
                                x = w.data(h),
                                t = h + "_" + x.idx,
                                y = ".mCSB_" + x.idx + "_scrollbar",
                                v = n("#mCSB_" + x.idx + ",#mCSB_" + x.idx + "_container,#mCSB_" + x.idx + "_container_wrapper," + y + " .mCSB_draggerContainer,#mCSB_" + x.idx + "_dragger_vertical,#mCSB_" + x.idx + "_dragger_horizontal," + y + ">a"),
                                u = n("#mCSB_" + x.idx + "_container");
                            if (x.bindEvents) {
                                n(d).unbind("." + t);
                                v.each(function() {
                                    n(this).unbind("." + t)
                                });
                                clearTimeout(w[0]._focusTimeout);
                                m._delete.call(null, w[0]._focusTimeout);
                                clearTimeout(x.sequential.step);
                                m._delete.call(null, x.sequential.step);
                                clearTimeout(u[0].onCompleteTimeout);
                                m._delete.call(null, u[0].onCompleteTimeout);
                                x.bindEvents = false
                            }
                        },
                        _scrollbarVisibility: function(u) {
                            var x = n(this),
                                z = x.data(h),
                                y = z.opt,
                                t = n("#mCSB_" + z.idx + "_container_wrapper"),
                                v = t.length ? t : n("#mCSB_" + z.idx + "_container"),
                                A = [n("#mCSB_" + z.idx + "_scrollbar_vertical"), n("#mCSB_" + z.idx + "_scrollbar_horizontal")],
                                w = [A[0].find(".mCSB_dragger"), A[1].find(".mCSB_dragger")];
                            if (y.axis !== "x") {
                                if (z.overflowed[0] && !u) {
                                    A[0].add(w[0]).add(A[0].children("a")).css("display", "block");
                                    v.removeClass("mCS_no_scrollbar_y mCS_y_hidden")
                                } else {
                                    if (y.alwaysShowScrollbar) {
                                        if (y.alwaysShowScrollbar !== 2) {
                                            w[0].add(A[0].children("a")).css("display", "none")
                                        }
                                        v.removeClass("mCS_y_hidden")
                                    } else {
                                        A[0].css("display", "none");
                                        v.addClass("mCS_y_hidden")
                                    }
                                    v.addClass("mCS_no_scrollbar_y")
                                }
                            }
                            if (y.axis !== "y") {
                                if (z.overflowed[1] && !u) {
                                    A[1].add(w[1]).add(A[1].children("a")).css("display", "block");
                                    v.removeClass("mCS_no_scrollbar_x mCS_x_hidden")
                                } else {
                                    if (y.alwaysShowScrollbar) {
                                        if (y.alwaysShowScrollbar !== 2) {
                                            w[1].add(A[1].children("a")).css("display", "none")
                                        }
                                        v.removeClass("mCS_x_hidden")
                                    } else {
                                        A[1].css("display", "none");
                                        v.addClass("mCS_x_hidden")
                                    }
                                    v.addClass("mCS_no_scrollbar_x")
                                }
                            }
                            if (!z.overflowed[0] && !z.overflowed[1]) {
                                x.addClass("mCS_no_scrollbar")
                            } else {
                                x.removeClass("mCS_no_scrollbar")
                            }
                        },
                        _coordinates: function(v) {
                            var u = v.type;
                            switch (u) {
                                case "pointerdown":
                                case "MSPointerDown":
                                case "pointermove":
                                case "MSPointerMove":
                                case "pointerup":
                                case "MSPointerUp":
                                    return [v.originalEvent.pageY, v.originalEvent.pageX];
                                    break;
                                case "touchstart":
                                case "touchmove":
                                case "touchend":
                                    var w = v.originalEvent.touches[0] || v.originalEvent.changedTouches[0];
                                    return [w.pageY, w.pageX];
                                    break;
                                default:
                                    return [v.pageY, v.pageX]
                            }
                        },
                        _draggable: function() {
                            var y = n(this),
                                w = y.data(h),
                                t = w.opt,
                                v = h + "_" + w.idx,
                                x = ["mCSB_" + w.idx + "_dragger_vertical", "mCSB_" + w.idx + "_dragger_horizontal"],
                                z = n("#mCSB_" + w.idx + "_container"),
                                A = n("#" + x[0] + ",#" + x[1]),
                                E, C, D;
                            A.bind("mousedown." + v + " touchstart." + v + " pointerdown." + v + " MSPointerDown." + v, function(I) {
                                I.stopImmediatePropagation();
                                I.preventDefault();
                                if (!m._mouseBtnLeft(I)) {
                                    return
                                }
                                r = true;
                                if (o) {
                                    d.onselectstart = function() {
                                        return false
                                    }
                                }
                                B(false);
                                m._stop(y);
                                E = n(this);
                                var J = E.offset(),
                                    K = m._coordinates(I)[0] - J.top,
                                    F = m._coordinates(I)[1] - J.left,
                                    H = E.height() + J.top,
                                    G = E.width() + J.left;
                                if (K < H && K > 0 && F < G && F > 0) {
                                    C = K;
                                    D = F
                                }
                                m._onDragClasses(E, "active", t.autoExpandScrollbar)
                            }).bind("touchmove." + v, function(G) {
                                G.stopImmediatePropagation();
                                G.preventDefault();
                                var H = E.offset(),
                                    I = m._coordinates(G)[0] - H.top,
                                    F = m._coordinates(G)[1] - H.left;
                                u(C, D, I, F)
                            });
                            n(d).bind("mousemove." + v + " pointermove." + v + " MSPointerMove." + v, function(G) {
                                if (E) {
                                    var H = E.offset(),
                                        I = m._coordinates(G)[0] - H.top,
                                        F = m._coordinates(G)[1] - H.left;
                                    if (C === I) {
                                        return
                                    }
                                    u(C, D, I, F)
                                }
                            }).add(A).bind("mouseup." + v + " touchend." + v + " pointerup." + v + " MSPointerUp." + v, function(F) {
                                if (E) {
                                    m._onDragClasses(E, "active", t.autoExpandScrollbar);
                                    E = null
                                }
                                r = false;
                                if (o) {
                                    d.onselectstart = null
                                }
                                B(true)
                            });

                            function B(F) {
                                var G = z.find("iframe");
                                if (!G.length) {
                                    return
                                }
                                var H = !F ? "none" : "auto";
                                G.css("pointer-events", H)
                            }

                            function u(H, I, K, F) {
                                z[0].idleTimer = t.scrollInertia < 233 ? 250 : 0;
                                if (E.attr("id") === x[1]) {
                                    var G = "x",
                                        J = ((E[0].offsetLeft - I) + F) * w.scrollRatio.x
                                } else {
                                    var G = "y",
                                        J = ((E[0].offsetTop - H) + K) * w.scrollRatio.y
                                }
                                m._scrollTo(y, J.toString(), {
                                    dir: G,
                                    drag: true
                                })
                            }
                        },
                        _contentDraggable: function() {
                            var C = n(this),
                                O = C.data(h),
                                M = O.opt,
                                J = h + "_" + O.idx,
                                z = n("#mCSB_" + O.idx),
                                D = n("#mCSB_" + O.idx + "_container"),
                                A = [n("#mCSB_" + O.idx + "_dragger_vertical"), n("#mCSB_" + O.idx + "_dragger_horizontal")],
                                I, K, P, Q, G = [],
                                H = [],
                                L, E, y, x, N, B, v = 0,
                                u, w = M.axis === "yx" ? "none" : "all";
                            D.bind("touchstart." + J + " pointerdown." + J + " MSPointerDown." + J, function(R) {
                                if (!m._pointerTouch(R) || r) {
                                    return
                                }
                                var S = D.offset();
                                I = m._coordinates(R)[0] - S.top;
                                K = m._coordinates(R)[1] - S.left
                            }).bind("touchmove." + J + " pointermove." + J + " MSPointerMove." + J, function(U) {
                                if (!m._pointerTouch(U) || r) {
                                    return
                                }
                                U.stopImmediatePropagation();
                                E = m._getTime();
                                var T = z.offset(),
                                    W = m._coordinates(U)[0] - T.top,
                                    Y = m._coordinates(U)[1] - T.left,
                                    V = "mcsLinearOut";
                                G.push(W);
                                H.push(Y);
                                if (O.overflowed[0]) {
                                    var S = A[0].parent().height() - A[0].height(),
                                        X = ((I - W) > 0 && (W - I) > -(S * O.scrollRatio.y))
                                }
                                if (O.overflowed[1]) {
                                    var R = A[1].parent().width() - A[1].width(),
                                        Z = ((K - Y) > 0 && (Y - K) > -(R * O.scrollRatio.x))
                                }
                                if (X || Z) {
                                    U.preventDefault()
                                }
                                B = M.axis === "yx" ? [(I - W), (K - Y)] : M.axis === "x" ? [null, (K - Y)] : [(I - W), null];
                                D[0].idleTimer = 250;
                                if (O.overflowed[0]) {
                                    F(B[0], v, V, "y", "all", true)
                                }
                                if (O.overflowed[1]) {
                                    F(B[1], v, V, "x", w, true)
                                }
                            });
                            z.bind("touchstart." + J + " pointerdown." + J + " MSPointerDown." + J, function(R) {
                                if (!m._pointerTouch(R) || r) {
                                    return
                                }
                                R.stopImmediatePropagation();
                                m._stop(C);
                                L = m._getTime();
                                var S = z.offset();
                                P = m._coordinates(R)[0] - S.top;
                                Q = m._coordinates(R)[1] - S.left;
                                G = [];
                                H = []
                            }).bind("touchend." + J + " pointerup." + J + " MSPointerUp." + J, function(T) {
                                if (!m._pointerTouch(T) || r) {
                                    return
                                }
                                T.stopImmediatePropagation();
                                y = m._getTime();
                                var R = z.offset(),
                                    X = m._coordinates(T)[0] - R.top,
                                    Z = m._coordinates(T)[1] - R.left;
                                if ((y - E) > 30) {
                                    return
                                }
                                N = 1000 / (y - L);
                                var U = "mcsEaseOut",
                                    V = N < 2.5,
                                    aa = V ? [G[G.length - 2], H[H.length - 2]] : [0, 0];
                                x = V ? [(X - aa[0]), (Z - aa[1])] : [X - P, Z - Q];
                                var S = [Math.abs(x[0]), Math.abs(x[1])];
                                N = V ? [Math.abs(x[0] / 4), Math.abs(x[1] / 4)] : [N, N];
                                var Y = [Math.abs(D[0].offsetTop) - (x[0] * t((S[0] / N[0]), N[0])), Math.abs(D[0].offsetLeft) - (x[1] * t((S[1] / N[1]), N[1]))];
                                B = M.axis === "yx" ? [Y[0], Y[1]] : M.axis === "x" ? [null, Y[1]] : [Y[0], null];
                                u = [(S[0] * 4) + M.scrollInertia, (S[1] * 4) + M.scrollInertia];
                                var W = parseInt(M.contentTouchScroll) || 0;
                                B[0] = S[0] > W ? B[0] : 0;
                                B[1] = S[1] > W ? B[1] : 0;
                                if (O.overflowed[0]) {
                                    F(B[0], u[0], U, "y", w, false)
                                }
                                if (O.overflowed[1]) {
                                    F(B[1], u[1], U, "x", w, false)
                                }
                            });

                            function t(T, R) {
                                var S = [R * 1.5, R * 2, R / 1.5, R / 2];
                                if (T > 90) {
                                    return R > 4 ? S[0] : S[3]
                                } else {
                                    if (T > 60) {
                                        return R > 3 ? S[3] : S[2]
                                    } else {
                                        if (T > 30) {
                                            return R > 8 ? S[1] : R > 6 ? S[0] : R > 4 ? R : S[2]
                                        } else {
                                            return R > 8 ? R : S[3]
                                        }
                                    }
                                }
                            }

                            function F(T, V, W, S, R, U) {
                                if (!T) {
                                    return
                                }
                                m._scrollTo(C, T.toString(), {
                                    dur: V,
                                    scrollEasing: W,
                                    dir: S,
                                    overwrite: R,
                                    drag: U
                                })
                            }
                        },
                        _mousewheel: function() {
                            var A = n(this),
                                z = A.data(h);
                            if (z) {
                                var t = z.opt,
                                    w = h + "_" + z.idx,
                                    u = n("#mCSB_" + z.idx),
                                    B = [n("#mCSB_" + z.idx + "_dragger_vertical"), n("#mCSB_" + z.idx + "_dragger_horizontal")],
                                    x = n("#mCSB_" + z.idx + "_container").find("iframe"),
                                    v = u;
                                if (x.length) {
                                    x.each(function() {
                                        var C = this;
                                        if (y(C)) {
                                            v = v.add(n(C).contents().find("body"))
                                        }
                                    })
                                }
                                v.bind("mousewheel." + w, function(G, K) {
                                    m._stop(A);
                                    if (m._disableMousewheel(A, G.target)) {
                                        return
                                    }
                                    var I = t.mouseWheel.deltaFactor !== "auto" ? parseInt(t.mouseWheel.deltaFactor) : (o && G.deltaFactor < 100) ? 100 : G.deltaFactor || 100;
                                    if (t.axis === "x" || t.mouseWheel.axis === "x") {
                                        var D = "x",
                                            J = [Math.round(I * z.scrollRatio.x), parseInt(t.mouseWheel.scrollAmount)],
                                            F = t.mouseWheel.scrollAmount !== "auto" ? J[1] : J[0] >= u.width() ? u.width() * 0.9 : J[0],
                                            L = Math.abs(n("#mCSB_" + z.idx + "_container")[0].offsetLeft),
                                            H = B[1][0].offsetLeft,
                                            E = B[1].parent().width() - B[1].width(),
                                            C = G.deltaX || G.deltaY || K
                                    } else {
                                        var D = "y",
                                            J = [Math.round(I * z.scrollRatio.y), parseInt(t.mouseWheel.scrollAmount)],
                                            F = t.mouseWheel.scrollAmount !== "auto" ? J[1] : J[0] >= u.height() ? u.height() * 0.9 : J[0],
                                            L = Math.abs(n("#mCSB_" + z.idx + "_container")[0].offsetTop),
                                            H = B[0][0].offsetTop,
                                            E = B[0].parent().height() - B[0].height(),
                                            C = G.deltaY || K
                                    }
                                    if ((D === "y" && !z.overflowed[0]) || (D === "x" && !z.overflowed[1])) {
                                        return
                                    }
                                    if (t.mouseWheel.invert) {
                                        C = -C
                                    }
                                    if (t.mouseWheel.normalizeDelta) {
                                        C = C < 0 ? -1 : 1
                                    }
                                    if ((C > 0 && H !== 0) || (C < 0 && H !== E) || t.mouseWheel.preventDefault) {
                                        G.stopImmediatePropagation();
                                        G.preventDefault()
                                    }
                                    m._scrollTo(A, (L - (C * F)).toString(), {
                                        dir: D
                                    })
                                })
                            }

                            function y(D) {
                                var C = null;
                                try {
                                    var F = D.contentDocument || D.contentWindow.document;
                                    C = F.body.innerHTML
                                } catch (E) {}
                                return (C !== null)
                            }
                        },
                        _disableMousewheel: function(v, x) {
                            var t = x.nodeName.toLowerCase(),
                                u = v.data(h).opt.mouseWheel.disableOver,
                                w = ["select", "textarea"];
                            return n.inArray(t, u) > -1 && !(n.inArray(t, w) > -1 && !n(x).is(":focus"))
                        },
                        _draggerRail: function() {
                            var w = n(this),
                                x = w.data(h),
                                u = h + "_" + x.idx,
                                v = n("#mCSB_" + x.idx + "_container"),
                                y = v.parent(),
                                t = n(".mCSB_" + x.idx + "_scrollbar .mCSB_draggerContainer");
                            t.bind("touchstart." + u + " pointerdown." + u + " MSPointerDown." + u, function(z) {
                                r = true
                            }).bind("touchend." + u + " pointerup." + u + " MSPointerUp." + u, function(z) {
                                r = false
                            }).bind("click." + u, function(D) {
                                if (n(D.target).hasClass("mCSB_draggerContainer") || n(D.target).hasClass("mCSB_draggerRail")) {
                                    m._stop(w);
                                    var A = n(this),
                                        C = A.find(".mCSB_dragger");
                                    if (A.parent(".mCSB_scrollTools_horizontal").length > 0) {
                                        if (!x.overflowed[1]) {
                                            return
                                        }
                                        var z = "x",
                                            B = D.pageX > C.offset().left ? -1 : 1,
                                            E = Math.abs(v[0].offsetLeft) - (B * (y.width() * 0.9))
                                    } else {
                                        if (!x.overflowed[0]) {
                                            return
                                        }
                                        var z = "y",
                                            B = D.pageY > C.offset().top ? -1 : 1,
                                            E = Math.abs(v[0].offsetTop) - (B * (y.height() * 0.9))
                                    }
                                    m._scrollTo(w, E.toString(), {
                                        dir: z,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                            })
                        },
                        _focus: function() {
                            var v = n(this),
                                x = v.data(h),
                                w = x.opt,
                                t = h + "_" + x.idx,
                                u = n("#mCSB_" + x.idx + "_container"),
                                y = u.parent();
                            u.bind("focusin." + t, function(B) {
                                var A = n(d.activeElement),
                                    C = u.find(".mCustomScrollBox").length,
                                    z = 0;
                                if (!A.is(w.advanced.autoScrollOnFocus)) {
                                    return
                                }
                                m._stop(v);
                                clearTimeout(v[0]._focusTimeout);
                                v[0]._focusTimer = C ? (z + 17) * C : 0;
                                v[0]._focusTimeout = setTimeout(function() {
                                    var G = [A.offset().top - u.offset().top, A.offset().left - u.offset().left],
                                        F = [u[0].offsetTop, u[0].offsetLeft],
                                        D = [(F[0] + G[0] >= 0 && F[0] + G[0] < y.height() - A.outerHeight(false)), (F[1] + G[1] >= 0 && F[0] + G[1] < y.width() - A.outerWidth(false))],
                                        E = (w.axis === "yx" && !D[0] && !D[1]) ? "none" : "all";
                                    if (w.axis !== "x" && !D[0]) {
                                        m._scrollTo(v, G[0].toString(), {
                                            dir: "y",
                                            scrollEasing: "mcsEaseInOut",
                                            overwrite: E,
                                            dur: z
                                        })
                                    }
                                    if (w.axis !== "y" && !D[1]) {
                                        m._scrollTo(v, G[1].toString(), {
                                            dir: "x",
                                            scrollEasing: "mcsEaseInOut",
                                            overwrite: E,
                                            dur: z
                                        })
                                    }
                                }, v[0]._focusTimer)
                            })
                        },
                        _wrapperScroll: function() {
                            var u = n(this),
                                v = u.data(h),
                                t = h + "_" + v.idx,
                                w = n("#mCSB_" + v.idx + "_container").parent();
                            w.bind("scroll." + t, function(x) {
                                w.scrollTop(0).scrollLeft(0)
                            })
                        },
                        _buttons: function() {
                            var y = n(this),
                                A = y.data(h),
                                z = A.opt,
                                t = A.sequential,
                                v = h + "_" + A.idx,
                                x = n("#mCSB_" + A.idx + "_container"),
                                w = ".mCSB_" + A.idx + "_scrollbar",
                                u = n(w + ">a");
                            u.bind("mousedown." + v + " touchstart." + v + " pointerdown." + v + " MSPointerDown." + v + " mouseup." + v + " touchend." + v + " pointerup." + v + " MSPointerUp." + v + " mouseout." + v + " pointerout." + v + " MSPointerOut." + v + " click." + v, function(D) {
                                D.preventDefault();
                                if (!m._mouseBtnLeft(D)) {
                                    return
                                }
                                var C = n(this).attr("class");
                                t.type = z.scrollButtons.scrollType;
                                switch (D.type) {
                                    case "mousedown":
                                    case "touchstart":
                                    case "pointerdown":
                                    case "MSPointerDown":
                                        if (t.type === "stepped") {
                                            return
                                        }
                                        r = true;
                                        A.tweenRunning = false;
                                        B("on", C);
                                        break;
                                    case "mouseup":
                                    case "touchend":
                                    case "pointerup":
                                    case "MSPointerUp":
                                    case "mouseout":
                                    case "pointerout":
                                    case "MSPointerOut":
                                        if (t.type === "stepped") {
                                            return
                                        }
                                        r = false;
                                        if (t.dir) {
                                            B("off", C)
                                        }
                                        break;
                                    case "click":
                                        if (t.type !== "stepped" || A.tweenRunning) {
                                            return
                                        }
                                        B("on", C);
                                        break
                                }

                                function B(E, F) {
                                    t.scrollAmount = z.snapAmount || z.scrollButtons.scrollAmount;
                                    m._sequentialScroll.call(this, y, E, F)
                                }
                            })
                        },
                        _keyboard: function() {
                            var y = n(this),
                                x = y.data(h),
                                u = x.opt,
                                B = x.sequential,
                                w = h + "_" + x.idx,
                                v = n("#mCSB_" + x.idx),
                                A = n("#mCSB_" + x.idx + "_container"),
                                t = A.parent(),
                                z = "input,textarea,select,datalist,keygen,[contenteditable='true']";
                            v.attr("tabindex", "0").bind("blur." + w + " keydown." + w + " keyup." + w, function(H) {
                                switch (H.type) {
                                    case "blur":
                                        if (x.tweenRunning && B.dir) {
                                            C("off", null)
                                        }
                                        break;
                                    case "keydown":
                                    case "keyup":
                                        var E = H.keyCode ? H.keyCode : H.which,
                                            F = "on";
                                        if ((u.axis !== "x" && (E === 38 || E === 40)) || (u.axis !== "y" && (E === 37 || E === 39))) {
                                            if (((E === 38 || E === 40) && !x.overflowed[0]) || ((E === 37 || E === 39) && !x.overflowed[1])) {
                                                return
                                            }
                                            if (H.type === "keyup") {
                                                F = "off"
                                            }
                                            if (!n(d.activeElement).is(z)) {
                                                H.preventDefault();
                                                H.stopImmediatePropagation();
                                                C(F, E)
                                            }
                                        } else {
                                            if (E === 33 || E === 34) {
                                                if (x.overflowed[0] || x.overflowed[1]) {
                                                    H.preventDefault();
                                                    H.stopImmediatePropagation()
                                                }
                                                if (H.type === "keyup") {
                                                    m._stop(y);
                                                    var G = E === 34 ? -1 : 1;
                                                    if (u.axis === "x" || (u.axis === "yx" && x.overflowed[1] && !x.overflowed[0])) {
                                                        var D = "x",
                                                            I = Math.abs(A[0].offsetLeft) - (G * (t.width() * 0.9))
                                                    } else {
                                                        var D = "y",
                                                            I = Math.abs(A[0].offsetTop) - (G * (t.height() * 0.9))
                                                    }
                                                    m._scrollTo(y, I.toString(), {
                                                        dir: D,
                                                        scrollEasing: "mcsEaseInOut"
                                                    })
                                                }
                                            } else {
                                                if (E === 35 || E === 36) {
                                                    if (!n(d.activeElement).is(z)) {
                                                        if (x.overflowed[0] || x.overflowed[1]) {
                                                            H.preventDefault();
                                                            H.stopImmediatePropagation()
                                                        }
                                                        if (H.type === "keyup") {
                                                            if (u.axis === "x" || (u.axis === "yx" && x.overflowed[1] && !x.overflowed[0])) {
                                                                var D = "x",
                                                                    I = E === 35 ? Math.abs(t.width() - A.outerWidth(false)) : 0
                                                            } else {
                                                                var D = "y",
                                                                    I = E === 35 ? Math.abs(t.height() - A.outerHeight(false)) : 0
                                                            }
                                                            m._scrollTo(y, I.toString(), {
                                                                dir: D,
                                                                scrollEasing: "mcsEaseInOut"
                                                            })
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        break
                                }

                                function C(J, K) {
                                    B.type = u.keyboard.scrollType;
                                    B.scrollAmount = u.snapAmount || u.keyboard.scrollAmount;
                                    if (B.type === "stepped" && x.tweenRunning) {
                                        return
                                    }
                                    m._sequentialScroll.call(this, y, J, K)
                                }
                            })
                        },
                        _sequentialScroll: function(v, y, w) {
                            var A = v.data(h),
                                u = A.opt,
                                C = A.sequential,
                                B = n("#mCSB_" + A.idx + "_container"),
                                t = C.type === "stepped" ? true : false;
                            switch (y) {
                                case "on":
                                    C.dir = [(w === "mCSB_buttonRight" || w === "mCSB_buttonLeft" || w === 39 || w === 37 ? "x" : "y"), (w === "mCSB_buttonUp" || w === "mCSB_buttonLeft" || w === 38 || w === 37 ? -1 : 1)];
                                    m._stop(v);
                                    if (m._isNumeric(w) && C.type === "stepped") {
                                        return
                                    }
                                    x(t);
                                    break;
                                case "off":
                                    z();
                                    if (t || (A.tweenRunning && C.dir)) {
                                        x(true)
                                    }
                                    break
                            }

                            function x(D) {
                                var J = C.type !== "stepped",
                                    N = !D ? 1000 / 60 : J ? u.scrollInertia / 1.5 : u.scrollInertia,
                                    F = !D ? 2.5 : J ? 7.5 : 40,
                                    M = [Math.abs(B[0].offsetTop), Math.abs(B[0].offsetLeft)],
                                    I = [A.scrollRatio.y > 10 ? 10 : A.scrollRatio.y, A.scrollRatio.x > 10 ? 10 : A.scrollRatio.x],
                                    G = C.dir[0] === "x" ? M[1] + (C.dir[1] * (I[1] * F)) : M[0] + (C.dir[1] * (I[0] * F)),
                                    L = C.dir[0] === "x" ? M[1] + (C.dir[1] * parseInt(C.scrollAmount)) : M[0] + (C.dir[1] * parseInt(C.scrollAmount)),
                                    K = C.scrollAmount !== "auto" ? L : G,
                                    H = !D ? "mcsLinear" : J ? "mcsLinearOut" : "mcsEaseInOut",
                                    E = !D ? false : true;
                                if (D && N < 17) {
                                    K = C.dir[0] === "x" ? M[1] : M[0]
                                }
                                m._scrollTo(v, K.toString(), {
                                    dir: C.dir[0],
                                    scrollEasing: H,
                                    dur: N,
                                    onComplete: E
                                });
                                if (D) {
                                    C.dir = false;
                                    return
                                }
                                clearTimeout(C.step);
                                C.step = setTimeout(function() {
                                    x()
                                }, N)
                            }

                            function z() {
                                clearTimeout(C.step);
                                m._stop(v)
                            }
                        },
                        _arr: function(v) {
                            var u = n(this).data(h).opt,
                                t = [];
                            if (typeof v === "function") {
                                v = v()
                            }
                            if (!(v instanceof Array)) {
                                t[0] = v.y ? v.y : v.x || u.axis === "x" ? null : v;
                                t[1] = v.x ? v.x : v.y || u.axis === "y" ? null : v
                            } else {
                                t = v.length > 1 ? [v[0], v[1]] : u.axis === "x" ? [null, v[0]] : [v[0], null]
                            }
                            if (typeof t[0] === "function") {
                                t[0] = t[0]()
                            }
                            if (typeof t[1] === "function") {
                                t[1] = t[1]()
                            }
                            return t
                        },
                        _to: function(y, z) {
                            if (y == null || typeof y == "undefined") {
                                return
                            }
                            var F = n(this),
                                E = F.data(h),
                                x = E.opt,
                                G = n("#mCSB_" + E.idx + "_container"),
                                v = G.parent(),
                                I = typeof y;
                            if (!z) {
                                z = x.axis === "x" ? "x" : "y"
                            }
                            var u = z === "x" ? G.outerWidth(false) : G.outerHeight(false),
                                A = z === "x" ? G.offset().left : G.offset().top,
                                H = z === "x" ? G[0].offsetLeft : G[0].offsetTop,
                                C = z === "x" ? "left" : "top";
                            switch (I) {
                                case "function":
                                    return y();
                                    break;
                                case "object":
                                    if (y.nodeType) {
                                        var D = z === "x" ? n(y).offset().left : n(y).offset().top
                                    } else {
                                        if (y.jquery) {
                                            if (!y.length) {
                                                return
                                            }
                                            var D = z === "x" ? y.offset().left : y.offset().top
                                        }
                                    }
                                    return D - A;
                                    break;
                                case "string":
                                case "number":
                                    if (m._isNumeric.call(null, y)) {
                                        return Math.abs(y)
                                    } else {
                                        if (y.indexOf("%") !== -1) {
                                            return Math.abs(u * parseInt(y) / 100)
                                        } else {
                                            if (y.indexOf("-=") !== -1) {
                                                return Math.abs(H - parseInt(y.split("-=")[1]))
                                            } else {
                                                if (y.indexOf("+=") !== -1) {
                                                    var w = (H + parseInt(y.split("+=")[1]));
                                                    return w >= 0 ? 0 : Math.abs(w)
                                                } else {
                                                    if (y.indexOf("px") !== -1 && m._isNumeric.call(null, y.split("px")[0])) {
                                                        return Math.abs(y.split("px")[0])
                                                    } else {
                                                        if (y === "top" || y === "left") {
                                                            return 0
                                                        } else {
                                                            if (y === "bottom") {
                                                                return Math.abs(v.height() - G.outerHeight(false))
                                                            } else {
                                                                if (y === "right") {
                                                                    return Math.abs(v.width() - G.outerWidth(false))
                                                                } else {
                                                                    if (y === "first" || y === "last") {
                                                                        var B = G.find(":" + y),
                                                                            D = z === "x" ? n(B).offset().left : n(B).offset().top;
                                                                        return D - A
                                                                    } else {
                                                                        if (n(y).length) {
                                                                            var D = z === "x" ? n(y).offset().left : n(y).offset().top;
                                                                            return D - A
                                                                        } else {
                                                                            G.css(C, y);
                                                                            i.update.call(null, F[0]);
                                                                            return
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    break
                            }
                        },
                        _autoUpdate: function(u) {
                            var x = n(this),
                                J = x.data(h),
                                D = J.opt,
                                z = n("#mCSB_" + J.idx + "_container");
                            if (u) {
                                clearTimeout(z[0].autoUpdate);
                                m._delete.call(null, z[0].autoUpdate);
                                return
                            }
                            var w = z.parent(),
                                t = [n("#mCSB_" + J.idx + "_scrollbar_vertical"), n("#mCSB_" + J.idx + "_scrollbar_horizontal")],
                                H = function() {
                                    return [t[0].is(":visible") ? t[0].outerHeight(true) : 0, t[1].is(":visible") ? t[1].outerWidth(true) : 0]
                                },
                                I = C(),
                                B, y = [z.outerHeight(false), z.outerWidth(false), w.height(), w.width(), H()[0], H()[1]],
                                L, F = K(),
                                A;
                            G();

                            function G() {
                                clearTimeout(z[0].autoUpdate);
                                z[0].autoUpdate = setTimeout(function() {
                                    if (D.advanced.updateOnSelectorChange) {
                                        B = C();
                                        if (B !== I) {
                                            v();
                                            I = B;
                                            return
                                        }
                                    }
                                    if (D.advanced.updateOnContentResize) {
                                        L = [z.outerHeight(false), z.outerWidth(false), w.height(), w.width(), H()[0], H()[1]];
                                        if (L[0] !== y[0] || L[1] !== y[1] || L[2] !== y[2] || L[3] !== y[3] || L[4] !== y[4] || L[5] !== y[5]) {
                                            v();
                                            y = L
                                        }
                                    }
                                    if (D.advanced.updateOnImageLoad) {
                                        A = K();
                                        if (A !== F) {
                                            z.find("img").each(function() {
                                                E(this.src)
                                            });
                                            F = A
                                        }
                                    }
                                    if (D.advanced.updateOnSelectorChange || D.advanced.updateOnContentResize || D.advanced.updateOnImageLoad) {
                                        G()
                                    }
                                }, 60)
                            }

                            function K() {
                                var M = 0;
                                if (D.advanced.updateOnImageLoad) {
                                    M = z.find("img").length
                                }
                                return M
                            }

                            function E(P) {
                                var M = new Image();

                                function O(Q, R) {
                                    return function() {
                                        return R.apply(Q, arguments)
                                    }
                                }

                                function N() {
                                    this.onload = null;
                                    v()
                                }
                                M.onload = O(M, N);
                                M.src = P
                            }

                            function C() {
                                if (D.advanced.updateOnSelectorChange === true) {
                                    D.advanced.updateOnSelectorChange = "*"
                                }
                                var M = 0,
                                    N = z.find(D.advanced.updateOnSelectorChange);
                                if (D.advanced.updateOnSelectorChange && N.length > 0) {
                                    N.each(function() {
                                        M += n(this).height() + n(this).width()
                                    })
                                }
                                return M
                            }

                            function v() {
                                clearTimeout(z[0].autoUpdate);
                                i.update.call(null, x[0])
                            }
                        },
                        _snapAmount: function(v, t, u) {
                            return (Math.round(v / t) * t - u)
                        },
                        _stop: function(t) {
                            var v = t.data(h),
                                u = n("#mCSB_" + v.idx + "_container,#mCSB_" + v.idx + "_container_wrapper,#mCSB_" + v.idx + "_dragger_vertical,#mCSB_" + v.idx + "_dragger_horizontal");
                            u.each(function() {
                                m._stopTween.call(this)
                            })
                        },
                        _scrollTo: function(u, w, y) {
                            var M = u.data(h),
                                I = M.opt,
                                H = {
                                    trigger: "internal",
                                    dir: "y",
                                    scrollEasing: "mcsEaseOut",
                                    drag: false,
                                    dur: I.scrollInertia,
                                    overwrite: "all",
                                    callbacks: true,
                                    onStart: true,
                                    onUpdate: true,
                                    onComplete: true
                                },
                                y = n.extend(H, y),
                                K = [y.dur, (y.drag ? 0 : y.dur)],
                                z = n("#mCSB_" + M.idx),
                                F = n("#mCSB_" + M.idx + "_container"),
                                O = I.callbacks.onTotalScrollOffset ? m._arr.call(u, I.callbacks.onTotalScrollOffset) : [0, 0],
                                t = I.callbacks.onTotalScrollBackOffset ? m._arr.call(u, I.callbacks.onTotalScrollBackOffset) : [0, 0];
                            M.trigger = y.trigger;
                            if (w === "_resetY" && !M.contentReset.y) {
                                if (x("onOverflowYNone")) {
                                    I.callbacks.onOverflowYNone.call(u[0])
                                }
                                M.contentReset.y = 1
                            }
                            if (w === "_resetX" && !M.contentReset.x) {
                                if (x("onOverflowXNone")) {
                                    I.callbacks.onOverflowXNone.call(u[0])
                                }
                                M.contentReset.x = 1
                            }
                            if (w === "_resetY" || w === "_resetX") {
                                return
                            }
                            if ((M.contentReset.y || !u[0].mcs) && M.overflowed[0]) {
                                if (x("onOverflowY")) {
                                    I.callbacks.onOverflowY.call(u[0])
                                }
                                M.contentReset.x = null
                            }
                            if ((M.contentReset.x || !u[0].mcs) && M.overflowed[1]) {
                                if (x("onOverflowX")) {
                                    I.callbacks.onOverflowX.call(u[0])
                                }
                                M.contentReset.x = null
                            }
                            if (I.snapAmount) {
                                w = m._snapAmount(w, I.snapAmount, I.snapOffset)
                            }
                            switch (y.dir) {
                                case "x":
                                    var B = n("#mCSB_" + M.idx + "_dragger_horizontal"),
                                        D = "left",
                                        G = F[0].offsetLeft,
                                        L = [z.width() - F.outerWidth(false), B.parent().width() - B.width()],
                                        v = [w, w === 0 ? 0 : (w / M.scrollRatio.x)],
                                        P = O[1],
                                        N = t[1],
                                        E = P > 0 ? P / M.scrollRatio.x : 0,
                                        A = N > 0 ? N / M.scrollRatio.x : 0;
                                    break;
                                case "y":
                                    var B = n("#mCSB_" + M.idx + "_dragger_vertical"),
                                        D = "top",
                                        G = F[0].offsetTop,
                                        L = [z.height() - F.outerHeight(false), B.parent().height() - B.height()],
                                        v = [w, w === 0 ? 0 : (w / M.scrollRatio.y)],
                                        P = O[0],
                                        N = t[0],
                                        E = P > 0 ? P / M.scrollRatio.y : 0,
                                        A = N > 0 ? N / M.scrollRatio.y : 0;
                                    break
                            }
                            if (v[1] < 0 || (v[0] === 0 && v[1] === 0)) {
                                v = [0, 0]
                            } else {
                                if (v[1] >= L[1]) {
                                    v = [L[0], L[1]]
                                } else {
                                    v[0] = -v[0]
                                }
                            }
                            if (!u[0].mcs) {
                                J()
                            }
                            clearTimeout(F[0].onCompleteTimeout);
                            if (!M.tweenRunning && ((G === 0 && v[0] >= 0) || (G === L[0] && v[0] <= L[0]))) {
                                return
                            }
                            m._tweenTo.call(null, B[0], D, Math.round(v[1]), K[1], y.scrollEasing);
                            m._tweenTo.call(null, F[0], D, Math.round(v[0]), K[0], y.scrollEasing, y.overwrite, {
                                onStart: function() {
                                    if (y.callbacks && y.onStart && !M.tweenRunning) {
                                        if (x("onScrollStart")) {
                                            J();
                                            I.callbacks.onScrollStart.call(u[0])
                                        }
                                        M.tweenRunning = true;
                                        m._onDragClasses(B);
                                        M.cbOffsets = C()
                                    }
                                },
                                onUpdate: function() {
                                    if (y.callbacks && y.onUpdate) {
                                        if (x("whileScrolling")) {
                                            J();
                                            I.callbacks.whileScrolling.call(u[0])
                                        }
                                    }
                                },
                                onComplete: function() {
                                    if (y.callbacks && y.onComplete) {
                                        if (I.axis === "yx") {
                                            clearTimeout(F[0].onCompleteTimeout)
                                        }
                                        var Q = F[0].idleTimer || 0;
                                        F[0].onCompleteTimeout = setTimeout(function() {
                                            if (x("onScroll")) {
                                                J();
                                                I.callbacks.onScroll.call(u[0])
                                            }
                                            if (x("onTotalScroll") && v[1] >= L[1] - E && M.cbOffsets[0]) {
                                                J();
                                                I.callbacks.onTotalScroll.call(u[0])
                                            }
                                            if (x("onTotalScrollBack") && v[1] <= A && M.cbOffsets[1]) {
                                                J();
                                                I.callbacks.onTotalScrollBack.call(u[0])
                                            }
                                            M.tweenRunning = false;
                                            F[0].idleTimer = 0;
                                            m._onDragClasses(B, "hide")
                                        }, Q)
                                    }
                                }
                            });

                            function x(Q) {
                                return M && I.callbacks[Q] && typeof I.callbacks[Q] === "function"
                            }

                            function C() {
                                return [I.callbacks.alwaysTriggerOffsets || G >= L[0] + P, I.callbacks.alwaysTriggerOffsets || G <= -N]
                            }

                            function J() {
                                var S = [F[0].offsetTop, F[0].offsetLeft],
                                    T = [B[0].offsetTop, B[0].offsetLeft],
                                    Q = [F.outerHeight(false), F.outerWidth(false)],
                                    R = [z.height(), z.width()];
                                u[0].mcs = {
                                    content: F,
                                    top: S[0],
                                    left: S[1],
                                    draggerTop: T[0],
                                    draggerLeft: T[1],
                                    topPct: Math.round((100 * Math.abs(S[0])) / (Math.abs(Q[0]) - R[0])),
                                    leftPct: Math.round((100 * Math.abs(S[1])) / (Math.abs(Q[1]) - R[1])),
                                    direction: y.dir
                                }
                            }
                        },
                        _tweenTo: function(v, y, w, u, F, x, O) {
                            var O = O || {},
                                L = O.onStart || function() {},
                                G = O.onUpdate || function() {},
                                M = O.onComplete || function() {},
                                D = m._getTime(),
                                B, z = 0,
                                I = v.offsetTop,
                                J = v.style,
                                E;
                            if (y === "left") {
                                I = v.offsetLeft
                            }
                            var C = w - I;
                            v._mcsstop = 0;
                            if (x !== "none") {
                                H()
                            }
                            t();

                            function N() {
                                if (v._mcsstop) {
                                    return
                                }
                                if (!z) {
                                    L.call()
                                }
                                z = m._getTime() - D;
                                K();
                                if (z >= v._mcstime) {
                                    v._mcstime = (z > v._mcstime) ? z + B - (z - v._mcstime) : z + B - 1;
                                    if (v._mcstime < z + 1) {
                                        v._mcstime = z + 1
                                    }
                                }
                                if (v._mcstime < u) {
                                    v._mcsid = E(N)
                                } else {
                                    M.call()
                                }
                            }

                            function K() {
                                if (u > 0) {
                                    v._mcscurrVal = A(v._mcstime, I, C, u, F);
                                    J[y] = Math.round(v._mcscurrVal) + "px"
                                } else {
                                    J[y] = w + "px"
                                }
                                G.call()
                            }

                            function t() {
                                B = 1000 / 60;
                                v._mcstime = z + B;
                                E = (!f.requestAnimationFrame) ? function(P) {
                                    K();
                                    return setTimeout(P, 0.01)
                                } : f.requestAnimationFrame;
                                v._mcsid = E(N)
                            }

                            function H() {
                                if (v._mcsid == null) {
                                    return
                                }
                                if (!f.requestAnimationFrame) {
                                    clearTimeout(v._mcsid)
                                } else {
                                    f.cancelAnimationFrame(v._mcsid)
                                }
                                v._mcsid = null
                            }

                            function A(R, Q, V, U, S) {
                                switch (S) {
                                    case "linear":
                                    case "mcsLinear":
                                        return V * R / U + Q;
                                        break;
                                    case "mcsLinearOut":
                                        R /= U;
                                        R--;
                                        return V * Math.sqrt(1 - R * R) + Q;
                                        break;
                                    case "easeInOutSmooth":
                                        R /= U / 2;
                                        if (R < 1) {
                                            return V / 2 * R * R + Q
                                        }
                                        R--;
                                        return -V / 2 * (R * (R - 2) - 1) + Q;
                                        break;
                                    case "easeInOutStrong":
                                        R /= U / 2;
                                        if (R < 1) {
                                            return V / 2 * Math.pow(2, 10 * (R - 1)) + Q
                                        }
                                        R--;
                                        return V / 2 * (-Math.pow(2, -10 * R) + 2) + Q;
                                        break;
                                    case "easeInOut":
                                    case "mcsEaseInOut":
                                        R /= U / 2;
                                        if (R < 1) {
                                            return V / 2 * R * R * R + Q
                                        }
                                        R -= 2;
                                        return V / 2 * (R * R * R + 2) + Q;
                                        break;
                                    case "easeOutSmooth":
                                        R /= U;
                                        R--;
                                        return -V * (R * R * R * R - 1) + Q;
                                        break;
                                    case "easeOutStrong":
                                        return V * (-Math.pow(2, -10 * R / U) + 1) + Q;
                                        break;
                                    case "easeOut":
                                    case "mcsEaseOut":
                                    default:
                                        var T = (R /= U) * R,
                                            P = T * R;
                                        return Q + V * (0.499999999999997 * P * T + -2.5 * T * T + 5.5 * P + -6.5 * T + 4 * R)
                                }
                            }
                        },
                        _getTime: function() {
                            if (f.performance && f.performance.now) {
                                return f.performance.now()
                            } else {
                                if (f.performance && f.performance.webkitNow) {
                                    return f.performance.webkitNow()
                                } else {
                                    if (Date.now) {
                                        return Date.now()
                                    } else {
                                        return new Date().getTime()
                                    }
                                }
                            }
                        },
                        _stopTween: function() {
                            var t = this;
                            if (t._mcsid == null) {
                                return
                            }
                            if (!f.requestAnimationFrame) {
                                clearTimeout(t._mcsid)
                            } else {
                                f.cancelAnimationFrame(t._mcsid)
                            }
                            t._mcsid = null;
                            t._mcsstop = 1
                        },
                        _delete: function(u) {
                            try {
                                delete u
                            } catch (t) {
                                u = null
                            }
                        },
                        _mouseBtnLeft: function(t) {
                            return !(t.which && t.which !== 1)
                        },
                        _pointerTouch: function(v) {
                            var u = v.originalEvent.pointerType;
                            return !(u && u !== "touch" && u !== 2)
                        },
                        _isNumeric: function(t) {
                            return !isNaN(parseFloat(t)) && isFinite(t)
                        }
                    };
                n.fn[k] = function(t) {
                    if (i[t]) {
                        return i[t].apply(this, Array.prototype.slice.call(arguments, 1))
                    } else {
                        if (typeof t === "object" || !t) {
                            return i.init.apply(this, arguments)
                        } else {
                            n.error("Method " + t + " does not exist")
                        }
                    }
                };
                n[k] = function(t) {
                    if (i[t]) {
                        return i[t].apply(this, Array.prototype.slice.call(arguments, 1))
                    } else {
                        if (typeof t === "object" || !t) {
                            return i.init.apply(this, arguments)
                        } else {
                            n.error("Method " + t + " does not exist")
                        }
                    }
                };
                n[k].defaults = l;
                f[k] = true;
                n(f).load(function() {
                    n(q)[k]()
                })
            }))
        }(window, document))
    }, {}],
    6: [function(b, c, a) {
        (function(o) {
            var m = -1,
                k = -1,
                i = function(f) {
                    return parseFloat(f) || 0
                },
                h = function(g) {
                    var f = null,
                        n = [];
                    o(g).each(function() {
                        var q = o(this),
                            r = q.offset().top - i(q.css("margin-top")),
                            p = 0 < n.length ? n[n.length - 1] : null;
                        null === p ? n.push(q) : 1 >= Math.floor(Math.abs(f - r)) ? n[n.length - 1] = p.add(q) : n.push(q);
                        f = r
                    });
                    return n
                },
                l = function(g) {
                    var f = {
                        byRow: !0,
                        property: "height",
                        target: null,
                        remove: !1
                    };
                    if ("object" === typeof g) {
                        return o.extend(f, g)
                    }
                    "boolean" === typeof g ? f.byRow = g : "remove" === g && (f.remove = !0);
                    return f
                },
                d = o.fn.matchHeight = function(f) {
                    f = l(f);
                    if (f.remove) {
                        var g = this;
                        this.css(f.property, "");
                        o.each(d._groups, function(p, n) {
                            n.elements = n.elements.not(g)
                        });
                        return this
                    }
                    if (1 >= this.length && !f.target) {
                        return this
                    }
                    d._groups.push({
                        elements: this,
                        options: f
                    });
                    d._apply(this, f);
                    return this
                };
            d._groups = [];
            d._throttle = 80;
            d._maintainScroll = !1;
            d._beforeUpdate = null;
            d._afterUpdate = null;
            d._apply = function(p, t) {
                var u = l(t),
                    r = o(p),
                    q = [r],
                    n = o(window).scrollTop(),
                    s = o("html").outerHeight(!0),
                    g = r.parents().filter(":hidden");
                g.each(function() {
                    var f = o(this);
                    f.data("style-cache", f.attr("style"))
                });
                g.css("display", "block");
                u.byRow && !u.target && (r.each(function() {
                    var v = o(this),
                        f = "inline-block" === v.css("display") ? "inline-block" : "block";
                    v.data("style-cache", v.attr("style"));
                    v.css({
                        display: f,
                        "padding-top": "0",
                        "padding-bottom": "0",
                        "margin-top": "0",
                        "margin-bottom": "0",
                        "border-top-width": "0",
                        "border-bottom-width": "0",
                        height: "100px"
                    })
                }), q = h(r), r.each(function() {
                    var f = o(this);
                    f.attr("style", f.data("style-cache") || "")
                }));
                o.each(q, function(w, v) {
                    var y = o(v),
                        x = 0;
                    if (u.target) {
                        x = u.target.outerHeight(!1)
                    } else {
                        if (u.byRow && 1 >= y.length) {
                            y.css(u.property, "");
                            return
                        }
                        y.each(function() {
                            var z = o(this),
                                f = {
                                    display: "inline-block" === z.css("display") ? "inline-block" : "block"
                                };
                            f[u.property] = "";
                            z.css(f);
                            z.outerHeight(!1) > x && (x = z.outerHeight(!1));
                            z.css("display", "")
                        })
                    }
                    y.each(function() {
                        var z = o(this),
                            f = 0;
                        u.target && z.is(u.target) || ("border-box" !== z.css("box-sizing") && (f += i(z.css("border-top-width")) + i(z.css("border-bottom-width")), f += i(z.css("padding-top")) + i(z.css("padding-bottom"))), z.css(u.property, x - f))
                    })
                });
                g.each(function() {
                    var f = o(this);
                    f.attr("style", f.data("style-cache") || null)
                });
                d._maintainScroll && o(window).scrollTop(n / s * o("html").outerHeight(!0));
                return this
            };
            d._applyDataApi = function() {
                var f = {};
                o("[data-match-height], [data-mh]").each(function() {
                    var g = o(this),
                        n = g.attr("data-mh") || g.attr("data-match-height");
                    f[n] = n in f ? f[n].add(g) : g
                });
                o.each(f, function() {
                    this.matchHeight(!0)
                })
            };
            var j = function(f) {
                d._beforeUpdate && d._beforeUpdate(f, d._groups);
                o.each(d._groups, function() {
                    d._apply(this.elements, this.options)
                });
                d._afterUpdate && d._afterUpdate(f, d._groups)
            };
            d._update = function(f, g) {
                if (g && "resize" === g.type) {
                    var n = o(window).width();
                    if (n === m) {
                        return
                    }
                    m = n
                }
                f ? -1 === k && (k = setTimeout(function() {
                    j(g);
                    k = -1
                }, d._throttle)) : j(g)
            };
            o(d._applyDataApi);
            o(window).bind("load", function(f) {
                d._update(!1, f)
            });
            o(window).bind("resize orientationchange", function(f) {
                d._update(!0, f)
            })
        })(jQuery)
    }, {}],
    7: [function(b, c, a) {
        ! function(M) {
            function B() {
                var d = C();
                d !== D && (D = d, A.trigger("orientationchange"))
            }

            function P(g, d, h, l) {
                var f = h.type;
                h.type = d, M.event.dispatch.call(g, h, l), h.type = f
            }
            M.attrFn = M.attrFn || {};
            var F = navigator.userAgent.toLowerCase(),
                G = F.indexOf("chrome") > -1 && (F.indexOf("windows") > -1 || F.indexOf("macintosh") > -1 || F.indexOf("linux") > -1) && F.indexOf("mobile") < 0 && F.indexOf("android") < 0,
                I = {
                    tap_pixel_range: 5,
                    swipe_h_threshold: 50,
                    swipe_v_threshold: 50,
                    taphold_threshold: 750,
                    doubletap_int: 500,
                    touch_capable: "ontouchstart" in window && !G,
                    orientation_support: "orientation" in window && "onorientationchange" in window,
                    startevent: "ontouchstart" in window && !G ? "touchstart" : "mousedown",
                    endevent: "ontouchstart" in window && !G ? "touchend" : "mouseup",
                    moveevent: "ontouchstart" in window && !G ? "touchmove" : "mousemove",
                    tapevent: "ontouchstart" in window && !G ? "tap" : "click",
                    scrollevent: "ontouchstart" in window && !G ? "touchmove" : "scroll",
                    hold_timer: null,
                    tap_timer: null
                };
            M.isTouchCapable = function() {
                return I.touch_capable
            }, M.getStartEvent = function() {
                return I.startevent
            }, M.getEndEvent = function() {
                return I.endevent
            }, M.getMoveEvent = function() {
                return I.moveevent
            }, M.getTapEvent = function() {
                return I.tapevent
            }, M.getScrollEvent = function() {
                return I.scrollevent
            }, M.each(["tapstart", "tapend", "tapmove", "tap", "tap2", "tap3", "tap4", "singletap", "doubletap", "taphold", "swipe", "swipeup", "swiperight", "swipedown", "swipeleft", "swipeend", "scrollstart", "scrollend", "orientationchange"], function(f, d) {
                M.fn[d] = function(g) {
                    return g ? this.on(d, g) : this.trigger(d)
                }, M.attrFn[d] = !0
            }), M.event.special.tapstart = {
                setup: function() {
                    var d = this,
                        f = M(d);
                    f.on(I.startevent, function g(i) {
                        if (f.data("callee", g), i.which && 1 !== i.which) {
                            return !1
                        }
                        var l = i.originalEvent,
                            h = {
                                position: {
                                    x: I.touch_capable ? l.touches[0].screenX : i.screenX,
                                    y: I.touch_capable ? l.touches[0].screenY : i.screenY
                                },
                                offset: {
                                    x: Math.round(I.touch_capable ? l.changedTouches[0].pageX - f.offset().left : i.pageX - f.offset().left),
                                    y: Math.round(I.touch_capable ? l.changedTouches[0].pageY - f.offset().top : i.pageY - f.offset().top)
                                },
                                time: Date.now(),
                                target: i.target
                            };
                        return P(d, "tapstart", i, h), !0
                    })
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee)
                }
            }, M.event.special.tapmove = {
                setup: function() {
                    var d = this,
                        f = M(d);
                    f.on(I.moveevent, function g(i) {
                        f.data("callee", g);
                        var l = i.originalEvent,
                            h = {
                                position: {
                                    x: I.touch_capable ? l.touches[0].screenX : i.screenX,
                                    y: I.touch_capable ? l.touches[0].screenY : i.screenY
                                },
                                offset: {
                                    x: Math.round(I.touch_capable ? l.changedTouches[0].pageX - f.offset().left : i.pageX - f.offset().left),
                                    y: Math.round(I.touch_capable ? l.changedTouches[0].pageY - f.offset().top : i.pageY - f.offset().top)
                                },
                                time: Date.now(),
                                target: i.target
                            };
                        return P(d, "tapmove", i, h), !0
                    })
                },
                remove: function() {
                    M(this).off(I.moveevent, M(this).data.callee)
                }
            }, M.event.special.tapend = {
                setup: function() {
                    var d = this,
                        f = M(d);
                    f.on(I.endevent, function g(i) {
                        f.data("callee", g);
                        var l = i.originalEvent,
                            h = {
                                position: {
                                    x: I.touch_capable ? l.changedTouches[0].screenX : i.screenX,
                                    y: I.touch_capable ? l.changedTouches[0].screenY : i.screenY
                                },
                                offset: {
                                    x: Math.round(I.touch_capable ? l.changedTouches[0].pageX - f.offset().left : i.pageX - f.offset().left),
                                    y: Math.round(I.touch_capable ? l.changedTouches[0].pageY - f.offset().top : i.pageY - f.offset().top)
                                },
                                time: Date.now(),
                                target: i.target
                            };
                        return P(d, "tapend", i, h), !0
                    })
                },
                remove: function() {
                    M(this).off(I.endevent, M(this).data.callee)
                }
            }, M.event.special.taphold = {
                setup: function() {
                    var x, g = this,
                        i = M(g),
                        v = {
                            x: 0,
                            y: 0
                        },
                        y = 0,
                        d = 0;
                    i.on(I.startevent, function f(s) {
                        if (s.which && 1 !== s.which) {
                            return !1
                        }
                        i.data("tapheld", !1), x = s.target;
                        var p = s.originalEvent,
                            o = Date.now(),
                            n = {
                                x: I.touch_capable ? p.touches[0].screenX : s.screenX,
                                y: I.touch_capable ? p.touches[0].screenY : s.screenY
                            },
                            r = {
                                x: I.touch_capable ? p.touches[0].pageX - p.touches[0].target.offsetLeft : s.offsetX,
                                y: I.touch_capable ? p.touches[0].pageY - p.touches[0].target.offsetTop : s.offsetY
                            };
                        return v.x = s.originalEvent.targetTouches ? s.originalEvent.targetTouches[0].pageX : s.pageX, v.y = s.originalEvent.targetTouches ? s.originalEvent.targetTouches[0].pageY : s.pageY, y = v.x, d = v.y, I.hold_timer = window.setTimeout(function() {
                            var U = v.x - y,
                                V = v.y - d;
                            if (s.target == x && (v.x == y && v.y == d || U >= -I.tap_pixel_range && U <= I.tap_pixel_range && V >= -I.tap_pixel_range && V <= I.tap_pixel_range)) {
                                i.data("tapheld", !0);
                                var u = Date.now(),
                                    t = {
                                        x: I.touch_capable ? p.touches[0].screenX : s.screenX,
                                        y: I.touch_capable ? p.touches[0].screenY : s.screenY
                                    },
                                    S = {
                                        x: Math.round(I.touch_capable ? p.changedTouches[0].pageX - i.offset().left : s.pageX - i.offset().left),
                                        y: Math.round(I.touch_capable ? p.changedTouches[0].pageY - i.offset().top : s.pageY - i.offset().top)
                                    },
                                    R = u - o,
                                    h = {
                                        startTime: o,
                                        endTime: u,
                                        startPosition: n,
                                        startOffset: r,
                                        endPosition: t,
                                        endOffset: S,
                                        duration: R,
                                        target: s.target
                                    };
                                i.data("callee1", f), P(g, "taphold", s, h)
                            }
                        }, I.taphold_threshold), !0
                    }).on(I.endevent, function l() {
                        i.data("callee2", l), i.data("tapheld", !1), window.clearTimeout(I.hold_timer)
                    }).on(I.moveevent, function w(h) {
                        i.data("callee3", w), y = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageX : h.pageX, d = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageY : h.pageY
                    })
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee1).off(I.endevent, M(this).data.callee2).off(I.moveevent, M(this).data.callee3)
                }
            }, M.event.special.doubletap = {
                setup: function() {
                    var R, g, i, x, S = this,
                        d = M(S),
                        f = null,
                        w = !1;
                    d.on(I.startevent, function y(h) {
                        return h.which && 1 !== h.which ? !1 : (d.data("doubletapped", !1), R = h.target, d.data("callee1", y), i = h.originalEvent, f || (f = {
                            position: {
                                x: I.touch_capable ? i.touches[0].screenX : h.screenX,
                                y: I.touch_capable ? i.touches[0].screenY : h.screenY
                            },
                            offset: {
                                x: Math.round(I.touch_capable ? i.changedTouches[0].pageX - d.offset().left : h.pageX - d.offset().left),
                                y: Math.round(I.touch_capable ? i.changedTouches[0].pageY - d.offset().top : h.pageY - d.offset().top)
                            },
                            time: Date.now(),
                            target: h.target
                        }), !0)
                    }).on(I.endevent, function v(p) {
                        var l = Date.now(),
                            o = d.data("lastTouch") || l + 1,
                            n = l - o;
                        if (window.clearTimeout(g), d.data("callee2", v), n < I.doubletap_int && p.target == R && n > 100) {
                            d.data("doubletapped", !0), window.clearTimeout(I.tap_timer);
                            var r = {
                                    position: {
                                        x: I.touch_capable ? p.originalEvent.changedTouches[0].screenX : p.screenX,
                                        y: I.touch_capable ? p.originalEvent.changedTouches[0].screenY : p.screenY
                                    },
                                    offset: {
                                        x: Math.round(I.touch_capable ? i.changedTouches[0].pageX - d.offset().left : p.pageX - d.offset().left),
                                        y: Math.round(I.touch_capable ? i.changedTouches[0].pageY - d.offset().top : p.pageY - d.offset().top)
                                    },
                                    time: Date.now(),
                                    target: p.target
                                },
                                h = {
                                    firstTap: f,
                                    secondTap: r,
                                    interval: r.time - f.time
                                };
                            w || (P(S, "doubletap", p, h), f = null), w = !0, x = window.setTimeout(function() {
                                w = !1
                            }, I.doubletap_int)
                        } else {
                            d.data("lastTouch", l), g = window.setTimeout(function() {
                                f = null, window.clearTimeout(g)
                            }, I.doubletap_int, [p])
                        }
                        d.data("lastTouch", l)
                    })
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee1).off(I.endevent, M(this).data.callee2)
                }
            }, M.event.special.singletap = {
                setup: function() {
                    var d = this,
                        i = M(d),
                        u = null,
                        l = null,
                        f = {
                            x: 0,
                            y: 0
                        };
                    i.on(I.startevent, function g(n) {
                        return n.which && 1 !== n.which ? !1 : (l = Date.now(), u = n.target, i.data("callee1", g), f.x = n.originalEvent.targetTouches ? n.originalEvent.targetTouches[0].pageX : n.pageX, f.y = n.originalEvent.targetTouches ? n.originalEvent.targetTouches[0].pageY : n.pageY, !0)
                    }).on(I.endevent, function h(p) {
                        if (i.data("callee2", h), p.target == u) {
                            var o = p.originalEvent.changedTouches ? p.originalEvent.changedTouches[0].pageX : p.pageX,
                                n = p.originalEvent.changedTouches ? p.originalEvent.changedTouches[0].pageY : p.pageY;
                            I.tap_timer = window.setTimeout(function() {
                                if (!i.data("doubletapped") && !i.data("tapheld") && f.x == o && f.y == n) {
                                    var s = p.originalEvent,
                                        r = {
                                            position: {
                                                x: I.touch_capable ? s.changedTouches[0].screenX : p.screenX,
                                                y: I.touch_capable ? s.changedTouches[0].screenY : p.screenY
                                            },
                                            offset: {
                                                x: Math.round(I.touch_capable ? s.changedTouches[0].pageX - i.offset().left : p.pageX - i.offset().left),
                                                y: Math.round(I.touch_capable ? s.changedTouches[0].pageY - i.offset().top : p.pageY - i.offset().top)
                                            },
                                            time: Date.now(),
                                            target: p.target
                                        };
                                    r.time - l < I.taphold_threshold && P(d, "singletap", p, r)
                                }
                            }, I.doubletap_int)
                        }
                    })
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee1).off(I.endevent, M(this).data.callee2)
                }
            }, M.event.special.tap = {
                setup: function() {
                    var x, g, i = this,
                        v = M(i),
                        y = !1,
                        d = null,
                        f = {
                            x: 0,
                            y: 0
                        };
                    v.on(I.startevent, function l(h) {
                        return v.data("callee1", l), h.which && 1 !== h.which ? !1 : (y = !0, f.x = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageX : h.pageX, f.y = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageY : h.pageY, x = Date.now(), d = h.target, g = h.originalEvent.targetTouches ? h.originalEvent.targetTouches : [h], !0)
                    }).on(I.endevent, function w(s) {
                        v.data("callee2", w);
                        var o = s.originalEvent.targetTouches ? s.originalEvent.changedTouches[0].pageX : s.pageX,
                            n = s.originalEvent.targetTouches ? s.originalEvent.changedTouches[0].pageY : s.pageY,
                            r = f.x - o,
                            p = f.y - n;
                        if (d == s.target && y && Date.now() - x < I.taphold_threshold && (f.x == o && f.y == n || r >= -I.tap_pixel_range && r <= I.tap_pixel_range && p >= -I.tap_pixel_range && p <= I.tap_pixel_range)) {
                            for (var t = s.originalEvent, S = [], u = 0; u < g.length; u++) {
                                var R = {
                                    position: {
                                        x: I.touch_capable ? t.changedTouches[u].screenX : s.screenX,
                                        y: I.touch_capable ? t.changedTouches[u].screenY : s.screenY
                                    },
                                    offset: {
                                        x: Math.round(I.touch_capable ? t.changedTouches[u].pageX - v.offset().left : s.pageX - v.offset().left),
                                        y: Math.round(I.touch_capable ? t.changedTouches[u].pageY - v.offset().top : s.pageY - v.offset().top)
                                    },
                                    time: Date.now(),
                                    target: s.target
                                };
                                S.push(R)
                            }
                            P(i, "tap", s, S)
                        }
                    })
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee1).off(I.endevent, M(this).data.callee2)
                }
            }, M.event.special.swipe = {
                setup: function() {
                    function y(h) {
                        R = M(h.currentTarget), R.data("callee1", y), l.x = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageX : h.pageX, l.y = h.originalEvent.targetTouches ? h.originalEvent.targetTouches[0].pageY : h.pageY, x.x = l.x, x.y = l.y, d = !0;
                        var n = h.originalEvent;
                        i = {
                            position: {
                                x: I.touch_capable ? n.touches[0].screenX : h.screenX,
                                y: I.touch_capable ? n.touches[0].screenY : h.screenY
                            },
                            offset: {
                                x: Math.round(I.touch_capable ? n.changedTouches[0].pageX - R.offset().left : h.pageX - R.offset().left),
                                y: Math.round(I.touch_capable ? n.changedTouches[0].pageY - R.offset().top : h.pageY - R.offset().top)
                            },
                            time: Date.now(),
                            target: h.target
                        }
                    }

                    function w(X) {
                        R = M(X.currentTarget), R.data("callee2", w), x.x = X.originalEvent.targetTouches ? X.originalEvent.targetTouches[0].pageX : X.pageX, x.y = X.originalEvent.targetTouches ? X.originalEvent.targetTouches[0].pageY : X.pageY;
                        var h, S = R.parent().data("xthreshold") ? R.parent().data("xthreshold") : R.data("xthreshold"),
                            n = R.parent().data("ythreshold") ? R.parent().data("ythreshold") : R.data("ythreshold"),
                            s = "undefined" != typeof S && S !== !1 && parseInt(S) ? parseInt(S) : I.swipe_h_threshold,
                            r = "undefined" != typeof n && n !== !1 && parseInt(n) ? parseInt(n) : I.swipe_v_threshold;
                        if (l.y > x.y && l.y - x.y > r && (h = "swipeup"), l.x < x.x && x.x - l.x > s && (h = "swiperight"), l.y < x.y && x.y - l.y > r && (h = "swipedown"), l.x > x.x && l.x - x.x > s && (h = "swipeleft"), void 0 != h && d) {
                            l.x = 0, l.y = 0, x.x = 0, x.y = 0, d = !1;
                            var u = X.originalEvent,
                                W = {
                                    position: {
                                        x: I.touch_capable ? u.touches[0].screenX : X.screenX,
                                        y: I.touch_capable ? u.touches[0].screenY : X.screenY
                                    },
                                    offset: {
                                        x: Math.round(I.touch_capable ? u.changedTouches[0].pageX - R.offset().left : X.pageX - R.offset().left),
                                        y: Math.round(I.touch_capable ? u.changedTouches[0].pageY - R.offset().top : X.pageY - R.offset().top)
                                    },
                                    time: Date.now(),
                                    target: X.target
                                },
                                U = Math.abs(i.position.x - W.position.x),
                                V = Math.abs(i.position.y - W.position.y),
                                p = {
                                    startEvnt: i,
                                    endEvnt: W,
                                    direction: h.replace("swipe", ""),
                                    xAmount: U,
                                    yAmount: V,
                                    duration: W.time - i.time
                                };
                            f = !0, R.trigger("swipe", p).trigger(h, p)
                        }
                    }

                    function g(X) {
                        R = M(X.currentTarget);
                        var T = "";
                        if (R.data("callee3", g), f) {
                            var S = R.data("xthreshold"),
                                o = R.data("ythreshold"),
                                W = "undefined" != typeof S && S !== !1 && parseInt(S) ? parseInt(S) : I.swipe_h_threshold,
                                n = "undefined" != typeof o && o !== !1 && parseInt(o) ? parseInt(o) : I.swipe_v_threshold,
                                r = X.originalEvent,
                                p = {
                                    position: {
                                        x: I.touch_capable ? r.changedTouches[0].screenX : X.screenX,
                                        y: I.touch_capable ? r.changedTouches[0].screenY : X.screenY
                                    },
                                    offset: {
                                        x: Math.round(I.touch_capable ? r.changedTouches[0].pageX - R.offset().left : X.pageX - R.offset().left),
                                        y: Math.round(I.touch_capable ? r.changedTouches[0].pageY - R.offset().top : X.pageY - R.offset().top)
                                    },
                                    time: Date.now(),
                                    target: X.target
                                };
                            i.position.y > p.position.y && i.position.y - p.position.y > n && (T = "swipeup"), i.position.x < p.position.x && p.position.x - i.position.x > W && (T = "swiperight"), i.position.y < p.position.y && p.position.y - i.position.y > n && (T = "swipedown"), i.position.x > p.position.x && i.position.x - p.position.x > W && (T = "swipeleft");
                            var s = Math.abs(i.position.x - p.position.x),
                                V = Math.abs(i.position.y - p.position.y),
                                U = {
                                    startEvnt: i,
                                    endEvnt: p,
                                    direction: T.replace("swipe", ""),
                                    xAmount: s,
                                    yAmount: V,
                                    duration: p.time - i.time
                                };
                            R.trigger("swipeend", U)
                        }
                        d = !1, f = !1
                    }
                    var i, v = this,
                        R = M(v),
                        d = !1,
                        f = !1,
                        l = {
                            x: 0,
                            y: 0
                        },
                        x = {
                            x: 0,
                            y: 0
                        };
                    R.on(I.startevent, y), R.on(I.moveevent, w), R.on(I.endevent, g)
                },
                remove: function() {
                    M(this).off(I.startevent, M(this).data.callee1).off(I.moveevent, M(this).data.callee2).off(I.endevent, M(this).data.callee3)
                }
            }, M.event.special.scrollstart = {
                setup: function() {
                    function d(o, n) {
                        h = n, P(i, h ? "scrollstart" : "scrollend", o)
                    }
                    var h, l, i = this,
                        f = M(i);
                    f.on(I.scrollevent, function g(n) {
                        f.data("callee", g), h || d(n, !0), clearTimeout(l), l = setTimeout(function() {
                            d(n, !1)
                        }, 50)
                    })
                },
                remove: function() {
                    M(this).off(I.scrollevent, M(this).data.callee)
                }
            };
            var O, C, D, E, J, A = M(window),
                H = {
                    0: !0,
                    180: !0
                };
            if (I.orientation_support) {
                var L = window.innerWidth || A.width(),
                    K = window.innerHeight || A.height(),
                    N = 50;
                E = L > K && L - K > N, J = H[window.orientation], (E && J || !E && !J) && (H = {
                    "-90": !0,
                    90: !0
                })
            }
            M.event.special.orientationchange = O = {
                setup: function() {
                    return I.orientation_support ? !1 : (D = C(), A.on("throttledresize", B), !0)
                },
                teardown: function() {
                    return I.orientation_support ? !1 : (A.off("throttledresize", B), !0)
                },
                add: function(f) {
                    var d = f.handler;
                    f.handler = function(g) {
                        return g.orientation = C(), d.apply(this, arguments)
                    }
                }
            }, M.event.special.orientationchange.orientation = C = function() {
                var f = !0,
                    d = document.documentElement;
                return f = I.orientation_support ? H[window.orientation] : d && d.clientWidth / d.clientHeight < 1.1, f ? "portrait" : "landscape"
            }, M.event.special.throttledresize = {
                setup: function() {
                    M(this).on("resize", m)
                },
                teardown: function() {
                    M(this).off("resize", m)
                }
            };
            var z, q, Q, j = 250,
                m = function() {
                    q = Date.now(), Q = q - k, Q >= j ? (k = q, M(this).trigger("throttledresize")) : (z && window.clearTimeout(z), z = window.setTimeout(B, j - Q))
                },
                k = 0;
            M.each({
                scrollend: "scrollstart",
                swipeup: "swipe",
                swiperight: "swipe",
                swipedown: "swipe",
                swipeleft: "swipe",
                swipeend: "swipe",
                tap2: "tap"
            }, function(f, d) {
                M.event.special[f] = {
                    setup: function() {
                        M(this).on(d, M.noop)
                    }
                }
            })
        }(jQuery)
    }, {}],
    8: [function(b, c, a) {
        /*!
         * jQuery Mousewheel 3.1.12
         *
         * Copyright 2014 jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        (function(d) {
            if (typeof define === "function" && define.amd) {
                define(["jquery"], d)
            } else {
                if (typeof a === "object") {
                    c.exports = d
                } else {
                    d(jQuery)
                }
            }
        }(function(g) {
            var h = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
                o = ("onwheel" in document || document.documentMode >= 9) ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
                m = Array.prototype.slice,
                n, f;
            if (g.event.fixHooks) {
                for (var j = h.length; j;) {
                    g.event.fixHooks[h[--j]] = g.event.mouseHooks
                }
            }
            var k = g.event.special.mousewheel = {
                version: "3.1.12",
                setup: function() {
                    if (this.addEventListener) {
                        for (var q = o.length; q;) {
                            this.addEventListener(o[--q], p, false)
                        }
                    } else {
                        this.onmousewheel = p
                    }
                    g.data(this, "mousewheel-line-height", k.getLineHeight(this));
                    g.data(this, "mousewheel-page-height", k.getPageHeight(this))
                },
                teardown: function() {
                    if (this.removeEventListener) {
                        for (var q = o.length; q;) {
                            this.removeEventListener(o[--q], p, false)
                        }
                    } else {
                        this.onmousewheel = null
                    }
                    g.removeData(this, "mousewheel-line-height");
                    g.removeData(this, "mousewheel-page-height")
                },
                getLineHeight: function(q) {
                    var i = g(q),
                        r = i["offsetParent" in g.fn ? "offsetParent" : "parent"]();
                    if (!r.length) {
                        r = g("body")
                    }
                    return parseInt(r.css("fontSize"), 10) || parseInt(i.css("fontSize"), 10) || 16
                },
                getPageHeight: function(i) {
                    return g(i).height()
                },
                settings: {
                    adjustOldDeltas: true,
                    normalizeOffset: true
                }
            };
            g.fn.extend({
                mousewheel: function(i) {
                    return i ? this.bind("mousewheel", i) : this.trigger("mousewheel")
                },
                unmousewheel: function(i) {
                    return this.unbind("mousewheel", i)
                }
            });

            function p(i) {
                var s = i || window.event,
                    y = m.call(arguments, 1),
                    A = 0,
                    u = 0,
                    t = 0,
                    x = 0,
                    w = 0,
                    v = 0;
                i = g.event.fix(s);
                i.type = "mousewheel";
                if ("detail" in s) {
                    t = s.detail * -1
                }
                if ("wheelDelta" in s) {
                    t = s.wheelDelta
                }
                if ("wheelDeltaY" in s) {
                    t = s.wheelDeltaY
                }
                if ("wheelDeltaX" in s) {
                    u = s.wheelDeltaX * -1
                }
                if ("axis" in s && s.axis === s.HORIZONTAL_AXIS) {
                    u = t * -1;
                    t = 0
                }
                A = t === 0 ? u : t;
                if ("deltaY" in s) {
                    t = s.deltaY * -1;
                    A = t
                }
                if ("deltaX" in s) {
                    u = s.deltaX;
                    if (t === 0) {
                        A = u * -1
                    }
                }
                if (t === 0 && u === 0) {
                    return
                }
                if (s.deltaMode === 1) {
                    var z = g.data(this, "mousewheel-line-height");
                    A *= z;
                    t *= z;
                    u *= z
                } else {
                    if (s.deltaMode === 2) {
                        var r = g.data(this, "mousewheel-page-height");
                        A *= r;
                        t *= r;
                        u *= r
                    }
                }
                x = Math.max(Math.abs(t), Math.abs(u));
                if (!f || x < f) {
                    f = x;
                    if (d(s, x)) {
                        f /= 40
                    }
                }
                if (d(s, x)) {
                    A /= 40;
                    u /= 40;
                    t /= 40
                }
                A = Math[A >= 1 ? "floor" : "ceil"](A / f);
                u = Math[u >= 1 ? "floor" : "ceil"](u / f);
                t = Math[t >= 1 ? "floor" : "ceil"](t / f);
                if (k.settings.normalizeOffset && this.getBoundingClientRect) {
                    var q = this.getBoundingClientRect();
                    w = i.clientX - q.left;
                    v = i.clientY - q.top
                }
                i.deltaX = u;
                i.deltaY = t;
                i.deltaFactor = f;
                i.offsetX = w;
                i.offsetY = v;
                i.deltaMode = 0;
                y.unshift(i, A, u, t);
                if (n) {
                    clearTimeout(n)
                }
                n = setTimeout(l, 200);
                return (g.event.dispatch || g.event.handle).apply(this, y)
            }

            function l() {
                f = null
            }

            function d(q, i) {
                return k.settings.adjustOldDeltas && q.type === "mousewheel" && i % 120 === 0
            }
        }))
    }, {}],
    9: [function(b, c, a) {
        ! function(d) {
            "function" == typeof define && define.amd ? define(["jquery"], d) : d(jQuery)
        }(function(z) {
            function y(f) {
                var h = {},
                    g = /^jQuery\d+$/;
                return z.each(f.attributes, function(i, d) {
                    d.specified && !g.test(d.name) && (h[d.name] = d.value)
                }), h
            }

            function x(g, j) {
                var i = this,
                    h = z(i);
                if (i.value == h.attr("placeholder") && h.hasClass(n.customClass)) {
                    if (h.data("placeholder-password")) {
                        if (h = h.hide().nextAll('input[type="password"]:first').show().attr("id", h.removeAttr("id").data("placeholder-id")), g === !0) {
                            return h[0].value = j
                        }
                        h.focus()
                    } else {
                        i.value = "", h.removeClass(n.customClass), i == v() && i.select()
                    }
                }
            }

            function w() {
                var m, l = this,
                    k = z(l),
                    j = this.id;
                if ("" === l.value) {
                    if ("password" === l.type) {
                        if (!k.data("placeholder-textinput")) {
                            try {
                                m = k.clone().attr({
                                    type: "text"
                                })
                            } catch (i) {
                                m = z("<input>").attr(z.extend(y(this), {
                                    type: "text"
                                }))
                            }
                            m.removeAttr("name").data({
                                "placeholder-password": k,
                                "placeholder-id": j
                            }).bind("focus.placeholder", x), k.data({
                                "placeholder-textinput": m,
                                "placeholder-id": j
                            }).before(m)
                        }
                        k = k.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id", j).show()
                    }
                    k.addClass(n.customClass), k[0].value = k.attr("placeholder")
                } else {
                    k.removeClass(n.customClass)
                }
            }

            function v() {
                try {
                    return document.activeElement
                } catch (d) {}
            }
            var u, t, s = "[object OperaMini]" == Object.prototype.toString.call(window.operamini),
                r = "placeholder" in document.createElement("input") && !s,
                q = "placeholder" in document.createElement("textarea") && !s,
                p = z.valHooks,
                o = z.propHooks;
            if (r && q) {
                t = z.fn.placeholder = function() {
                    return this
                }, t.input = t.textarea = !0
            } else {
                var n = {};
                t = z.fn.placeholder = function(d) {
                    var h = {
                        customClass: "placeholder"
                    };
                    n = z.extend({}, h, d);
                    var g = this;
                    return g.filter((r ? "textarea" : ":input") + "[placeholder]").not("." + n.customClass).bind({
                        "focus.placeholder": x,
                        "blur.placeholder": w
                    }).data("placeholder-enabled", !0).trigger("blur.placeholder"), g
                }, t.input = r, t.textarea = q, u = {
                    get: function(f) {
                        var h = z(f),
                            g = h.data("placeholder-password");
                        return g ? g[0].value : h.data("placeholder-enabled") && h.hasClass(n.customClass) ? "" : f.value
                    },
                    set: function(d, k) {
                        var j = z(d),
                            i = j.data("placeholder-password");
                        return i ? i[0].value = k : j.data("placeholder-enabled") ? ("" === k ? (d.value = k, d != v() && w.call(d)) : j.hasClass(n.customClass) ? x.call(d, !0, k) || (d.value = k) : d.value = k, j) : d.value = k
                    }
                }, r || (p.input = u, o.value = u), q || (p.textarea = u, o.value = u), z(function() {
                    z(document).delegate("form", "submit.placeholder", function() {
                        var d = z("." + n.customClass, this).each(x);
                        setTimeout(function() {
                            d.each(w)
                        }, 10)
                    })
                }), z(window).bind("beforeunload.placeholder", function() {
                    z("." + n.customClass).each(function() {
                        this.value = ""
                    })
                })
            }
        })
    }, {}],
    10: [function(b, c, a) {
        (function(g) {
            var d = this;
            (function(i, j) {
                if (typeof define === "function" && define.amd) {
                    define(["exports"], j)
                } else {
                    if (typeof a === "object") {
                        j(a)
                    }
                }
                var h = {};
                i.PubSub = h;
                j(h)
            }((typeof window === "object" && window) || this, function(t) {
                var l = {},
                    p = -1;

                function o(v) {
                    var u;
                    for (u in v) {
                        if (v.hasOwnProperty(u)) {
                            return true
                        }
                    }
                    return false
                }

                function s(v) {
                    return function u() {
                        throw v
                    }
                }

                function i(v, w, x) {
                    try {
                        v(w, x)
                    } catch (u) {
                        setTimeout(s(u), 0)
                    }
                }

                function m(u, v, w) {
                    u(v, w)
                }

                function k(v, x, y, A) {
                    var z = l[x],
                        u = A ? m : i,
                        w;
                    if (!l.hasOwnProperty(x)) {
                        return
                    }
                    for (w in z) {
                        if (z.hasOwnProperty(w)) {
                            u(z[w], v, y)
                        }
                    }
                }

                function j(u, v, x) {
                    return function w() {
                        var z = String(u),
                            y = z.lastIndexOf(".");
                        k(u, u, v, x);
                        while (y !== -1) {
                            z = z.substr(0, y);
                            y = z.lastIndexOf(".");
                            k(u, z, v, x)
                        }
                    }
                }

                function n(w) {
                    var v = String(w),
                        x = Boolean(l.hasOwnProperty(v) && o(l[v])),
                        u = v.lastIndexOf(".");
                    while (!x && u !== -1) {
                        v = v.substr(0, u);
                        u = v.lastIndexOf(".");
                        x = Boolean(l.hasOwnProperty(v) && o(l[v]))
                    }
                    return x
                }

                function h(w, x, v, z) {
                    var y = j(w, x, z),
                        u = n(w);
                    if (!u) {
                        return false
                    }
                    if (v === true) {
                        y()
                    } else {
                        setTimeout(y, 0)
                    }
                    return true
                }
                t.publish = function(u, v) {
                    return h(u, v, false, t.immediateExceptions)
                };
                t.publishSync = function(u, v) {
                    return h(u, v, true, t.immediateExceptions)
                };
                t.subscribe = function(w, v) {
                    if (typeof v !== "function") {
                        return false
                    }
                    if (!l.hasOwnProperty(w)) {
                        l[w] = {}
                    }
                    var u = "uid_" + String(++p);
                    l[w][u] = v;
                    return u
                };
                t.clearAllSubscriptions = function q() {
                    l = {}
                };
                t.clearSubscriptions = function r(v) {
                    var u;
                    for (u in l) {
                        if (l.hasOwnProperty(u) && u.indexOf(v) === 0) {
                            delete l[u]
                        }
                    }
                };
                t.unsubscribe = function(A) {
                    var x = typeof A === "string" && l.hasOwnProperty(A),
                        z = !x && typeof A === "string",
                        B = typeof A === "function",
                        v = false,
                        u, y, w;
                    if (x) {
                        delete l[A];
                        return
                    }
                    for (u in l) {
                        if (l.hasOwnProperty(u)) {
                            y = l[u];
                            if (z && y[A]) {
                                delete y[A];
                                v = A;
                                break
                            }
                            if (B) {
                                for (w in y) {
                                    if (y.hasOwnProperty(w) && y[w] === A) {
                                        delete y[w];
                                        v = true
                                    }
                                }
                            }
                        }
                    }
                    return v
                }
            }));
            if (g.pubsub) {
                g.error("pubsub is already defined on jQuery, skipping integration of PubSubJS");
                return false
            }

            function f(h) {
                if (PubSub.hasOwnProperty(h) && typeof PubSub[h] === "function") {
                    return PubSub[h].apply(d, Array.prototype.slice.call(arguments, 1))
                } else {
                    g.error("Method " + h + " does not exist on jQuery.pubsub")
                }
            }
            f.version = PubSub.name + " " + PubSub.version;
            g.pubsub = f
        }(window.jQuery || window.Zepto))
    }, {}],
    11: [function(b, c, a) {
        b("./jq.akscroller.min.js");
        b("./jq.akcarousel.min.js");
        b("./jq.akzoom.js");
        b("./jq.cookie.js");
        b("./jquery.matchHeight-min.js");
        b("./jquery.mCustomScrollbar.js");
        b("./jquery.mobile-events.min.js");
        b("./jquery.mousewheel.js");
        b("./jquery.placeholder.min.js");
        b("./jquery.pubsub.js");
        b("./markerclusterer.js");
        b("./picturefill.js");
        b("./smartResize.js");
        b("./video.dev.js");
        b("./videojs-playlists.js")
    }, {
        "./jq.akcarousel.min.js": 1,
        "./jq.akscroller.min.js": 2,
        "./jq.akzoom.js": 3,
        "./jq.cookie.js": 4,
        "./jquery.mCustomScrollbar.js": 5,
        "./jquery.matchHeight-min.js": 6,
        "./jquery.mobile-events.min.js": 7,
        "./jquery.mousewheel.js": 8,
        "./jquery.placeholder.min.js": 9,
        "./jquery.pubsub.js": 10,
        "./markerclusterer.js": 12,
        "./picturefill.js": 13,
        "./smartResize.js": 14,
        "./video.dev.js": 15,
        "./videojs-playlists.js": 16
    }],
    12: [function(c, d, a) {
        function f(l, h, k) {
            this.extend(f, google.maps.OverlayView);
            this.map_ = l;
            this.markers_ = [];
            this.clusters_ = [];
            this.sizes = [53, 56, 66, 78, 90];
            this.styles_ = [];
            this.ready_ = false;
            var i = k || {};
            this.gridSize_ = i.gridSize || 60;
            this.minClusterSize_ = i.minimumClusterSize || 2;
            this.maxZoom_ = i.maxZoom || null;
            this.styles_ = i.styles || [];
            this.imagePath_ = i.imagePath || this.MARKER_CLUSTER_IMAGE_PATH_;
            this.imageExtension_ = i.imageExtension || this.MARKER_CLUSTER_IMAGE_EXTENSION_;
            this.zoomOnClick_ = true;
            if (i.zoomOnClick != undefined) {
                this.zoomOnClick_ = i.zoomOnClick
            }
            this.averageCenter_ = false;
            if (i.averageCenter != undefined) {
                this.averageCenter_ = i.averageCenter
            }
            this.setupStyles_();
            this.setMap(l);
            this.prevZoom_ = this.map_.getZoom();
            var j = this;
            google.maps.event.addListener(this.map_, "zoom_changed", function() {
                var n = j.map_.getZoom();
                var o = j.map_.minZoom || 0;
                var m = Math.min(j.map_.maxZoom || 100, j.map_.mapTypes[j.map_.getMapTypeId()].maxZoom);
                n = Math.min(Math.max(n, o), m);
                if (j.prevZoom_ != n) {
                    j.prevZoom_ = n;
                    j.resetViewport()
                }
            });
            google.maps.event.addListener(this.map_, "idle", function() {
                j.redraw()
            });
            if (h && (h.length || Object.keys(h).length)) {
                this.addMarkers(h, false)
            }
        }
        f.prototype.MARKER_CLUSTER_IMAGE_PATH_ = "http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m";
        f.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ = "png";
        f.prototype.extend = function(i, h) {
            return (function(j) {
                for (var k in j.prototype) {
                    this.prototype[k] = j.prototype[k]
                }
                return this
            }).apply(i, [h])
        };
        f.prototype.onAdd = function() {
            this.setReady_(true)
        };
        f.prototype.draw = function() {};
        f.prototype.setupStyles_ = function() {
            if (this.styles_.length) {
                return
            }
            for (var j = 0, h; h = this.sizes[j]; j++) {
                this.styles_.push({
                    url: this.imagePath_ + (j + 1) + "." + this.imageExtension_,
                    height: h,
                    width: h
                })
            }
        };
        f.prototype.fitMapToMarkers = function() {
            var l = this.getMarkers();
            var k = new google.maps.LatLngBounds();
            for (var j = 0, h; h = l[j]; j++) {
                k.extend(h.getPosition())
            }
            this.map_.fitBounds(k)
        };
        f.prototype.setStyles = function(h) {
            this.styles_ = h
        };
        f.prototype.getStyles = function() {
            return this.styles_
        };
        f.prototype.isZoomOnClick = function() {
            return this.zoomOnClick_
        };
        f.prototype.isAverageCenter = function() {
            return this.averageCenter_
        };
        f.prototype.getMarkers = function() {
            return this.markers_
        };
        f.prototype.getTotalMarkers = function() {
            return this.markers_.length
        };
        f.prototype.setMaxZoom = function(h) {
            this.maxZoom_ = h
        };
        f.prototype.getMaxZoom = function() {
            return this.maxZoom_
        };
        f.prototype.calculator_ = function(l, k) {
            var h = 0;
            var j = l.length;
            var i = j;
            while (i !== 0) {
                i = parseInt(i / 10, 10);
                h++
            }
            h = Math.min(h, k);
            return {
                text: j,
                index: h
            }
        };
        f.prototype.setCalculator = function(h) {
            this.calculator_ = h
        };
        f.prototype.getCalculator = function() {
            return this.calculator_
        };
        f.prototype.addMarkers = function(l, k) {
            if (l.length) {
                for (var j = 0, h; h = l[j]; j++) {
                    this.pushMarkerTo_(h)
                }
            } else {
                if (Object.keys(l).length) {
                    for (var h in l) {
                        this.pushMarkerTo_(l[h])
                    }
                }
            }
            if (!k) {
                this.redraw()
            }
        };
        f.prototype.pushMarkerTo_ = function(h) {
            h.isAdded = false;
            if (h.draggable) {
                var i = this;
                google.maps.event.addListener(h, "dragend", function() {
                    h.isAdded = false;
                    i.repaint()
                })
            }
            this.markers_.push(h)
        };
        f.prototype.addMarker = function(h, i) {
            this.pushMarkerTo_(h);
            if (!i) {
                this.redraw()
            }
        };
        f.prototype.removeMarker_ = function(j) {
            var k = -1;
            if (this.markers_.indexOf) {
                k = this.markers_.indexOf(j)
            } else {
                for (var l = 0, h; h = this.markers_[l]; l++) {
                    if (h == j) {
                        k = l;
                        break
                    }
                }
            }
            if (k == -1) {
                return false
            }
            j.setMap(null);
            this.markers_.splice(k, 1);
            return true
        };
        f.prototype.removeMarker = function(h, i) {
            var j = this.removeMarker_(h);
            if (!i && j) {
                this.resetViewport();
                this.redraw();
                return true
            } else {
                return false
            }
        };
        f.prototype.removeMarkers = function(n, k) {
            var m = false;
            for (var j = 0, h; h = n[j]; j++) {
                var l = this.removeMarker_(h);
                m = m || l
            }
            if (!k && m) {
                this.resetViewport();
                this.redraw();
                return true
            }
        };
        f.prototype.setReady_ = function(h) {
            if (!this.ready_) {
                this.ready_ = h;
                this.createClusters_()
            }
        };
        f.prototype.getTotalClusters = function() {
            return this.clusters_.length
        };
        f.prototype.getMap = function() {
            return this.map_
        };
        f.prototype.setMap = function(h) {
            this.map_ = h
        };
        f.prototype.getGridSize = function() {
            return this.gridSize_
        };
        f.prototype.setGridSize = function(h) {
            this.gridSize_ = h
        };
        f.prototype.getMinClusterSize = function() {
            return this.minClusterSize_
        };
        f.prototype.setMinClusterSize = function(h) {
            this.minClusterSize_ = h
        };
        f.prototype.getExtendedBounds = function(l) {
            var j = this.getProjection();
            var m = new google.maps.LatLng(l.getNorthEast().lat(), l.getNorthEast().lng());
            var o = new google.maps.LatLng(l.getSouthWest().lat(), l.getSouthWest().lng());
            var k = j.fromLatLngToDivPixel(m);
            k.x += this.gridSize_;
            k.y -= this.gridSize_;
            var i = j.fromLatLngToDivPixel(o);
            i.x -= this.gridSize_;
            i.y += this.gridSize_;
            var n = j.fromDivPixelToLatLng(k);
            var h = j.fromDivPixelToLatLng(i);
            l.extend(n);
            l.extend(h);
            return l
        };
        f.prototype.isMarkerInBounds_ = function(h, i) {
            return i.contains(h.getPosition())
        };
        f.prototype.clearMarkers = function() {
            this.resetViewport(true);
            this.markers_ = []
        };
        f.prototype.resetViewport = function(l) {
            for (var k = 0, h; h = this.clusters_[k]; k++) {
                h.remove()
            }
            for (var k = 0, j; j = this.markers_[k]; k++) {
                j.isAdded = false;
                if (l) {
                    j.setMap(null)
                }
            }
            this.clusters_ = []
        };
        f.prototype.repaint = function() {
            var h = this.clusters_.slice();
            this.clusters_.length = 0;
            this.resetViewport();
            this.redraw();
            window.setTimeout(function() {
                for (var k = 0, j; j = h[k]; k++) {
                    j.remove()
                }
            }, 0)
        };
        f.prototype.redraw = function() {
            this.createClusters_()
        };
        f.prototype.distanceBetweenPoints_ = function(n, l) {
            if (!n || !l) {
                return 0
            }
            var k = 6371;
            var i = (l.lat() - n.lat()) * Math.PI / 180;
            var j = (l.lng() - n.lng()) * Math.PI / 180;
            var h = Math.sin(i / 2) * Math.sin(i / 2) + Math.cos(n.lat() * Math.PI / 180) * Math.cos(l.lat() * Math.PI / 180) * Math.sin(j / 2) * Math.sin(j / 2);
            var o = 2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h));
            var m = k * o;
            return m
        };
        f.prototype.addToClosestCluster_ = function(k) {
            var p = 40000;
            var m = null;
            var o = k.getPosition();
            for (var l = 0, j; j = this.clusters_[l]; l++) {
                var h = j.getCenter();
                if (h) {
                    var n = this.distanceBetweenPoints_(h, k.getPosition());
                    if (n < p) {
                        p = n;
                        m = j
                    }
                }
            }
            if (m && m.isMarkerInClusterBounds(k)) {
                m.addMarker(k)
            } else {
                var j = new g(this);
                j.addMarker(k);
                this.clusters_.push(j)
            }
        };
        f.prototype.createClusters_ = function() {
            if (!this.ready_) {
                return
            }
            var j = new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(), this.map_.getBounds().getNorthEast());
            var l = this.getExtendedBounds(j);
            for (var k = 0, h; h = this.markers_[k]; k++) {
                if (!h.isAdded && this.isMarkerInBounds_(h, l)) {
                    this.addToClosestCluster_(h)
                }
            }
        };

        function g(h) {
            this.markerClusterer_ = h;
            this.map_ = h.getMap();
            this.gridSize_ = h.getGridSize();
            this.minClusterSize_ = h.getMinClusterSize();
            this.averageCenter_ = h.isAverageCenter();
            this.center_ = null;
            this.markers_ = [];
            this.bounds_ = null;
            this.clusterIcon_ = new b(this, h.getStyles(), h.getGridSize())
        }
        g.prototype.isMarkerAlreadyAdded = function(j) {
            if (this.markers_.indexOf) {
                return this.markers_.indexOf(j) != -1
            } else {
                for (var k = 0, h; h = this.markers_[k]; k++) {
                    if (h == j) {
                        return true
                    }
                }
            }
            return false
        };
        g.prototype.addMarker = function(k) {
            if (this.isMarkerAlreadyAdded(k)) {
                return false
            }
            if (!this.center_) {
                this.center_ = k.getPosition();
                this.calculateBounds_()
            } else {
                if (this.averageCenter_) {
                    var j = this.markers_.length + 1;
                    var o = (this.center_.lat() * (j - 1) + k.getPosition().lat()) / j;
                    var m = (this.center_.lng() * (j - 1) + k.getPosition().lng()) / j;
                    this.center_ = new google.maps.LatLng(o, m);
                    this.calculateBounds_()
                }
            }
            k.isAdded = true;
            this.markers_.push(k);
            var h = this.markers_.length;
            if (h < this.minClusterSize_ && k.getMap() != this.map_) {
                k.setMap(this.map_)
            }
            if (h == this.minClusterSize_) {
                for (var n = 0; n < h; n++) {
                    this.markers_[n].setMap(null)
                }
            }
            if (h >= this.minClusterSize_) {
                k.setMap(null)
            }
            this.updateIcon();
            return true
        };
        g.prototype.getMarkerClusterer = function() {
            return this.markerClusterer_
        };
        g.prototype.getBounds = function() {
            var k = new google.maps.LatLngBounds(this.center_, this.center_);
            var l = this.getMarkers();
            for (var j = 0, h; h = l[j]; j++) {
                k.extend(h.getPosition())
            }
            return k
        };
        g.prototype.remove = function() {
            this.clusterIcon_.remove();
            this.markers_.length = 0;
            delete this.markers_
        };
        g.prototype.getSize = function() {
            return this.markers_.length
        };
        g.prototype.getMarkers = function() {
            return this.markers_
        };
        g.prototype.getCenter = function() {
            return this.center_
        };
        g.prototype.calculateBounds_ = function() {
            var h = new google.maps.LatLngBounds(this.center_, this.center_);
            this.bounds_ = this.markerClusterer_.getExtendedBounds(h)
        };
        g.prototype.isMarkerInClusterBounds = function(h) {
            return this.bounds_.contains(h.getPosition())
        };
        g.prototype.getMap = function() {
            return this.map_
        };
        g.prototype.updateIcon = function() {
            var m = this.map_.getZoom();
            var n = this.markerClusterer_.getMaxZoom();
            if (n && m > n) {
                for (var k = 0, h; h = this.markers_[k]; k++) {
                    h.setMap(this.map_)
                }
                return
            }
            if (this.markers_.length < this.minClusterSize_) {
                this.clusterIcon_.hide();
                return
            }
            var l = this.markerClusterer_.getStyles().length;
            var j = this.markerClusterer_.getCalculator()(this.markers_, l);
            this.clusterIcon_.setCenter(this.center_);
            this.clusterIcon_.setSums(j);
            this.clusterIcon_.show()
        };

        function b(h, j, i) {
            h.getMarkerClusterer().extend(b, google.maps.OverlayView);
            this.styles_ = j;
            this.padding_ = i || 0;
            this.cluster_ = h;
            this.center_ = null;
            this.map_ = h.getMap();
            this.div_ = null;
            this.sums_ = null;
            this.visible_ = false;
            this.setMap(this.map_)
        }
        b.prototype.triggerClusterClick = function() {
            var h = this.cluster_.getMarkerClusterer();
            google.maps.event.trigger(h, "clusterclick", this.cluster_);
            if (h.isZoomOnClick()) {
                this.map_.fitBounds(this.cluster_.getBounds())
            }
        };
        b.prototype.onAdd = function() {
            this.div_ = document.createElement("DIV");
            if (this.visible_) {
                var j = this.getPosFromLatLng_(this.center_);
                this.div_.style.cssText = this.createCss(j);
                this.div_.innerHTML = this.sums_.text
            }
            var h = this.getPanes();
            h.overlayMouseTarget.appendChild(this.div_);
            var i = this;
            google.maps.event.addDomListener(this.div_, "click", function() {
                i.triggerClusterClick()
            })
        };
        b.prototype.getPosFromLatLng_ = function(i) {
            var h = this.getProjection().fromLatLngToDivPixel(i);
            h.x -= parseInt(this.width_ / 2, 10);
            h.y -= parseInt(this.height_ / 2, 10);
            return h
        };
        b.prototype.draw = function() {
            if (this.visible_) {
                var h = this.getPosFromLatLng_(this.center_);
                this.div_.style.top = h.y + "px";
                this.div_.style.left = h.x + "px"
            }
        };
        b.prototype.hide = function() {
            if (this.div_) {
                this.div_.style.display = "none"
            }
            this.visible_ = false
        };
        b.prototype.show = function() {
            if (this.div_) {
                var h = this.getPosFromLatLng_(this.center_);
                this.div_.style.cssText = this.createCss(h);
                this.div_.style.display = ""
            }
            this.visible_ = true
        };
        b.prototype.remove = function() {
            this.setMap(null)
        };
        b.prototype.onRemove = function() {
            if (this.div_ && this.div_.parentNode) {
                this.hide();
                this.div_.parentNode.removeChild(this.div_);
                this.div_ = null
            }
        };
        b.prototype.setSums = function(h) {
            this.sums_ = h;
            this.text_ = h.text;
            this.index_ = h.index;
            if (this.div_) {
                this.div_.innerHTML = h.text
            }
            this.useStyle()
        };
        b.prototype.useStyle = function() {
            var h = Math.max(0, this.sums_.index - 1);
            h = Math.min(this.styles_.length - 1, h);
            var i = this.styles_[h];
            this.url_ = i.url;
            this.height_ = i.height;
            this.width_ = i.width;
            this.textColor_ = i.textColor;
            this.anchor_ = i.anchor;
            this.textSize_ = i.textSize;
            this.backgroundPosition_ = i.backgroundPosition
        };
        b.prototype.setCenter = function(h) {
            this.center_ = h
        };
        b.prototype.createCss = function(l) {
            var k = [];
            k.push("background-image:url(" + this.url_ + ");");
            var i = this.backgroundPosition_ ? this.backgroundPosition_ : "0 0";
            k.push("background-position:" + i + ";");
            if (typeof this.anchor_ === "object") {
                if (typeof this.anchor_[0] === "number" && this.anchor_[0] > 0 && this.anchor_[0] < this.height_) {
                    k.push("height:" + (this.height_ - this.anchor_[0]) + "px; padding-top:" + this.anchor_[0] + "px;")
                } else {
                    k.push("height:" + this.height_ + "px; line-height:" + this.height_ + "px;")
                }
                if (typeof this.anchor_[1] === "number" && this.anchor_[1] > 0 && this.anchor_[1] < this.width_) {
                    k.push("width:" + (this.width_ - this.anchor_[1]) + "px; padding-left:" + this.anchor_[1] + "px;")
                } else {
                    k.push("width:" + this.width_ + "px; text-align:center;")
                }
            } else {
                k.push("height:" + this.height_ + "px; line-height:" + this.height_ + "px; width:" + this.width_ + "px; text-align:center;")
            }
            var h = this.textColor_ ? this.textColor_ : "black";
            var j = this.textSize_ ? this.textSize_ : 11;
            k.push("cursor:pointer; top:" + l.y + "px; left:" + l.x + "px; color:" + h + "; position:absolute; font-size:" + j + "px; font-family:Arial,sans-serif; font-weight:bold");
            return k.join("")
        };
        window.MarkerClusterer = f;
        f.prototype.addMarker = f.prototype.addMarker;
        f.prototype.addMarkers = f.prototype.addMarkers;
        f.prototype.clearMarkers = f.prototype.clearMarkers;
        f.prototype.fitMapToMarkers = f.prototype.fitMapToMarkers;
        f.prototype.getCalculator = f.prototype.getCalculator;
        f.prototype.getGridSize = f.prototype.getGridSize;
        f.prototype.getExtendedBounds = f.prototype.getExtendedBounds;
        f.prototype.getMap = f.prototype.getMap;
        f.prototype.getMarkers = f.prototype.getMarkers;
        f.prototype.getMaxZoom = f.prototype.getMaxZoom;
        f.prototype.getStyles = f.prototype.getStyles;
        f.prototype.getTotalClusters = f.prototype.getTotalClusters;
        f.prototype.getTotalMarkers = f.prototype.getTotalMarkers;
        f.prototype.redraw = f.prototype.redraw;
        f.prototype.removeMarker = f.prototype.removeMarker;
        f.prototype.removeMarkers = f.prototype.removeMarkers;
        f.prototype.resetViewport = f.prototype.resetViewport;
        f.prototype.repaint = f.prototype.repaint;
        f.prototype.setCalculator = f.prototype.setCalculator;
        f.prototype.setGridSize = f.prototype.setGridSize;
        f.prototype.setMaxZoom = f.prototype.setMaxZoom;
        f.prototype.onAdd = f.prototype.onAdd;
        f.prototype.draw = f.prototype.draw;
        g.prototype.getCenter = g.prototype.getCenter;
        g.prototype.getSize = g.prototype.getSize;
        g.prototype.getMarkers = g.prototype.getMarkers;
        b.prototype.onAdd = b.prototype.onAdd;
        b.prototype.draw = b.prototype.draw;
        b.prototype.onRemove = b.prototype.onRemove;
        Object.keys = Object.keys || function(j) {
            var h = [];
            for (var i in j) {
                if (j.hasOwnProperty(i)) {
                    h.push(i)
                }
            }
            return h
        }
    }, {}],
    13: [function(b, c, a) {
        /*! Picturefill - v2.3.1 - 2015-04-09
         * http://scottjehl.github.io/picturefill
         * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
        /*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
        window.matchMedia || (window.matchMedia = function() {
            var f = (window.styleMedia || window.media);
            if (!f) {
                var g = document.createElement("style"),
                    d = document.getElementsByTagName("script")[0],
                    h = null;
                g.type = "text/css";
                g.id = "matchmediajs-test";
                d.parentNode.insertBefore(g, d);
                h = ("getComputedStyle" in window) && window.getComputedStyle(g, null) || g.currentStyle;
                f = {
                    matchMedium: function(i) {
                        var j = "@media " + i + "{ #matchmediajs-test { width: 1px; } }";
                        if (g.styleSheet) {
                            g.styleSheet.cssText = j
                        } else {
                            g.textContent = j
                        }
                        return h.width === "1px"
                    }
                }
            }
            return function(i) {
                return {
                    matches: f.matchMedium(i || "all"),
                    media: i || "all"
                }
            }
        }());
        /*! Picturefill - Responsive Images that work today.
         *  Author: Scott Jehl, Filament Group, 2012 ( new proposal implemented by Shawn Jansepar )
         *  License: MIT/GPLv2
         *  Spec: http://picture.responsiveimages.org/
         */
        (function(f, k, j) {
            function g(m) {
                if (typeof c === "object" && typeof c.exports === "object") {
                    c.exports = m
                } else {
                    if (typeof define === "function" && define.amd) {
                        define("picturefill", function() {
                            return m
                        })
                    }
                }
                if (typeof f === "object") {
                    f.picturefill = m
                }
            }
            if (f.HTMLPictureElement) {
                g(function() {});
                return
            }
            k.createElement("picture");
            var d = f.picturefill || {};
            var l = /\s+\+?\d+(e\d+)?w/;
            d.ns = "picturefill";
            (function() {
                d.srcsetSupported = "srcset" in j;
                d.sizesSupported = "sizes" in j;
                d.curSrcSupported = "currentSrc" in j
            })();
            d.trim = function(m) {
                return m.trim ? m.trim() : m.replace(/^\s+|\s+$/g, "")
            };
            d.makeUrl = (function() {
                var m = k.createElement("a");
                return function(n) {
                    m.href = n;
                    return m.href
                }
            })();
            d.restrictsMixedContent = function() {
                return f.location.protocol === "https:"
            };
            d.matchesMedia = function(m) {
                return f.matchMedia && f.matchMedia(m).matches
            };
            d.getDpr = function() {
                return (f.devicePixelRatio || 1)
            };
            d.getWidthFromLength = function(n) {
                var m;
                if (!(n && n.indexOf("%") > -1 === false && (parseFloat(n) > 0 || n.indexOf("calc(") > -1))) {
                    return false
                }
                n = n.replace("vw", "%");
                if (!d.lengthEl) {
                    d.lengthEl = k.createElement("div");
                    d.lengthEl.style.cssText = "border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden";
                    d.lengthEl.className = "helper-from-picturefill-js"
                }
                d.lengthEl.style.width = "0px";
                try {
                    d.lengthEl.style.width = n
                } catch (o) {}
                k.body.appendChild(d.lengthEl);
                m = d.lengthEl.offsetWidth;
                if (m <= 0) {
                    m = false
                }
                k.body.removeChild(d.lengthEl);
                return m
            };
            d.detectTypeSupport = function(m, o) {
                var n = new f.Image();
                n.onerror = function() {
                    d.types[m] = false;
                    h()
                };
                n.onload = function() {
                    d.types[m] = n.width === 1;
                    h()
                };
                n.src = o;
                return "pending"
            };
            d.types = d.types || {};
            d.initTypeDetects = function() {
                d.types["image/jpeg"] = true;
                d.types["image/gif"] = true;
                d.types["image/png"] = true;
                d.types["image/svg+xml"] = k.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1");
                d.types["image/webp"] = d.detectTypeSupport("image/webp", "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")
            };
            d.verifyTypeSupport = function(n) {
                var m = n.getAttribute("type");
                if (m === null || m === "") {
                    return true
                } else {
                    var o = d.types[m];
                    if (typeof o === "string" && o !== "pending") {
                        d.types[m] = d.detectTypeSupport(m, o);
                        return "pending"
                    } else {
                        if (typeof o === "function") {
                            o();
                            return "pending"
                        } else {
                            return o
                        }
                    }
                }
            };
            d.parseSize = function(n) {
                var m = /(\([^)]+\))?\s*(.+)/g.exec(n);
                return {
                    media: m && m[1],
                    length: m && m[2]
                }
            };
            d.findWidthFromSourceSize = function(t) {
                var s = d.trim(t).split(/\s*,\s*/),
                    u;
                for (var p = 0, r = s.length; p < r; p++) {
                    var m = s[p],
                        q = d.parseSize(m),
                        o = q.length,
                        n = q.media;
                    if (!o) {
                        continue
                    }
                    if ((!n || d.matchesMedia(n)) && (u = d.getWidthFromLength(o))) {
                        break
                    }
                }
                return u || Math.max(f.innerWidth || 0, k.documentElement.clientWidth)
            };
            d.parseSrcset = function(r) {
                var p = [];
                while (r !== "") {
                    r = r.replace(/^\s+/g, "");
                    var s = r.search(/\s/g),
                        n, q = null;
                    if (s !== -1) {
                        n = r.slice(0, s);
                        var o = n.slice(-1);
                        if (o === "," || n === "") {
                            n = n.replace(/,+$/, "");
                            q = ""
                        }
                        r = r.slice(s + 1);
                        if (q === null) {
                            var m = r.indexOf(",");
                            if (m !== -1) {
                                q = r.slice(0, m);
                                r = r.slice(m + 1)
                            } else {
                                q = r;
                                r = ""
                            }
                        }
                    } else {
                        n = r;
                        r = ""
                    }
                    if (n || q) {
                        p.push({
                            url: n,
                            descriptor: q
                        })
                    }
                }
                return p
            };
            d.parseDescriptor = function(m, t) {
                var w = t || "100vw",
                    u = m && m.replace(/(^\s+|\s+$)/g, ""),
                    o = d.findWidthFromSourceSize(w),
                    s;
                if (u) {
                    var n = u.split(" ");
                    for (var p = n.length - 1; p >= 0; p--) {
                        var v = n[p],
                            q = v && v.slice(v.length - 1);
                        if ((q === "h" || q === "w") && !d.sizesSupported) {
                            s = parseFloat((parseInt(v, 10) / o))
                        } else {
                            if (q === "x") {
                                var r = v && parseFloat(v, 10);
                                s = r && !isNaN(r) ? r : 1
                            }
                        }
                    }
                }
                return s || 1
            };
            d.getCandidatesFromSourceSet = function(s, p) {
                var r = d.parseSrcset(s),
                    q = [];
                for (var n = 0, m = r.length; n < m; n++) {
                    var o = r[n];
                    q.push({
                        url: o.url,
                        resolution: d.parseDescriptor(o.descriptor, p)
                    })
                }
                return q
            };
            d.dodgeSrcset = function(m) {
                if (m.srcset) {
                    m[d.ns].srcset = m.srcset;
                    m.srcset = "";
                    m.setAttribute("data-pfsrcset", m[d.ns].srcset)
                }
            };
            d.processSourceSet = function(m) {
                var p = m.getAttribute("srcset"),
                    n = m.getAttribute("sizes"),
                    o = [];
                if (m.nodeName.toUpperCase() === "IMG" && m[d.ns] && m[d.ns].srcset) {
                    p = m[d.ns].srcset
                }
                if (p) {
                    o = d.getCandidatesFromSourceSet(p, n)
                }
                return o
            };
            d.backfaceVisibilityFix = function(m) {
                var o = m.style || {},
                    p = "webkitBackfaceVisibility" in o,
                    n = o.zoom;
                if (p) {
                    o.zoom = ".999";
                    p = m.offsetWidth;
                    o.zoom = n
                }
            };
            d.setIntrinsicSize = (function() {
                var m = {};
                var n = function(o, q, p) {
                    if (q) {
                        o.setAttribute("width", parseInt(q / p, 10))
                    }
                };
                return function(o, q) {
                    var p;
                    if (!o[d.ns] || f.pfStopIntrinsicSize) {
                        return
                    }
                    if (o[d.ns].dims === undefined) {
                        o[d.ns].dims = o.getAttribute("width") || o.getAttribute("height")
                    }
                    if (o[d.ns].dims) {
                        return
                    }
                    if (q.url in m) {
                        n(o, m[q.url], q.resolution)
                    } else {
                        p = k.createElement("img");
                        p.onload = function() {
                            m[q.url] = p.width;
                            if (!m[q.url]) {
                                try {
                                    k.body.appendChild(p);
                                    m[q.url] = p.width || p.offsetWidth;
                                    k.body.removeChild(p)
                                } catch (r) {}
                            }
                            if (o.src === q.url) {
                                n(o, m[q.url], q.resolution)
                            }
                            o = null;
                            p.onload = null;
                            p = null
                        };
                        p.src = q.url
                    }
                }
            })();
            d.applyBestCandidate = function(r, m) {
                var o, p, q;
                r.sort(d.ascendingSort);
                p = r.length;
                q = r[p - 1];
                for (var n = 0; n < p; n++) {
                    o = r[n];
                    if (o.resolution >= d.getDpr()) {
                        q = o;
                        break
                    }
                }
                if (q) {
                    q.url = d.makeUrl(q.url);
                    if (m.src !== q.url) {
                        if (d.restrictsMixedContent() && q.url.substr(0, "http:".length).toLowerCase() === "http:") {
                            if (window.console !== undefined) {
                                console.warn("Blocked mixed content image " + q.url)
                            }
                        } else {
                            m.src = q.url;
                            if (!d.curSrcSupported) {
                                m.currentSrc = m.src
                            }
                            d.backfaceVisibilityFix(m)
                        }
                    }
                    d.setIntrinsicSize(m, q)
                }
            };
            d.ascendingSort = function(n, m) {
                return n.resolution - m.resolution
            };
            d.removeVideoShim = function(p) {
                var n = p.getElementsByTagName("video");
                if (n.length) {
                    var o = n[0],
                        m = o.getElementsByTagName("source");
                    while (m.length) {
                        p.insertBefore(m[0], o)
                    }
                    o.parentNode.removeChild(o)
                }
            };
            d.getAllElements = function() {
                var n = [],
                    q = k.getElementsByTagName("img");
                for (var o = 0, m = q.length; o < m; o++) {
                    var p = q[o];
                    if (p.parentNode.nodeName.toUpperCase() === "PICTURE" || (p.getAttribute("srcset") !== null) || p[d.ns] && p[d.ns].srcset !== null) {
                        n.push(p)
                    }
                }
                return n
            };
            d.getMatch = function(s, r) {
                var o = r.childNodes,
                    t;
                for (var q = 0, u = o.length; q < u; q++) {
                    var n = o[q];
                    if (n.nodeType !== 1) {
                        continue
                    }
                    if (n === s) {
                        return t
                    }
                    if (n.nodeName.toUpperCase() !== "SOURCE") {
                        continue
                    }
                    if (n.getAttribute("src") !== null && typeof console !== undefined) {
                        console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.")
                    }
                    var p = n.getAttribute("media");
                    if (!n.getAttribute("srcset")) {
                        continue
                    }
                    if ((!p || d.matchesMedia(p))) {
                        var m = d.verifyTypeSupport(n);
                        if (m === true) {
                            t = n;
                            break
                        } else {
                            if (m === "pending") {
                                return false
                            }
                        }
                    }
                }
                return t
            };

            function h(n) {
                var m, p, s, u, r, t = n || {};
                m = t.elements || d.getAllElements();
                for (var q = 0, o = m.length; q < o; q++) {
                    p = m[q];
                    s = p.parentNode;
                    u = undefined;
                    r = undefined;
                    if (p.nodeName.toUpperCase() !== "IMG") {
                        continue
                    }
                    if (!p[d.ns]) {
                        p[d.ns] = {}
                    }
                    if (!t.reevaluate && p[d.ns].evaluated) {
                        continue
                    }
                    if (s && s.nodeName.toUpperCase() === "PICTURE") {
                        d.removeVideoShim(s);
                        u = d.getMatch(p, s);
                        if (u === false) {
                            continue
                        }
                    } else {
                        u = undefined
                    }
                    if ((s && s.nodeName.toUpperCase() === "PICTURE") || (!d.sizesSupported && (p.srcset && l.test(p.srcset)))) {
                        d.dodgeSrcset(p)
                    }
                    if (u) {
                        r = d.processSourceSet(u);
                        d.applyBestCandidate(r, p)
                    } else {
                        r = d.processSourceSet(p);
                        if (p.srcset === undefined || p[d.ns].srcset) {
                            d.applyBestCandidate(r, p)
                        }
                    }
                    p[d.ns].evaluated = true
                }
            }

            function i() {
                d.initTypeDetects();
                h();
                var n = setInterval(function() {
                    h();
                    if (/^loaded|^i|^c/.test(k.readyState)) {
                        clearInterval(n);
                        return
                    }
                }, 250);
                var m;
                var p = function() {
                    h({
                        reevaluate: true
                    })
                };

                function o() {
                    clearTimeout(m);
                    m = setTimeout(p, 60)
                }
                if (f.addEventListener) {
                    f.addEventListener("resize", o, false)
                } else {
                    if (f.attachEvent) {
                        f.attachEvent("onresize", o)
                    }
                }
            }
            i();
            h._ = d;
            g(h)
        })(window, window.document, new window.Image())
    }, {}],
    14: [function(b, c, a) {
        (function(j, f, i, h) {
            var g = function(m, d, k) {
                var n;
                return function l() {
                    var q = this,
                        p = arguments;

                    function o() {
                        if (!k) {
                            m.apply(q, p);
                            n = null
                        }
                    }
                    if (n) {
                        clearTimeout(n)
                    } else {
                        if (k) {
                            m.apply(q, p)
                        }
                    }
                    n = setTimeout(o, d || 100)
                }
            };
            i.fn[h] = function(d) {
                return d ? this.bind("resize", g(d)) : this.trigger(h)
            }
        }(document, window, window.jQuery || window.Zepto, "smartresize"))
    }, {}],
    15: [function(require, module, exports) {
        document.createElement("video");
        document.createElement("audio");
        document.createElement("track");
        var vjs = function(id, options, ready) {
            var tag;
            if (typeof id === "string") {
                if (id.indexOf("#") === 0) {
                    id = id.slice(1)
                }
                if (vjs.players[id]) {
                    if (options) {
                        vjs.log.warn('Player "' + id + '" is already initialised. Options will not be applied.')
                    }
                    if (ready) {
                        vjs.players[id].ready(ready)
                    }
                    return vjs.players[id]
                } else {
                    tag = vjs.el(id)
                }
            } else {
                tag = id
            }
            if (!tag || !tag.nodeName) {
                throw new TypeError("The element or ID supplied is not valid. (videojs)")
            }
            return tag.player || new vjs.Player(tag, options, ready)
        };
        var videojs = window.videojs = vjs;
        vjs.CDN_VERSION = "4.12";
        vjs.ACCESS_PROTOCOL = ("https:" == document.location.protocol ? "https://" : "http://");
        vjs.VERSION = "4.12.5";
        vjs.options = {
            techOrder: ["html5", "flash"],
            html5: {},
            flash: {},
            width: 300,
            height: 150,
            defaultVolume: 0,
            playbackRates: [],
            inactivityTimeout: 2000,
            children: {
                mediaLoader: {},
                posterImage: {},
                loadingSpinner: {},
                textTrackDisplay: {},
                bigPlayButton: {},
                controlBar: {},
                errorDisplay: {},
                textTrackSettings: {}
            },
            language: document.getElementsByTagName("html")[0].getAttribute("lang") || navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language || "en",
            languages: {},
            notSupportedMessage: "No compatible source was found for this video."
        };
        if (vjs.CDN_VERSION !== "GENERATED_CDN_VSN") {
            videojs.options.flash["swf"] = vjs.ACCESS_PROTOCOL + "vjs.zencdn.net/" + vjs.CDN_VERSION + "/video-js.swf"
        }
        vjs.addLanguage = function(code, data) {
            if (vjs.options.languages[code] !== undefined) {
                vjs.options.languages[code] = vjs.util.mergeOptions(vjs.options.languages[code], data)
            } else {
                vjs.options.languages[code] = data
            }
            return vjs.options.languages
        };
        vjs.players = {};
        /*!
         * Custom Universal Module Definition (UMD)
         *
         * Video.js will never be a non-browser lib so we can simplify UMD a bunch and
         * still support requirejs and browserify. This also needs to be closure
         * compiler compatible, so string keys are used.
         */
        if (typeof define === "function" && define.amd) {
            define("videojs", [], function() {
                return videojs
            })
        } else {
            if (typeof exports === "object" && typeof module === "object") {
                module.exports = videojs
            }
        }
        vjs.CoreObject = vjs.CoreObject = function() {};
        vjs.CoreObject.extend = function(props) {
            var init, subObj;
            props = props || {};
            init = props.init || props.init || this.prototype.init || this.prototype.init || function() {};
            subObj = function() {
                init.apply(this, arguments)
            };
            subObj.prototype = vjs.obj.create(this.prototype);
            subObj.prototype.constructor = subObj;
            subObj.extend = vjs.CoreObject.extend;
            subObj.create = vjs.CoreObject.create;
            for (var name in props) {
                if (props.hasOwnProperty(name)) {
                    subObj.prototype[name] = props[name]
                }
            }
            return subObj
        };
        vjs.CoreObject.create = function() {
            var inst = vjs.obj.create(this.prototype);
            this.apply(inst, arguments);
            return inst
        };
        vjs.on = function(elem, type, fn) {
            if (vjs.obj.isArray(type)) {
                return _handleMultipleEvents(vjs.on, elem, type, fn)
            }
            var data = vjs.getData(elem);
            if (!data.handlers) {
                data.handlers = {}
            }
            if (!data.handlers[type]) {
                data.handlers[type] = []
            }
            if (!fn.guid) {
                fn.guid = vjs.guid++
            }
            data.handlers[type].push(fn);
            if (!data.dispatcher) {
                data.disabled = false;
                data.dispatcher = function(event) {
                    if (data.disabled) {
                        return
                    }
                    event = vjs.fixEvent(event);
                    var handlers = data.handlers[event.type];
                    if (handlers) {
                        var handlersCopy = handlers.slice(0);
                        for (var m = 0, n = handlersCopy.length; m < n; m++) {
                            if (event.isImmediatePropagationStopped()) {
                                break
                            } else {
                                handlersCopy[m].call(elem, event)
                            }
                        }
                    }
                }
            }
            if (data.handlers[type].length == 1) {
                if (elem.addEventListener) {
                    elem.addEventListener(type, data.dispatcher, false)
                } else {
                    if (elem.attachEvent) {
                        elem.attachEvent("on" + type, data.dispatcher)
                    }
                }
            }
        };
        vjs.off = function(elem, type, fn) {
            if (!vjs.hasData(elem)) {
                return
            }
            var data = vjs.getData(elem);
            if (!data.handlers) {
                return
            }
            if (vjs.obj.isArray(type)) {
                return _handleMultipleEvents(vjs.off, elem, type, fn)
            }
            var removeType = function(t) {
                data.handlers[t] = [];
                vjs.cleanUpEvents(elem, t)
            };
            if (!type) {
                for (var t in data.handlers) {
                    removeType(t)
                }
                return
            }
            var handlers = data.handlers[type];
            if (!handlers) {
                return
            }
            if (!fn) {
                removeType(type);
                return
            }
            if (fn.guid) {
                for (var n = 0; n < handlers.length; n++) {
                    if (handlers[n].guid === fn.guid) {
                        handlers.splice(n--, 1)
                    }
                }
            }
            vjs.cleanUpEvents(elem, type)
        };
        vjs.cleanUpEvents = function(elem, type) {
            var data = vjs.getData(elem);
            if (data.handlers[type].length === 0) {
                delete data.handlers[type];
                if (elem.removeEventListener) {
                    elem.removeEventListener(type, data.dispatcher, false)
                } else {
                    if (elem.detachEvent) {
                        elem.detachEvent("on" + type, data.dispatcher)
                    }
                }
            }
            if (vjs.isEmpty(data.handlers)) {
                delete data.handlers;
                delete data.dispatcher;
                delete data.disabled
            }
            if (vjs.isEmpty(data)) {
                vjs.removeData(elem)
            }
        };
        vjs.fixEvent = function(event) {
            function returnTrue() {
                return true
            }

            function returnFalse() {
                return false
            }
            if (!event || !event.isPropagationStopped) {
                var old = event || window.event;
                event = {};
                for (var key in old) {
                    if (key !== "layerX" && key !== "layerY" && key !== "keyLocation") {
                        if (!(key == "returnValue" && old.preventDefault)) {
                            event[key] = old[key]
                        }
                    }
                }
                if (!event.target) {
                    event.target = event.srcElement || document
                }
                event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;
                event.preventDefault = function() {
                    if (old.preventDefault) {
                        old.preventDefault()
                    }
                    event.returnValue = false;
                    event.isDefaultPrevented = returnTrue;
                    event.defaultPrevented = true
                };
                event.isDefaultPrevented = returnFalse;
                event.defaultPrevented = false;
                event.stopPropagation = function() {
                    if (old.stopPropagation) {
                        old.stopPropagation()
                    }
                    event.cancelBubble = true;
                    event.isPropagationStopped = returnTrue
                };
                event.isPropagationStopped = returnFalse;
                event.stopImmediatePropagation = function() {
                    if (old.stopImmediatePropagation) {
                        old.stopImmediatePropagation()
                    }
                    event.isImmediatePropagationStopped = returnTrue;
                    event.stopPropagation()
                };
                event.isImmediatePropagationStopped = returnFalse;
                if (event.clientX != null) {
                    var doc = document.documentElement,
                        body = document.body;
                    event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);
                    event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)
                }
                event.which = event.charCode || event.keyCode;
                if (event.button != null) {
                    event.button = (event.button & 1 ? 0 : (event.button & 4 ? 1 : (event.button & 2 ? 2 : 0)))
                }
            }
            return event
        };
        vjs.trigger = function(elem, event) {
            var elemData = (vjs.hasData(elem)) ? vjs.getData(elem) : {};
            var parent = elem.parentNode || elem.ownerDocument;
            if (typeof event === "string") {
                event = {
                    type: event,
                    target: elem
                }
            }
            event = vjs.fixEvent(event);
            if (elemData.dispatcher) {
                elemData.dispatcher.call(elem, event)
            }
            if (parent && !event.isPropagationStopped() && event.bubbles !== false) {
                vjs.trigger(parent, event)
            } else {
                if (!parent && !event.defaultPrevented) {
                    var targetData = vjs.getData(event.target);
                    if (event.target[event.type]) {
                        targetData.disabled = true;
                        if (typeof event.target[event.type] === "function") {
                            event.target[event.type]()
                        }
                        targetData.disabled = false
                    }
                }
            }
            return !event.defaultPrevented
        };
        vjs.one = function(elem, type, fn) {
            if (vjs.obj.isArray(type)) {
                return _handleMultipleEvents(vjs.one, elem, type, fn)
            }
            var func = function() {
                vjs.off(elem, type, func);
                fn.apply(this, arguments)
            };
            func.guid = fn.guid = fn.guid || vjs.guid++;
            vjs.on(elem, type, func)
        };

        function _handleMultipleEvents(fn, elem, type, callback) {
            vjs.arr.forEach(type, function(type) {
                fn(elem, type, callback)
            })
        }
        var hasOwnProp = Object.prototype.hasOwnProperty;
        vjs.createEl = function(tagName, properties) {
            var el;
            tagName = tagName || "div";
            properties = properties || {};
            el = document.createElement(tagName);
            vjs.obj.each(properties, function(propName, val) {
                if (propName.indexOf("aria-") !== -1 || propName == "role") {
                    el.setAttribute(propName, val)
                } else {
                    el[propName] = val
                }
            });
            return el
        };
        vjs.capitalize = function(string) {
            return string.charAt(0).toUpperCase() + string.slice(1)
        };
        vjs.obj = {};
        vjs.obj.create = Object.create || function(obj) {
            function F() {}
            F.prototype = obj;
            return new F()
        };
        vjs.obj.each = function(obj, fn, context) {
            for (var key in obj) {
                if (hasOwnProp.call(obj, key)) {
                    fn.call(context || this, key, obj[key])
                }
            }
        };
        vjs.obj.merge = function(obj1, obj2) {
            if (!obj2) {
                return obj1
            }
            for (var key in obj2) {
                if (hasOwnProp.call(obj2, key)) {
                    obj1[key] = obj2[key]
                }
            }
            return obj1
        };
        vjs.obj.deepMerge = function(obj1, obj2) {
            var key, val1, val2;
            obj1 = vjs.obj.copy(obj1);
            for (key in obj2) {
                if (hasOwnProp.call(obj2, key)) {
                    val1 = obj1[key];
                    val2 = obj2[key];
                    if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {
                        obj1[key] = vjs.obj.deepMerge(val1, val2)
                    } else {
                        obj1[key] = obj2[key]
                    }
                }
            }
            return obj1
        };
        vjs.obj.copy = function(obj) {
            return vjs.obj.merge({}, obj)
        };
        vjs.obj.isPlain = function(obj) {
            return !!obj && typeof obj === "object" && obj.toString() === "[object Object]" && obj.constructor === Object
        };
        vjs.obj.isArray = Array.isArray || function(arr) {
            return Object.prototype.toString.call(arr) === "[object Array]"
        };
        vjs.isNaN = function(num) {
            return num !== num
        };
        vjs.bind = function(context, fn, uid) {
            if (!fn.guid) {
                fn.guid = vjs.guid++
            }
            var ret = function() {
                return fn.apply(context, arguments)
            };
            ret.guid = (uid) ? uid + "_" + fn.guid : fn.guid;
            return ret
        };
        vjs.cache = {};
        vjs.guid = 1;
        vjs.expando = "vdata" + (new Date()).getTime();
        vjs.getData = function(el) {
            var id = el[vjs.expando];
            if (!id) {
                id = el[vjs.expando] = vjs.guid++
            }
            if (!vjs.cache[id]) {
                vjs.cache[id] = {}
            }
            return vjs.cache[id]
        };
        vjs.hasData = function(el) {
            var id = el[vjs.expando];
            return !(!id || vjs.isEmpty(vjs.cache[id]))
        };
        vjs.removeData = function(el) {
            var id = el[vjs.expando];
            if (!id) {
                return
            }
            delete vjs.cache[id];
            try {
                delete el[vjs.expando]
            } catch (e) {
                if (el.removeAttribute) {
                    el.removeAttribute(vjs.expando)
                } else {
                    el[vjs.expando] = null
                }
            }
        };
        vjs.isEmpty = function(obj) {
            for (var prop in obj) {
                if (obj[prop] !== null) {
                    return false
                }
            }
            return true
        };
        vjs.hasClass = function(element, classToCheck) {
            return ((" " + element.className + " ").indexOf(" " + classToCheck + " ") !== -1)
        };
        vjs.addClass = function(element, classToAdd) {
            if (!vjs.hasClass(element, classToAdd)) {
                element.className = element.className === "" ? classToAdd : element.className + " " + classToAdd
            }
        };
        vjs.removeClass = function(element, classToRemove) {
            var classNames, i;
            if (!vjs.hasClass(element, classToRemove)) {
                return
            }
            classNames = element.className.split(" ");
            for (i = classNames.length - 1; i >= 0; i--) {
                if (classNames[i] === classToRemove) {
                    classNames.splice(i, 1)
                }
            }
            element.className = classNames.join(" ")
        };
        vjs.TEST_VID = vjs.createEl("video");
        (function() {
            var track = document.createElement("track");
            track.kind = "captions";
            track.srclang = "en";
            track.label = "English";
            vjs.TEST_VID.appendChild(track)
        })();
        vjs.USER_AGENT = navigator.userAgent;
        vjs.IS_IPHONE = (/iPhone/i).test(vjs.USER_AGENT);
        vjs.IS_IPAD = (/iPad/i).test(vjs.USER_AGENT);
        vjs.IS_IPOD = (/iPod/i).test(vjs.USER_AGENT);
        vjs.IS_IOS = vjs.IS_IPHONE || vjs.IS_IPAD || vjs.IS_IPOD;
        vjs.IOS_VERSION = (function() {
            var match = vjs.USER_AGENT.match(/OS (\d+)_/i);
            if (match && match[1]) {
                return match[1]
            }
        })();
        vjs.IS_ANDROID = (/Android/i).test(vjs.USER_AGENT);
        vjs.ANDROID_VERSION = (function() {
            var match = vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),
                major, minor;
            if (!match) {
                return null
            }
            major = match[1] && parseFloat(match[1]);
            minor = match[2] && parseFloat(match[2]);
            if (major && minor) {
                return parseFloat(match[1] + "." + match[2])
            } else {
                if (major) {
                    return major
                } else {
                    return null
                }
            }
        })();
        vjs.IS_OLD_ANDROID = vjs.IS_ANDROID && (/webkit/i).test(vjs.USER_AGENT) && vjs.ANDROID_VERSION < 2.3;
        vjs.IS_FIREFOX = (/Firefox/i).test(vjs.USER_AGENT);
        vjs.IS_CHROME = (/Chrome/i).test(vjs.USER_AGENT);
        vjs.IS_IE8 = (/MSIE\s8\.0/).test(vjs.USER_AGENT);
        vjs.TOUCH_ENABLED = !!(("ontouchstart" in window) || window.DocumentTouch && document instanceof window.DocumentTouch);
        vjs.BACKGROUND_SIZE_SUPPORTED = "backgroundSize" in vjs.TEST_VID.style;
        vjs.setElementAttributes = function(el, attributes) {
            vjs.obj.each(attributes, function(attrName, attrValue) {
                if (attrValue === null || typeof attrValue === "undefined" || attrValue === false) {
                    el.removeAttribute(attrName)
                } else {
                    el.setAttribute(attrName, (attrValue === true ? "" : attrValue))
                }
            })
        };
        vjs.getElementAttributes = function(tag) {
            var obj, knownBooleans, attrs, attrName, attrVal;
            obj = {};
            knownBooleans = ",autoplay,controls,loop,muted,default,";
            if (tag && tag.attributes && tag.attributes.length > 0) {
                attrs = tag.attributes;
                for (var i = attrs.length - 1; i >= 0; i--) {
                    attrName = attrs[i].name;
                    attrVal = attrs[i].value;
                    if (typeof tag[attrName] === "boolean" || knownBooleans.indexOf("," + attrName + ",") !== -1) {
                        attrVal = (attrVal !== null) ? true : false
                    }
                    obj[attrName] = attrVal
                }
            }
            return obj
        };
        vjs.getComputedDimension = function(el, strCssRule) {
            var strValue = "";
            if (document.defaultView && document.defaultView.getComputedStyle) {
                strValue = document.defaultView.getComputedStyle(el, "").getPropertyValue(strCssRule)
            } else {
                if (el.currentStyle) {
                    strValue = el["client" + strCssRule.substr(0, 1).toUpperCase() + strCssRule.substr(1)] + "px"
                }
            }
            return strValue
        };
        vjs.insertFirst = function(child, parent) {
            if (parent.firstChild) {
                parent.insertBefore(child, parent.firstChild)
            } else {
                parent.appendChild(child)
            }
        };
        vjs.browser = {};
        vjs.el = function(id) {
            if (id.indexOf("#") === 0) {
                id = id.slice(1)
            }
            return document.getElementById(id)
        };
        vjs.formatTime = function(seconds, guide) {
            guide = guide || seconds;
            var s = Math.floor(seconds % 60),
                m = Math.floor(seconds / 60 % 60),
                h = Math.floor(seconds / 3600),
                gm = Math.floor(guide / 60 % 60),
                gh = Math.floor(guide / 3600);
            if (isNaN(seconds) || seconds === Infinity) {
                h = m = s = "-"
            }
            h = (h > 0 || gh > 0) ? h + ":" : "";
            m = (((h || gm >= 10) && m < 10) ? "0" + m : m) + ":";
            s = (s < 10) ? "0" + s : s;
            return h + m + s
        };
        vjs.blockTextSelection = function() {
            document.body.focus();
            document.onselectstart = function() {
                return false
            }
        };
        vjs.unblockTextSelection = function() {
            document.onselectstart = function() {
                return true
            }
        };
        vjs.trim = function(str) {
            return (str + "").replace(/^\s+|\s+$/g, "")
        };
        vjs.round = function(num, dec) {
            if (!dec) {
                dec = 0
            }
            return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec)
        };
        vjs.createTimeRange = function(start, end) {
            return {
                length: 1,
                start: function() {
                    return start
                },
                end: function() {
                    return end
                }
            }
        };
        vjs.setLocalStorage = function(key, value) {
            try {
                var localStorage = window.localStorage || false;
                if (!localStorage) {
                    return
                }
                localStorage[key] = value
            } catch (e) {
                if (e.code == 22 || e.code == 1014) {
                    vjs.log("LocalStorage Full (VideoJS)", e)
                } else {
                    if (e.code == 18) {
                        vjs.log("LocalStorage not allowed (VideoJS)", e)
                    } else {
                        vjs.log("LocalStorage Error (VideoJS)", e)
                    }
                }
            }
        };
        vjs.getAbsoluteURL = function(url) {
            if (!url.match(/^https?:\/\//)) {
                url = vjs.createEl("div", {
                    innerHTML: '<a href="' + url + '">x</a>'
                }).firstChild.href
            }
            return url
        };
        vjs.parseUrl = function(url) {
            var div, a, addToBody, props, details;
            props = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"];
            a = vjs.createEl("a", {
                href: url
            });
            addToBody = (a.host === "" && a.protocol !== "file:");
            if (addToBody) {
                div = vjs.createEl("div");
                div.innerHTML = '<a href="' + url + '"></a>';
                a = div.firstChild;
                div.setAttribute("style", "display:none; position:absolute;");
                document.body.appendChild(div)
            }
            details = {};
            for (var i = 0; i < props.length; i++) {
                details[props[i]] = a[props[i]]
            }
            if (details.protocol === "http:") {
                details.host = details.host.replace(/:80$/, "")
            }
            if (details.protocol === "https:") {
                details.host = details.host.replace(/:443$/, "")
            }
            if (addToBody) {
                document.body.removeChild(div)
            }
            return details
        };

        function _logType(type, args) {
            var argsArray, noop, console;
            argsArray = Array.prototype.slice.call(args);
            noop = function() {};
            console = window.console || {
                log: noop,
                warn: noop,
                error: noop
            };
            if (type) {
                argsArray.unshift(type.toUpperCase() + ":")
            } else {
                type = "log"
            }
            vjs.log.history.push(argsArray);
            argsArray.unshift("VIDEOJS:");
            if (console[type].apply) {
                console[type].apply(console, argsArray)
            } else {
                console[type](argsArray.join(" "))
            }
        }
        vjs.log = function() {
            _logType(null, arguments)
        };
        vjs.log.history = [];
        vjs.log.error = function() {
            _logType("error", arguments)
        };
        vjs.log.warn = function() {
            _logType("warn", arguments)
        };
        vjs.findPosition = function(el) {
            var box, docEl, body, clientLeft, scrollLeft, left, clientTop, scrollTop, top;
            if (el.getBoundingClientRect && el.parentNode) {
                box = el.getBoundingClientRect()
            }
            if (!box) {
                return {
                    left: 0,
                    top: 0
                }
            }
            docEl = document.documentElement;
            body = document.body;
            clientLeft = docEl.clientLeft || body.clientLeft || 0;
            scrollLeft = window.pageXOffset || body.scrollLeft;
            left = box.left + scrollLeft - clientLeft;
            clientTop = docEl.clientTop || body.clientTop || 0;
            scrollTop = window.pageYOffset || body.scrollTop;
            top = box.top + scrollTop - clientTop;
            return {
                left: vjs.round(left),
                top: vjs.round(top)
            }
        };
        vjs.arr = {};
        vjs.arr.forEach = function(array, callback, thisArg) {
            if (vjs.obj.isArray(array) && callback instanceof Function) {
                for (var i = 0, len = array.length; i < len;
                    ++i) {
                    callback.call(thisArg || vjs, array[i], i, array)
                }
            }
            return array
        };
        vjs.xhr = function(options, callback) {
            var XHR, request, urlInfo, winLoc, fileUrl, crossOrigin, abortTimeout, successHandler, errorHandler;
            if (typeof options === "string") {
                options = {
                    uri: options
                }
            }
            videojs.util.mergeOptions({
                method: "GET",
                timeout: 45 * 1000
            }, options);
            callback = callback || function() {};
            successHandler = function() {
                window.clearTimeout(abortTimeout);
                callback(null, request, request.response || request.responseText)
            };
            errorHandler = function(err) {
                window.clearTimeout(abortTimeout);
                if (!err || typeof err === "string") {
                    err = new Error(err)
                }
                callback(err, request)
            };
            XHR = window.XMLHttpRequest;
            if (typeof XHR === "undefined") {
                XHR = function() {
                    try {
                        return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")
                    } catch (e) {}
                    try {
                        return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")
                    } catch (f) {}
                    try {
                        return new window.ActiveXObject("Msxml2.XMLHTTP")
                    } catch (g) {}
                    throw new Error("This browser does not support XMLHttpRequest.")
                }
            }
            request = new XHR();
            request.uri = options.uri;
            urlInfo = vjs.parseUrl(options.uri);
            winLoc = window.location;
            crossOrigin = (urlInfo.protocol + urlInfo.host) !== (winLoc.protocol + winLoc.host);
            if (crossOrigin && window.XDomainRequest && !("withCredentials" in request)) {
                request = new window.XDomainRequest();
                request.onload = successHandler;
                request.onerror = errorHandler;
                request.onprogress = function() {};
                request.ontimeout = function() {}
            } else {
                fileUrl = (urlInfo.protocol == "file:" || winLoc.protocol == "file:");
                request.onreadystatechange = function() {
                    if (request.readyState === 4) {
                        if (request.timedout) {
                            return errorHandler("timeout")
                        }
                        if (request.status === 200 || fileUrl && request.status === 0) {
                            successHandler()
                        } else {
                            errorHandler()
                        }
                    }
                };
                if (options.timeout) {
                    abortTimeout = window.setTimeout(function() {
                        if (request.readyState !== 4) {
                            request.timedout = true;
                            request.abort()
                        }
                    }, options.timeout)
                }
            }
            try {
                request.open(options.method || "GET", options.uri, true)
            } catch (err) {
                return errorHandler(err)
            }
            if (options.withCredentials) {
                request.withCredentials = true
            }
            if (options.responseType) {
                request.responseType = options.responseType
            }
            try {
                request.send()
            } catch (err) {
                return errorHandler(err)
            }
            return request
        };
        vjs.util = {};
        vjs.util.mergeOptions = function(obj1, obj2) {
            var key, val1, val2;
            obj1 = vjs.obj.copy(obj1);
            for (key in obj2) {
                if (obj2.hasOwnProperty(key)) {
                    val1 = obj1[key];
                    val2 = obj2[key];
                    if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {
                        obj1[key] = vjs.util.mergeOptions(val1, val2)
                    } else {
                        obj1[key] = obj2[key]
                    }
                }
            }
            return obj1
        };
        vjs.EventEmitter = function() {};
        vjs.EventEmitter.prototype.allowedEvents_ = {};
        vjs.EventEmitter.prototype.on = function(type, fn) {
            var ael = this.addEventListener;
            this.addEventListener = Function.prototype;
            vjs.on(this, type, fn);
            this.addEventListener = ael
        };
        vjs.EventEmitter.prototype.addEventListener = vjs.EventEmitter.prototype.on;
        vjs.EventEmitter.prototype.off = function(type, fn) {
            vjs.off(this, type, fn)
        };
        vjs.EventEmitter.prototype.removeEventListener = vjs.EventEmitter.prototype.off;
        vjs.EventEmitter.prototype.one = function(type, fn) {
            vjs.one(this, type, fn)
        };
        vjs.EventEmitter.prototype.trigger = function(event) {
            var type = event.type || event;
            if (typeof event === "string") {
                event = {
                    type: type
                }
            }
            event = vjs.fixEvent(event);
            if (this.allowedEvents_[type] && this["on" + type]) {
                this["on" + type](event)
            }
            vjs.trigger(this, event)
        };
        vjs.EventEmitter.prototype.dispatchEvent = vjs.EventEmitter.prototype.trigger;
        vjs.Component = vjs.CoreObject.extend({
            init: function(player, options, ready) {
                this.player_ = player;
                this.options_ = vjs.obj.copy(this.options_);
                options = this.options(options);
                this.id_ = options.id || (options.el && options.el["id"]);
                if (!this.id_) {
                    this.id_ = ((player.id && player.id()) || "no_player") + "_component_" + vjs.guid++
                }
                this.name_ = options.name || null;
                this.el_ = options.el || this.createEl();
                this.children_ = [];
                this.childIndex_ = {};
                this.childNameIndex_ = {};
                this.initChildren();
                this.ready(ready);
                if (options.reportTouchActivity !== false) {
                    this.enableTouchActivity()
                }
            }
        });
        vjs.Component.prototype.dispose = function() {
            this.trigger({
                type: "dispose",
                bubbles: false
            });
            if (this.children_) {
                for (var i = this.children_.length - 1; i >= 0; i--) {
                    if (this.children_[i].dispose) {
                        this.children_[i].dispose()
                    }
                }
            }
            this.children_ = null;
            this.childIndex_ = null;
            this.childNameIndex_ = null;
            this.off();
            if (this.el_.parentNode) {
                this.el_.parentNode.removeChild(this.el_)
            }
            vjs.removeData(this.el_);
            this.el_ = null
        };
        vjs.Component.prototype.player_ = true;
        vjs.Component.prototype.player = function() {
            return this.player_
        };
        vjs.Component.prototype.options_;
        vjs.Component.prototype.options = function(obj) {
            if (obj === undefined) {
                return this.options_
            }
            return this.options_ = vjs.util.mergeOptions(this.options_, obj)
        };
        vjs.Component.prototype.el_;
        vjs.Component.prototype.createEl = function(tagName, attributes) {
            return vjs.createEl(tagName, attributes)
        };
        vjs.Component.prototype.localize = function(string) {
            var lang = this.player_.language(),
                languages = this.player_.languages();
            if (languages && languages[lang] && languages[lang][string]) {
                return languages[lang][string]
            }
            return string
        };
        vjs.Component.prototype.el = function() {
            return this.el_
        };
        vjs.Component.prototype.contentEl_;
        vjs.Component.prototype.contentEl = function() {
            return this.contentEl_ || this.el_
        };
        vjs.Component.prototype.id_;
        vjs.Component.prototype.id = function() {
            return this.id_
        };
        vjs.Component.prototype.name_;
        vjs.Component.prototype.name = function() {
            return this.name_
        };
        vjs.Component.prototype.children_;
        vjs.Component.prototype.children = function() {
            return this.children_
        };
        vjs.Component.prototype.childIndex_;
        vjs.Component.prototype.getChildById = function(id) {
            return this.childIndex_[id]
        };
        vjs.Component.prototype.childNameIndex_;
        vjs.Component.prototype.getChild = function(name) {
            return this.childNameIndex_[name]
        };
        vjs.Component.prototype.addChild = function(child, options) {
            var component, componentClass, componentName;
            if (typeof child === "string") {
                componentName = child;
                options = options || {};
                componentClass = options.componentClass || vjs.capitalize(componentName);
                options.name = componentName;
                component = new window.videojs[componentClass](this.player_ || this, options)
            } else {
                component = child
            }
            this.children_.push(component);
            if (typeof component.id === "function") {
                this.childIndex_[component.id()] = component
            }
            componentName = componentName || (component.name && component.name());
            if (componentName) {
                this.childNameIndex_[componentName] = component
            }
            if (typeof component.el === "function" && component.el()) {
                this.contentEl().appendChild(component.el())
            }
            return component
        };
        vjs.Component.prototype.removeChild = function(component) {
            if (typeof component === "string") {
                component = this.getChild(component)
            }
            if (!component || !this.children_) {
                return
            }
            var childFound = false;
            for (var i = this.children_.length - 1; i >= 0; i--) {
                if (this.children_[i] === component) {
                    childFound = true;
                    this.children_.splice(i, 1);
                    break
                }
            }
            if (!childFound) {
                return
            }
            this.childIndex_[component.id()] = null;
            this.childNameIndex_[component.name()] = null;
            var compEl = component.el();
            if (compEl && compEl.parentNode === this.contentEl()) {
                this.contentEl().removeChild(component.el())
            }
        };
        vjs.Component.prototype.initChildren = function() {
            var parent, parentOptions, children, child, name, opts, handleAdd;
            parent = this;
            parentOptions = parent.options();
            children = parentOptions.children;
            if (children) {
                handleAdd = function(name, opts) {
                    if (parentOptions[name] !== undefined) {
                        opts = parentOptions[name]
                    }
                    if (opts === false) {
                        return
                    }
                    parent[name] = parent.addChild(name, opts)
                };
                if (vjs.obj.isArray(children)) {
                    for (var i = 0; i < children.length; i++) {
                        child = children[i];
                        if (typeof child == "string") {
                            name = child;
                            opts = {}
                        } else {
                            name = child.name;
                            opts = child
                        }
                        handleAdd(name, opts)
                    }
                } else {
                    vjs.obj.each(children, handleAdd)
                }
            }
        };
        vjs.Component.prototype.buildCSSClass = function() {
            return ""
        };
        vjs.Component.prototype.on = function(first, second, third) {
            var target, type, fn, removeOnDispose, cleanRemover, thisComponent;
            if (typeof first === "string" || vjs.obj.isArray(first)) {
                vjs.on(this.el_, first, vjs.bind(this, second))
            } else {
                target = first;
                type = second;
                fn = vjs.bind(this, third);
                thisComponent = this;
                removeOnDispose = function() {
                    thisComponent.off(target, type, fn)
                };
                removeOnDispose.guid = fn.guid;
                this.on("dispose", removeOnDispose);
                cleanRemover = function() {
                    thisComponent.off("dispose", removeOnDispose)
                };
                cleanRemover.guid = fn.guid;
                if (first.nodeName) {
                    vjs.on(target, type, fn);
                    vjs.on(target, "dispose", cleanRemover)
                } else {
                    if (typeof first.on === "function") {
                        target.on(type, fn);
                        target.on("dispose", cleanRemover)
                    }
                }
            }
            return this
        };
        vjs.Component.prototype.off = function(first, second, third) {
            var target, otherComponent, type, fn, otherEl;
            if (!first || typeof first === "string" || vjs.obj.isArray(first)) {
                vjs.off(this.el_, first, second)
            } else {
                target = first;
                type = second;
                fn = vjs.bind(this, third);
                this.off("dispose", fn);
                if (first.nodeName) {
                    vjs.off(target, type, fn);
                    vjs.off(target, "dispose", fn)
                } else {
                    target.off(type, fn);
                    target.off("dispose", fn)
                }
            }
            return this
        };
        vjs.Component.prototype.one = function(first, second, third) {
            var target, type, fn, thisComponent, newFunc;
            if (typeof first === "string" || vjs.obj.isArray(first)) {
                vjs.one(this.el_, first, vjs.bind(this, second))
            } else {
                target = first;
                type = second;
                fn = vjs.bind(this, third);
                thisComponent = this;
                newFunc = function() {
                    thisComponent.off(target, type, newFunc);
                    fn.apply(this, arguments)
                };
                newFunc.guid = fn.guid;
                this.on(target, type, newFunc)
            }
            return this
        };
        vjs.Component.prototype.trigger = function(event) {
            vjs.trigger(this.el_, event);
            return this
        };
        vjs.Component.prototype.isReady_;
        vjs.Component.prototype.isReadyOnInitFinish_ = true;
        vjs.Component.prototype.readyQueue_;
        vjs.Component.prototype.ready = function(fn) {
            if (fn) {
                if (this.isReady_) {
                    fn.call(this)
                } else {
                    if (this.readyQueue_ === undefined) {
                        this.readyQueue_ = []
                    }
                    this.readyQueue_.push(fn)
                }
            }
            return this
        };
        vjs.Component.prototype.triggerReady = function() {
            this.isReady_ = true;
            var readyQueue = this.readyQueue_;
            if (readyQueue && readyQueue.length > 0) {
                for (var i = 0, j = readyQueue.length; i < j; i++) {
                    readyQueue[i].call(this)
                }
                this.readyQueue_ = [];
                this.trigger("ready")
            }
        };
        vjs.Component.prototype.hasClass = function(classToCheck) {
            return vjs.hasClass(this.el_, classToCheck)
        };
        vjs.Component.prototype.addClass = function(classToAdd) {
            vjs.addClass(this.el_, classToAdd);
            return this
        };
        vjs.Component.prototype.removeClass = function(classToRemove) {
            vjs.removeClass(this.el_, classToRemove);
            return this
        };
        vjs.Component.prototype.show = function() {
            this.removeClass("vjs-hidden");
            return this
        };
        vjs.Component.prototype.hide = function() {
            this.addClass("vjs-hidden");
            return this
        };
        vjs.Component.prototype.lockShowing = function() {
            this.addClass("vjs-lock-showing");
            return this
        };
        vjs.Component.prototype.unlockShowing = function() {
            this.removeClass("vjs-lock-showing");
            return this
        };
        vjs.Component.prototype.disable = function() {
            this.hide();
            this.show = function() {}
        };
        vjs.Component.prototype.width = function(num, skipListeners) {
            return this.dimension("width", num, skipListeners)
        };
        vjs.Component.prototype.height = function(num, skipListeners) {
            return this.dimension("height", num, skipListeners)
        };
        vjs.Component.prototype.dimensions = function(width, height) {
            return this.width(width, true).height(height)
        };
        vjs.Component.prototype.dimension = function(widthOrHeight, num, skipListeners) {
            if (num !== undefined) {
                if (num === null || vjs.isNaN(num)) {
                    num = 0
                }
                if (("" + num).indexOf("%") !== -1 || ("" + num).indexOf("px") !== -1) {
                    this.el_.style[widthOrHeight] = num
                } else {
                    if (num === "auto") {
                        this.el_.style[widthOrHeight] = ""
                    } else {
                        this.el_.style[widthOrHeight] = num + "px"
                    }
                }
                if (!skipListeners) {
                    this.trigger("resize")
                }
                return this
            }
            if (!this.el_) {
                return 0
            }
            var val = this.el_.style[widthOrHeight];
            var pxIndex = val.indexOf("px");
            if (pxIndex !== -1) {
                return parseInt(val.slice(0, pxIndex), 10)
            } else {
                return parseInt(this.el_["offset" + vjs.capitalize(widthOrHeight)], 10)
            }
        };
        vjs.Component.prototype.onResize;
        vjs.Component.prototype.emitTapEvents = function() {
            var touchStart, firstTouch, touchTime, couldBeTap, noTap, xdiff, ydiff, touchDistance, tapMovementThreshold, touchTimeThreshold;
            touchStart = 0;
            firstTouch = null;
            tapMovementThreshold = 10;
            touchTimeThreshold = 200;
            this.on("touchstart", function(event) {
                if (event.touches.length === 1) {
                    firstTouch = vjs.obj.copy(event.touches[0]);
                    touchStart = new Date().getTime();
                    couldBeTap = true
                }
            });
            this.on("touchmove", function(event) {
                if (event.touches.length > 1) {
                    couldBeTap = false
                } else {
                    if (firstTouch) {
                        xdiff = event.touches[0].pageX - firstTouch.pageX;
                        ydiff = event.touches[0].pageY - firstTouch.pageY;
                        touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);
                        if (touchDistance > tapMovementThreshold) {
                            couldBeTap = false
                        }
                    }
                }
            });
            noTap = function() {
                couldBeTap = false
            };
            this.on("touchleave", noTap);
            this.on("touchcancel", noTap);
            this.on("touchend", function(event) {
                firstTouch = null;
                if (couldBeTap === true) {
                    touchTime = new Date().getTime() - touchStart;
                    if (touchTime < touchTimeThreshold) {
                        event.preventDefault();
                        this.trigger("tap")
                    }
                }
            })
        };
        vjs.Component.prototype.enableTouchActivity = function() {
            var report, touchHolding, touchEnd;
            if (!this.player().reportUserActivity) {
                return
            }
            report = vjs.bind(this.player(), this.player().reportUserActivity);
            this.on("touchstart", function() {
                report();
                this.clearInterval(touchHolding);
                touchHolding = this.setInterval(report, 250)
            });
            touchEnd = function(event) {
                report();
                this.clearInterval(touchHolding)
            };
            this.on("touchmove", report);
            this.on("touchend", touchEnd);
            this.on("touchcancel", touchEnd)
        };
        vjs.Component.prototype.setTimeout = function(fn, timeout) {
            fn = vjs.bind(this, fn);
            var timeoutId = setTimeout(fn, timeout);
            var disposeFn = function() {
                this.clearTimeout(timeoutId)
            };
            disposeFn.guid = "vjs-timeout-" + timeoutId;
            this.on("dispose", disposeFn);
            return timeoutId
        };
        vjs.Component.prototype.clearTimeout = function(timeoutId) {
            clearTimeout(timeoutId);
            var disposeFn = function() {};
            disposeFn.guid = "vjs-timeout-" + timeoutId;
            this.off("dispose", disposeFn);
            return timeoutId
        };
        vjs.Component.prototype.setInterval = function(fn, interval) {
            fn = vjs.bind(this, fn);
            var intervalId = setInterval(fn, interval);
            var disposeFn = function() {
                this.clearInterval(intervalId)
            };
            disposeFn.guid = "vjs-interval-" + intervalId;
            this.on("dispose", disposeFn);
            return intervalId
        };
        vjs.Component.prototype.clearInterval = function(intervalId) {
            clearInterval(intervalId);
            var disposeFn = function() {};
            disposeFn.guid = "vjs-interval-" + intervalId;
            this.off("dispose", disposeFn);
            return intervalId
        };
        vjs.Button = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.emitTapEvents();
                this.on("tap", this.onClick);
                this.on("click", this.onClick);
                this.on("focus", this.onFocus);
                this.on("blur", this.onBlur)
            }
        });
        vjs.Button.prototype.createEl = function(type, props) {
            var el;
            props = vjs.obj.merge({
                className: this.buildCSSClass(),
                role: "button",
                "aria-live": "polite",
                tabIndex: 0
            }, props);
            el = vjs.Component.prototype.createEl.call(this, type, props);
            if (!props.innerHTML) {
                this.contentEl_ = vjs.createEl("div", {
                    className: "vjs-control-content"
                });
                this.controlText_ = vjs.createEl("span", {
                    className: "vjs-control-text",
                    innerHTML: this.localize(this.buttonText) || "Need Text"
                });
                this.contentEl_.appendChild(this.controlText_);
                el.appendChild(this.contentEl_)
            }
            return el
        };
        vjs.Button.prototype.buildCSSClass = function() {
            return "vjs-control " + vjs.Component.prototype.buildCSSClass.call(this)
        };
        vjs.Button.prototype.onClick = function() {};
        vjs.Button.prototype.onFocus = function() {
            vjs.on(document, "keydown", vjs.bind(this, this.onKeyPress))
        };
        vjs.Button.prototype.onKeyPress = function(event) {
            if (event.which == 32 || event.which == 13) {
                event.preventDefault();
                this.onClick()
            }
        };
        vjs.Button.prototype.onBlur = function() {
            vjs.off(document, "keydown", vjs.bind(this, this.onKeyPress))
        };
        vjs.Slider = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.bar = this.getChild(this.options_.barName);
                this.handle = this.getChild(this.options_.handleName);
                this.on("mousedown", this.onMouseDown);
                this.on("touchstart", this.onMouseDown);
                this.on("focus", this.onFocus);
                this.on("blur", this.onBlur);
                this.on("click", this.onClick);
                this.on(player, "controlsvisible", this.update);
                this.on(player, this.playerEvent, this.update)
            }
        });
        vjs.Slider.prototype.createEl = function(type, props) {
            props = props || {};
            props.className = props.className + " vjs-slider";
            props = vjs.obj.merge({
                role: "slider",
                "aria-valuenow": 0,
                "aria-valuemin": 0,
                "aria-valuemax": 100,
                tabIndex: 0
            }, props);
            return vjs.Component.prototype.createEl.call(this, type, props)
        };
        vjs.Slider.prototype.onMouseDown = function(event) {
            event.preventDefault();
            vjs.blockTextSelection();
            this.addClass("vjs-sliding");
            this.on(document, "mousemove", this.onMouseMove);
            this.on(document, "mouseup", this.onMouseUp);
            this.on(document, "touchmove", this.onMouseMove);
            this.on(document, "touchend", this.onMouseUp);
            this.onMouseMove(event)
        };
        vjs.Slider.prototype.onMouseMove = function() {};
        vjs.Slider.prototype.onMouseUp = function() {
            vjs.unblockTextSelection();
            this.removeClass("vjs-sliding");
            this.off(document, "mousemove", this.onMouseMove);
            this.off(document, "mouseup", this.onMouseUp);
            this.off(document, "touchmove", this.onMouseMove);
            this.off(document, "touchend", this.onMouseUp);
            this.update()
        };
        vjs.Slider.prototype.update = function() {
            if (!this.el_) {
                return
            }
            var barProgress, progress = this.getPercent(),
                handle = this.handle,
                bar = this.bar;
            if (typeof progress !== "number" || progress !== progress || progress < 0 || progress === Infinity) {
                progress = 0
            }
            barProgress = progress;
            if (handle) {
                var box = this.el_,
                    boxWidth = box.offsetWidth,
                    handleWidth = handle.el().offsetWidth,
                    handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,
                    boxAdjustedPercent = 1 - handlePercent,
                    adjustedProgress = progress * boxAdjustedPercent;
                barProgress = adjustedProgress + (handlePercent / 2);
                handle.el().style.left = vjs.round(adjustedProgress * 100, 2) + "%"
            }
            if (bar) {
                bar.el().style.width = vjs.round(barProgress * 100, 2) + "%"
            }
        };
        vjs.Slider.prototype.calculateDistance = function(event) {
            var el, box, boxX, boxY, boxW, boxH, handle, pageX, pageY;
            el = this.el_;
            box = vjs.findPosition(el);
            boxW = boxH = el.offsetWidth;
            handle = this.handle;
            if (this.options()["vertical"]) {
                boxY = box.top;
                if (event.changedTouches) {
                    pageY = event.changedTouches[0].pageY
                } else {
                    pageY = event.pageY
                }
                if (handle) {
                    var handleH = handle.el().offsetHeight;
                    boxY = boxY + (handleH / 2);
                    boxH = boxH - handleH
                }
                return Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH))
            } else {
                boxX = box.left;
                if (event.changedTouches) {
                    pageX = event.changedTouches[0].pageX
                } else {
                    pageX = event.pageX
                }
                if (handle) {
                    var handleW = handle.el().offsetWidth;
                    boxX = boxX + (handleW / 2);
                    boxW = boxW - handleW
                }
                return Math.max(0, Math.min(1, (pageX - boxX) / boxW))
            }
        };
        vjs.Slider.prototype.onFocus = function() {
            this.on(document, "keydown", this.onKeyPress)
        };
        vjs.Slider.prototype.onKeyPress = function(event) {
            if (event.which == 37 || event.which == 40) {
                event.preventDefault();
                this.stepBack()
            } else {
                if (event.which == 38 || event.which == 39) {
                    event.preventDefault();
                    this.stepForward()
                }
            }
        };
        vjs.Slider.prototype.onBlur = function() {
            this.off(document, "keydown", this.onKeyPress)
        };
        vjs.Slider.prototype.onClick = function(event) {
            event.stopImmediatePropagation();
            event.preventDefault()
        };
        vjs.SliderHandle = vjs.Component.extend();
        vjs.SliderHandle.prototype.defaultValue = 0;
        vjs.SliderHandle.prototype.createEl = function(type, props) {
            props = props || {};
            props.className = props.className + " vjs-slider-handle";
            props = vjs.obj.merge({
                innerHTML: '<span class="vjs-control-text">' + this.defaultValue + "</span>"
            }, props);
            return vjs.Component.prototype.createEl.call(this, "div", props)
        };
        vjs.Menu = vjs.Component.extend();
        vjs.Menu.prototype.addItem = function(component) {
            this.addChild(component);
            component.on("click", vjs.bind(this, function() {
                this.unlockShowing()
            }))
        };
        vjs.Menu.prototype.createEl = function() {
            var contentElType = this.options().contentElType || "ul";
            this.contentEl_ = vjs.createEl(contentElType, {
                className: "vjs-menu-content"
            });
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                append: this.contentEl_,
                className: "vjs-menu"
            });
            el.appendChild(this.contentEl_);
            vjs.on(el, "click", function(event) {
                event.preventDefault();
                event.stopImmediatePropagation()
            });
            return el
        };
        vjs.MenuItem = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options);
                this.selected(options.selected)
            }
        });
        vjs.MenuItem.prototype.createEl = function(type, props) {
            return vjs.Button.prototype.createEl.call(this, "li", vjs.obj.merge({
                className: "vjs-menu-item",
                innerHTML: this.localize(this.options_.label)
            }, props))
        };
        vjs.MenuItem.prototype.onClick = function() {
            this.selected(true)
        };
        vjs.MenuItem.prototype.selected = function(selected) {
            if (selected) {
                this.addClass("vjs-selected");
                this.el_.setAttribute("aria-selected", true)
            } else {
                this.removeClass("vjs-selected");
                this.el_.setAttribute("aria-selected", false)
            }
        };
        vjs.MenuButton = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options);
                this.update();
                this.on("keydown", this.onKeyPress);
                this.el_.setAttribute("aria-haspopup", true);
                this.el_.setAttribute("role", "button")
            }
        });
        vjs.MenuButton.prototype.update = function() {
            var menu = this.createMenu();
            if (this.menu) {
                this.removeChild(this.menu)
            }
            this.menu = menu;
            this.addChild(menu);
            if (this.items && this.items.length === 0) {
                this.hide()
            } else {
                if (this.items && this.items.length > 1) {
                    this.show()
                }
            }
        };
        vjs.MenuButton.prototype.buttonPressed_ = false;
        vjs.MenuButton.prototype.createMenu = function() {
            var menu = new vjs.Menu(this.player_);
            if (this.options().title) {
                menu.contentEl().appendChild(vjs.createEl("li", {
                    className: "vjs-menu-title",
                    innerHTML: vjs.capitalize(this.options().title),
                    tabindex: -1
                }))
            }
            this.items = this["createItems"]();
            if (this.items) {
                for (var i = 0; i < this.items.length; i++) {
                    menu.addItem(this.items[i])
                }
            }
            return menu
        };
        vjs.MenuButton.prototype.createItems = function() {};
        vjs.MenuButton.prototype.buildCSSClass = function() {
            return this.className + " vjs-menu-button " + vjs.Button.prototype.buildCSSClass.call(this)
        };
        vjs.MenuButton.prototype.onFocus = function() {};
        vjs.MenuButton.prototype.onBlur = function() {};
        vjs.MenuButton.prototype.onClick = function() {
            this.one("mouseout", vjs.bind(this, function() {
                this.menu.unlockShowing();
                this.el_.blur()
            }));
            if (this.buttonPressed_) {
                this.unpressButton()
            } else {
                this.pressButton()
            }
        };
        vjs.MenuButton.prototype.onKeyPress = function(event) {
            if (event.which == 32 || event.which == 13) {
                if (this.buttonPressed_) {
                    this.unpressButton()
                } else {
                    this.pressButton()
                }
                event.preventDefault()
            } else {
                if (event.which == 27) {
                    if (this.buttonPressed_) {
                        this.unpressButton()
                    }
                    event.preventDefault()
                }
            }
        };
        vjs.MenuButton.prototype.pressButton = function() {
            this.buttonPressed_ = true;
            this.menu.lockShowing();
            this.el_.setAttribute("aria-pressed", true);
            if (this.items && this.items.length > 0) {
                this.items[0].el().focus()
            }
        };
        vjs.MenuButton.prototype.unpressButton = function() {
            this.buttonPressed_ = false;
            this.menu.unlockShowing();
            this.el_.setAttribute("aria-pressed", false)
        };
        vjs.MediaError = function(code) {
            if (typeof code === "number") {
                this.code = code
            } else {
                if (typeof code === "string") {
                    this.message = code
                } else {
                    if (typeof code === "object") {
                        vjs.obj.merge(this, code)
                    }
                }
            }
            if (!this.message) {
                this.message = vjs.MediaError.defaultMessages[this.code] || ""
            }
        };
        vjs.MediaError.prototype.code = 0;
        vjs.MediaError.prototype.message = "";
        vjs.MediaError.prototype.status = null;
        vjs.MediaError.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"];
        vjs.MediaError.defaultMessages = {
            1: "You aborted the video playback",
            2: "A network error caused the video download to fail part-way.",
            3: "The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",
            4: "The video could not be loaded, either because the server or network failed or because the format is not supported.",
            5: "The video is encrypted and we do not have the keys to decrypt it."
        };
        for (var errNum = 0; errNum < vjs.MediaError.errorTypes.length; errNum++) {
            vjs.MediaError[vjs.MediaError.errorTypes[errNum]] = errNum;
            vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]] = errNum
        }(function() {
            var apiMap, specApi, browserApi, i;
            vjs.browser.fullscreenAPI;
            apiMap = [
                ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
            ];
            specApi = apiMap[0];
            for (i = 0; i < apiMap.length; i++) {
                if (apiMap[i][1] in document) {
                    browserApi = apiMap[i];
                    break
                }
            }
            if (browserApi) {
                vjs.browser.fullscreenAPI = {};
                for (i = 0; i < browserApi.length; i++) {
                    vjs.browser.fullscreenAPI[specApi[i]] = browserApi[i]
                }
            }
        })();
        vjs.Player = vjs.Component.extend({
            init: function(tag, options, ready) {
                this.tag = tag;
                tag.id = tag.id || "vjs_video_" + vjs.guid++;
                this.tagAttributes = tag && vjs.getElementAttributes(tag);
                options = vjs.obj.merge(this.getTagSettings(tag), options);
                this.language_ = options.language || vjs.options.language;
                this.languages_ = options.languages || vjs.options.languages;
                this.cache_ = {};
                this.poster_ = options.poster || "";
                this.controls_ = !!options.controls;
                tag.controls = false;
                options.reportTouchActivity = false;
                this.isAudio(this.tag.nodeName.toLowerCase() === "audio");
                vjs.Component.call(this, this, options, ready);
                if (this.controls()) {
                    this.addClass("vjs-controls-enabled")
                } else {
                    this.addClass("vjs-controls-disabled")
                }
                if (this.isAudio()) {
                    this.addClass("vjs-audio")
                }
                vjs.players[this.id_] = this;
                if (options.plugins) {
                    vjs.obj.each(options.plugins, function(key, val) {
                        this[key](val)
                    }, this)
                }
                this.listenForUserActivity()
            }
        });
        vjs.Player.prototype.language_;
        vjs.Player.prototype.language = function(languageCode) {
            if (languageCode === undefined) {
                return this.language_
            }
            this.language_ = languageCode;
            return this
        };
        vjs.Player.prototype.languages_;
        vjs.Player.prototype.languages = function() {
            return this.languages_
        };
        vjs.Player.prototype.options_ = vjs.options;
        vjs.Player.prototype.dispose = function() {
            this.trigger("dispose");
            this.off("dispose");
            vjs.players[this.id_] = null;
            if (this.tag && this.tag.player) {
                this.tag.player = null
            }
            if (this.el_ && this.el_.player) {
                this.el_.player = null
            }
            if (this.tech) {
                this.tech.dispose()
            }
            vjs.Component.prototype.dispose.call(this)
        };
        vjs.Player.prototype.getTagSettings = function(tag) {
            var tagOptions, dataSetup, options = {
                sources: [],
                tracks: []
            };
            tagOptions = vjs.getElementAttributes(tag);
            dataSetup = tagOptions["data-setup"];
            if (dataSetup !== null) {
                vjs.obj.merge(tagOptions, vjs.JSON.parse(dataSetup || "{}"))
            }
            vjs.obj.merge(options, tagOptions);
            if (tag.hasChildNodes()) {
                var children, child, childName, i, j;
                children = tag.childNodes;
                for (i = 0, j = children.length; i < j; i++) {
                    child = children[i];
                    childName = child.nodeName.toLowerCase();
                    if (childName === "source") {
                        options.sources.push(vjs.getElementAttributes(child))
                    } else {
                        if (childName === "track") {
                            options.tracks.push(vjs.getElementAttributes(child))
                        }
                    }
                }
            }
            return options
        };
        vjs.Player.prototype.createEl = function() {
            var el = this.el_ = vjs.Component.prototype.createEl.call(this, "div"),
                tag = this.tag,
                attrs;
            tag.removeAttribute("width");
            tag.removeAttribute("height");
            attrs = vjs.getElementAttributes(tag);
            vjs.obj.each(attrs, function(attr) {
                if (attr == "class") {
                    el.className = attrs[attr]
                } else {
                    el.setAttribute(attr, attrs[attr])
                }
            });
            tag.id += "_html5_api";
            tag.className = "vjs-tech";
            tag.player = el.player = this;
            this.addClass("vjs-paused");
            this.width(this.options_.width, true);
            this.height(this.options_.height, true);
            tag.initNetworkState_ = tag.networkState;
            if (tag.parentNode) {
                tag.parentNode.insertBefore(el, tag)
            }
            vjs.insertFirst(tag, el);
            this.el_ = el;
            this.on("loadstart", this.onLoadStart);
            this.on("waiting", this.onWaiting);
            this.on(["canplay", "canplaythrough", "playing", "ended"], this.onWaitEnd);
            this.on("seeking", this.onSeeking);
            this.on("seeked", this.onSeeked);
            this.on("ended", this.onEnded);
            this.on("play", this.onPlay);
            this.on("firstplay", this.onFirstPlay);
            this.on("pause", this.onPause);
            this.on("progress", this.onProgress);
            this.on("durationchange", this.onDurationChange);
            this.on("fullscreenchange", this.onFullscreenChange);
            return el
        };
        vjs.Player.prototype.loadTech = function(techName, source) {
            if (this.tech) {
                this.unloadTech()
            }
            if (techName !== "Html5" && this.tag) {
                vjs.Html5.disposeMediaElement(this.tag);
                this.tag = null
            }
            this.techName = techName;
            this.isReady_ = false;
            var techReady = function() {
                this.player_.triggerReady()
            };
            var techOptions = vjs.obj.merge({
                source: source,
                parentEl: this.el_
            }, this.options_[techName.toLowerCase()]);
            if (source) {
                this.currentType_ = source.type;
                if (source.src == this.cache_.src && this.cache_.currentTime > 0) {
                    techOptions.startTime = this.cache_.currentTime
                }
                this.cache_.src = source.src
            }
            this.tech = new window.videojs[techName](this, techOptions);
            this.tech.ready(techReady)
        };
        vjs.Player.prototype.unloadTech = function() {
            this.isReady_ = false;
            this.tech.dispose();
            this.tech = false
        };
        vjs.Player.prototype.onLoadStart = function() {
            this.removeClass("vjs-ended");
            this.error(null);
            if (!this.paused()) {
                this.trigger("firstplay")
            } else {
                this.hasStarted(false)
            }
        };
        vjs.Player.prototype.hasStarted_ = false;
        vjs.Player.prototype.hasStarted = function(hasStarted) {
            if (hasStarted !== undefined) {
                if (this.hasStarted_ !== hasStarted) {
                    this.hasStarted_ = hasStarted;
                    if (hasStarted) {
                        this.addClass("vjs-has-started");
                        this.trigger("firstplay")
                    } else {
                        this.removeClass("vjs-has-started")
                    }
                }
                return this
            }
            return this.hasStarted_
        };
        vjs.Player.prototype.onLoadedMetaData;
        vjs.Player.prototype.onLoadedData;
        vjs.Player.prototype.onLoadedAllData;
        vjs.Player.prototype.onPlay = function() {
            this.removeClass("vjs-ended");
            this.removeClass("vjs-paused");
            this.addClass("vjs-playing");
            this.hasStarted(true);
            window.gdt.Tracking.PANtracking.videoTracking(this, "Play")
        };
        vjs.Player.prototype.onWaiting = function() {
            this.addClass("vjs-waiting")
        };
        vjs.Player.prototype.onWaitEnd = function() {
            this.removeClass("vjs-waiting")
        };
        vjs.Player.prototype.onSeeking = function() {
            this.addClass("vjs-seeking")
        };
        vjs.Player.prototype.onSeeked = function() {
            this.removeClass("vjs-seeking")
        };
        vjs.Player.prototype.onFirstPlay = function() {
            if (this.options_.starttime) {
                this.currentTime(this.options_.starttime)
            }
            this.addClass("vjs-has-started");
            window.gdt.Tracking.PANtracking.videoTracking(this, "Start")
        };
        vjs.Player.prototype.onPause = function() {
            this.removeClass("vjs-playing");
            this.addClass("vjs-paused");
            window.gdt.Tracking.PANtracking.videoTracking(this, "Pause")
        };
        vjs.Player.prototype.onTimeUpdate;
        vjs.Player.prototype.onProgress = function() {
            if (this.bufferedPercent() == 1) {
                this.trigger("loadedalldata")
            }
        };
        vjs.Player.prototype.onEnded = function() {
            this.addClass("vjs-ended");
            if (this.options_.loop) {
                this.currentTime(0);
                this.play()
            } else {
                if (!this.paused()) {
                    this.pause()
                }
            }
        };
        vjs.Player.prototype.onDurationChange = function() {
            var duration = this.techGet("duration");
            if (duration) {
                if (duration < 0) {
                    duration = Infinity
                }
                this.duration(duration);
                if (duration === Infinity) {
                    this.addClass("vjs-live")
                } else {
                    this.removeClass("vjs-live")
                }
            }
        };
        vjs.Player.prototype.onVolumeChange;
        vjs.Player.prototype.onFullscreenChange = function() {
            if (this.isFullscreen()) {
                this.addClass("vjs-fullscreen");
                window.gdt.Tracking.PANtracking.videoTracking(this, "Full Screen")
            } else {
                this.removeClass("vjs-fullscreen");
                window.gdt.Tracking.PANtracking.videoTracking(this, "Normal Size")
            }
        };
        vjs.Player.prototype.onError;
        vjs.Player.prototype.cache_;
        vjs.Player.prototype.getCache = function() {
            return this.cache_
        };
        vjs.Player.prototype.techCall = function(method, arg) {
            if (this.tech && !this.tech.isReady_) {
                this.tech.ready(function() {
                    this[method](arg)
                })
            } else {
                try {
                    this.tech[method](arg)
                } catch (e) {
                    vjs.log(e);
                    throw e
                }
            }
        };
        vjs.Player.prototype.techGet = function(method) {
            if (this.tech && this.tech.isReady_) {
                try {
                    return this.tech[method]()
                } catch (e) {
                    if (this.tech[method] === undefined) {
                        vjs.log("Video.js: " + method + " method not defined for " + this.techName + " playback technology.", e)
                    } else {
                        if (e.name == "TypeError") {
                            vjs.log("Video.js: " + method + " unavailable on " + this.techName + " playback technology element.", e);
                            this.tech.isReady_ = false
                        } else {
                            vjs.log(e)
                        }
                    }
                    throw e
                }
            }
            return
        };
        vjs.Player.prototype.play = function() {
            this.techCall("play");
            return this
        };
        vjs.Player.prototype.pause = function() {
            this.techCall("pause");
            return this
        };
        vjs.Player.prototype.paused = function() {
            return (this.techGet("paused") === false) ? false : true
        };
        vjs.Player.prototype.currentTime = function(seconds) {
            if (seconds !== undefined) {
                this.techCall("setCurrentTime", seconds);
                return this
            }
            return this.cache_.currentTime = (this.techGet("currentTime") || 0)
        };
        vjs.Player.prototype.duration = function(seconds) {
            if (seconds !== undefined) {
                this.cache_.duration = parseFloat(seconds);
                return this
            }
            if (this.cache_.duration === undefined) {
                this.onDurationChange()
            }
            return this.cache_.duration || 0
        };
        vjs.Player.prototype.remainingTime = function() {
            return this.duration() - this.currentTime()
        };
        vjs.Player.prototype.buffered = function() {
            var buffered = this.techGet("buffered");
            if (!buffered || !buffered.length) {
                buffered = vjs.createTimeRange(0, 0)
            }
            return buffered
        };
        vjs.Player.prototype.bufferedPercent = function() {
            var duration = this.duration(),
                buffered = this.buffered(),
                bufferedDuration = 0,
                start, end;
            if (!duration) {
                return 0
            }
            for (var i = 0; i < buffered.length; i++) {
                start = buffered.start(i);
                end = buffered.end(i);
                if (end > duration) {
                    end = duration
                }
                bufferedDuration += end - start
            }
            return bufferedDuration / duration
        };
        vjs.Player.prototype.bufferedEnd = function() {
            var buffered = this.buffered(),
                duration = this.duration(),
                end = buffered.end(buffered.length - 1);
            if (end > duration) {
                end = duration
            }
            return end
        };
        vjs.Player.prototype.volume = function(percentAsDecimal) {
            var vol;
            if (percentAsDecimal !== undefined) {
                vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));
                this.cache_.volume = vol;
                this.techCall("setVolume", vol);
                vjs.setLocalStorage("volume", vol);
                return this
            }
            vol = parseFloat(this.techGet("volume"));
            return (isNaN(vol)) ? 1 : vol
        };
        vjs.Player.prototype.muted = function(muted) {
            if (muted !== undefined) {
                this.techCall("setMuted", muted);
                return this
            }
            return this.techGet("muted") || false
        };
        vjs.Player.prototype.supportsFullScreen = function() {
            return this.techGet("supportsFullScreen") || false
        };
        vjs.Player.prototype.isFullscreen_ = false;
        vjs.Player.prototype.isFullscreen = function(isFS) {
            if (isFS !== undefined) {
                this.isFullscreen_ = !!isFS;
                return this
            }
            return this.isFullscreen_
        };
        vjs.Player.prototype.isFullScreen = function(isFS) {
            vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")');
            return this.isFullscreen(isFS)
        };
        vjs.Player.prototype.requestFullscreen = function() {
            var fsApi = vjs.browser.fullscreenAPI;
            this.isFullscreen(true);
            if (fsApi) {
                vjs.on(document, fsApi.fullscreenchange, vjs.bind(this, function(e) {
                    this.isFullscreen(document[fsApi.fullscreenElement]);
                    if (this.isFullscreen() === false) {
                        vjs.off(document, fsApi.fullscreenchange, arguments.callee)
                    }
                    this.trigger("fullscreenchange")
                }));
                this.el_[fsApi.requestFullscreen]()
            } else {
                if (this.tech.supportsFullScreen()) {
                    this.techCall("enterFullScreen")
                } else {
                    this.enterFullWindow();
                    this.trigger("fullscreenchange")
                }
            }
            return this
        };
        vjs.Player.prototype.requestFullScreen = function() {
            vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")');
            return this.requestFullscreen()
        };
        vjs.Player.prototype.exitFullscreen = function() {
            var fsApi = vjs.browser.fullscreenAPI;
            this.isFullscreen(false);
            if (fsApi) {
                document[fsApi.exitFullscreen]()
            } else {
                if (this.tech.supportsFullScreen()) {
                    this.techCall("exitFullScreen")
                } else {
                    this.exitFullWindow();
                    this.trigger("fullscreenchange")
                }
            }
            return this
        };
        vjs.Player.prototype.cancelFullScreen = function() {
            vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()");
            return this.exitFullscreen()
        };
        vjs.Player.prototype.enterFullWindow = function() {
            this.isFullWindow = true;
            this.docOrigOverflow = document.documentElement.style.overflow;
            vjs.on(document, "keydown", vjs.bind(this, this.fullWindowOnEscKey));
            document.documentElement.style.overflow = "hidden";
            vjs.addClass(document.body, "vjs-full-window");
            this.trigger("enterFullWindow")
        };
        vjs.Player.prototype.fullWindowOnEscKey = function(event) {
            if (event.keyCode === 27) {
                if (this.isFullscreen() === true) {
                    this.exitFullscreen()
                } else {
                    this.exitFullWindow()
                }
            }
        };
        vjs.Player.prototype.exitFullWindow = function() {
            this.isFullWindow = false;
            vjs.off(document, "keydown", this.fullWindowOnEscKey);
            document.documentElement.style.overflow = this.docOrigOverflow;
            vjs.removeClass(document.body, "vjs-full-window");
            this.trigger("exitFullWindow")
        };
        vjs.Player.prototype.selectSource = function(sources) {
            for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {
                var techName = vjs.capitalize(j[i]),
                    tech = window.videojs[techName];
                if (!tech) {
                    vjs.log.error('The "' + techName + '" tech is undefined. Skipped browser support check for that tech.');
                    continue
                }
                if (tech.isSupported()) {
                    for (var a = 0, b = sources; a < b.length; a++) {
                        var source = b[a];
                        if (tech.canPlaySource(source)) {
                            return {
                                source: source,
                                tech: techName
                            }
                        }
                    }
                }
            }
            return false
        };
        vjs.Player.prototype.src = function(source) {
            if (source === undefined) {
                return this.techGet("src")
            }
            if (vjs.obj.isArray(source)) {
                this.sourceList_(source)
            } else {
                if (typeof source === "string") {
                    this.src({
                        src: source
                    })
                } else {
                    if (source instanceof Object) {
                        if (source.type && !window.videojs[this.techName]["canPlaySource"](source)) {
                            this.sourceList_([source])
                        } else {
                            this.cache_.src = source.src;
                            this.currentType_ = source.type || "";
                            this.ready(function() {
                                if (window.videojs[this.techName].prototype.hasOwnProperty("setSource")) {
                                    this.techCall("setSource", source)
                                } else {
                                    this.techCall("src", source.src)
                                }
                                if (this.options_.preload == "auto") {
                                    this.load()
                                }
                                if (this.options_.autoplay) {
                                    this.play()
                                }
                            })
                        }
                    }
                }
            }
            return this
        };
        vjs.Player.prototype.sourceList_ = function(sources) {
            var sourceTech = this.selectSource(sources);
            if (sourceTech) {
                if (sourceTech.tech === this.techName) {
                    this.src(sourceTech.source)
                } else {
                    this.loadTech(sourceTech.tech, sourceTech.source)
                }
            } else {
                this.setTimeout(function() {
                    this.error({
                        code: 4,
                        message: this.localize(this.options()["notSupportedMessage"])
                    })
                }, 0);
                this.triggerReady()
            }
        };
        vjs.Player.prototype.load = function() {
            this.techCall("load");
            return this
        };
        vjs.Player.prototype.currentSrc = function() {
            return this.techGet("currentSrc") || this.cache_.src || ""
        };
        vjs.Player.prototype.currentType = function() {
            return this.currentType_ || ""
        };
        vjs.Player.prototype.preload = function(value) {
            if (value !== undefined) {
                this.techCall("setPreload", value);
                this.options_.preload = value;
                return this
            }
            return this.techGet("preload")
        };
        vjs.Player.prototype.autoplay = function(value) {
            if (value !== undefined) {
                this.techCall("setAutoplay", value);
                this.options_.autoplay = value;
                return this
            }
            return this.techGet("autoplay", value)
        };
        vjs.Player.prototype.loop = function(value) {
            if (value !== undefined) {
                this.techCall("setLoop", value);
                this.options_.loop = value;
                return this
            }
            return this.techGet("loop")
        };
        vjs.Player.prototype.poster_;
        vjs.Player.prototype.poster = function(src) {
            if (src === undefined) {
                return this.poster_
            }
            if (!src) {
                src = ""
            }
            this.poster_ = src;
            this.techCall("setPoster", src);
            this.trigger("posterchange");
            return this
        };
        vjs.Player.prototype.controls_;
        vjs.Player.prototype.controls = function(bool) {
            if (bool !== undefined) {
                bool = !!bool;
                if (this.controls_ !== bool) {
                    this.controls_ = bool;
                    if (bool) {
                        this.removeClass("vjs-controls-disabled");
                        this.addClass("vjs-controls-enabled");
                        this.trigger("controlsenabled")
                    } else {
                        this.removeClass("vjs-controls-enabled");
                        this.addClass("vjs-controls-disabled");
                        this.trigger("controlsdisabled")
                    }
                }
                return this
            }
            return this.controls_
        };
        vjs.Player.prototype.usingNativeControls_;
        vjs.Player.prototype.usingNativeControls = function(bool) {
            if (bool !== undefined) {
                bool = !!bool;
                if (this.usingNativeControls_ !== bool) {
                    this.usingNativeControls_ = bool;
                    if (bool) {
                        this.addClass("vjs-using-native-controls");
                        this.trigger("usingnativecontrols")
                    } else {
                        this.removeClass("vjs-using-native-controls");
                        this.trigger("usingcustomcontrols")
                    }
                }
                return this
            }
            return this.usingNativeControls_
        };
        vjs.Player.prototype.error_ = null;
        vjs.Player.prototype.error = function(err) {
            if (err === undefined) {
                return this.error_
            }
            if (err === null) {
                this.error_ = err;
                this.removeClass("vjs-error");
                return this
            }
            if (err instanceof vjs.MediaError) {
                this.error_ = err
            } else {
                this.error_ = new vjs.MediaError(err)
            }
            this.trigger("error");
            this.addClass("vjs-error");
            vjs.log.error("(CODE:" + this.error_.code + " " + vjs.MediaError.errorTypes[this.error_.code] + ")", this.error_.message, this.error_);
            return this
        };
        vjs.Player.prototype.ended = function() {
            return this.techGet("ended")
        };
        vjs.Player.prototype.seeking = function() {
            return this.techGet("seeking")
        };
        vjs.Player.prototype.userActivity_ = true;
        vjs.Player.prototype.reportUserActivity = function(event) {
            this.userActivity_ = true
        };
        vjs.Player.prototype.userActive_ = true;
        vjs.Player.prototype.userActive = function(bool) {
            if (bool !== undefined) {
                bool = !!bool;
                if (bool !== this.userActive_) {
                    this.userActive_ = bool;
                    if (bool) {
                        this.userActivity_ = true;
                        this.removeClass("vjs-user-inactive");
                        this.addClass("vjs-user-active");
                        this.trigger("useractive")
                    } else {
                        this.userActivity_ = false;
                        if (this.tech) {
                            this.tech.one("mousemove", function(e) {
                                e.stopPropagation();
                                e.preventDefault()
                            })
                        }
                        this.removeClass("vjs-user-active");
                        this.addClass("vjs-user-inactive");
                        this.trigger("userinactive")
                    }
                }
                return this
            }
            return this.userActive_
        };
        vjs.Player.prototype.listenForUserActivity = function() {
            var onActivity, onMouseMove, onMouseDown, mouseInProgress, onMouseUp, activityCheck, inactivityTimeout, lastMoveX, lastMoveY;
            onActivity = vjs.bind(this, this.reportUserActivity);
            onMouseMove = function(e) {
                if (e.screenX != lastMoveX || e.screenY != lastMoveY) {
                    lastMoveX = e.screenX;
                    lastMoveY = e.screenY;
                    onActivity()
                }
            };
            onMouseDown = function() {
                onActivity();
                this.clearInterval(mouseInProgress);
                mouseInProgress = this.setInterval(onActivity, 250)
            };
            onMouseUp = function(event) {
                onActivity();
                this.clearInterval(mouseInProgress)
            };
            this.on("mousedown", onMouseDown);
            this.on("mousemove", onMouseMove);
            this.on("mouseup", onMouseUp);
            this.on("keydown", onActivity);
            this.on("keyup", onActivity);
            activityCheck = this.setInterval(function() {
                if (this.userActivity_) {
                    this.userActivity_ = false;
                    this.userActive(true);
                    this.clearTimeout(inactivityTimeout);
                    var timeout = this.options()["inactivityTimeout"];
                    if (timeout > 0) {
                        inactivityTimeout = this.setTimeout(function() {
                            if (!this.userActivity_) {
                                this.userActive(false)
                            }
                        }, timeout)
                    }
                }
            }, 250)
        };
        vjs.Player.prototype.playbackRate = function(rate) {
            if (rate !== undefined) {
                this.techCall("setPlaybackRate", rate);
                return this
            }
            if (this.tech && this.tech.featuresPlaybackRate) {
                return this.techGet("playbackRate")
            } else {
                return 1
            }
        };
        vjs.Player.prototype.isAudio_ = false;
        vjs.Player.prototype.isAudio = function(bool) {
            if (bool !== undefined) {
                this.isAudio_ = !!bool;
                return this
            }
            return this.isAudio_
        };
        vjs.Player.prototype.networkState = function() {
            return this.techGet("networkState")
        };
        vjs.Player.prototype.readyState = function() {
            return this.techGet("readyState")
        };
        vjs.Player.prototype.textTracks = function() {
            return this.tech && this.tech.textTracks()
        };
        vjs.Player.prototype.remoteTextTracks = function() {
            return this.tech && this.tech.remoteTextTracks()
        };
        vjs.Player.prototype.addTextTrack = function(kind, label, language) {
            return this.tech && this.tech.addTextTrack(kind, label, language)
        };
        vjs.Player.prototype.addRemoteTextTrack = function(options) {
            return this.tech && this.tech.addRemoteTextTrack(options)
        };
        vjs.Player.prototype.removeRemoteTextTrack = function(track) {
            this.tech && this.tech.removeRemoteTextTrack(track)
        };
        vjs.ControlBar = vjs.Component.extend();
        vjs.ControlBar.prototype.options_ = {
            loadEvent: "play",
            children: {
                playToggle: {},
                currentTimeDisplay: {},
                timeDivider: {},
                durationDisplay: {},
                remainingTimeDisplay: {},
                liveDisplay: {},
                progressControl: {},
                fullscreenToggle: {},
                volumeControl: {},
                muteToggle: {},
                playbackRateMenuButton: {},
                subtitlesButton: {},
                captionsButton: {},
                chaptersButton: {}
            }
        };
        vjs.ControlBar.prototype.createEl = function() {
            return vjs.createEl("div", {
                className: "vjs-control-bar"
            })
        };
        vjs.LiveDisplay = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.LiveDisplay.prototype.createEl = function() {
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-live-controls vjs-control"
            });
            this.contentEl_ = vjs.createEl("div", {
                className: "vjs-live-display",
                innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "</span>" + this.localize("LIVE"),
                "aria-live": "off"
            });
            el.appendChild(this.contentEl_);
            return el
        };
        vjs.PlayToggle = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options);
                this.on(player, "play", this.onPlay);
                this.on(player, "pause", this.onPause)
            }
        });
        vjs.PlayToggle.prototype.buttonText = "Play";
        vjs.PlayToggle.prototype.buildCSSClass = function() {
            return "vjs-play-control " + vjs.Button.prototype.buildCSSClass.call(this)
        };
        vjs.PlayToggle.prototype.onClick = function() {
            if (this.player_.paused()) {
                this.player_.play()
            } else {
                this.player_.pause()
            }
        };
        vjs.PlayToggle.prototype.onPlay = function() {
            this.removeClass("vjs-paused");
            this.addClass("vjs-playing");
            this.el_.children[0].children[0].innerHTML = this.localize("Pause")
        };
        vjs.PlayToggle.prototype.onPause = function() {
            this.removeClass("vjs-playing");
            this.addClass("vjs-paused");
            this.el_.children[0].children[0].innerHTML = this.localize("Play")
        };
        vjs.CurrentTimeDisplay = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.on(player, "timeupdate", this.updateContent)
            }
        });
        vjs.CurrentTimeDisplay.prototype.createEl = function() {
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-current-time vjs-time-controls vjs-control"
            });
            this.contentEl_ = vjs.createEl("div", {
                className: "vjs-current-time-display",
                innerHTML: '<span class="vjs-control-text">Current Time </span>0:00',
                "aria-live": "off"
            });
            el.appendChild(this.contentEl_);
            return el
        };
        vjs.CurrentTimeDisplay.prototype.updateContent = function() {
            var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();
            this.contentEl_.innerHTML = '<span class="vjs-control-text">' + this.localize("Current Time") + "</span> " + vjs.formatTime(time, this.player_.duration())
        };
        vjs.DurationDisplay = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.on(player, "timeupdate", this.updateContent)
            }
        });
        vjs.DurationDisplay.prototype.createEl = function() {
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-duration vjs-time-controls vjs-control"
            });
            this.contentEl_ = vjs.createEl("div", {
                className: "vjs-duration-display",
                innerHTML: '<span class="vjs-control-text">' + this.localize("Duration Time") + "</span> 0:00",
                "aria-live": "off"
            });
            el.appendChild(this.contentEl_);
            return el
        };
        vjs.DurationDisplay.prototype.updateContent = function() {
            var duration = this.player_.duration();
            if (duration) {
                this.contentEl_.innerHTML = '<span class="vjs-control-text">' + this.localize("Duration Time") + "</span> " + vjs.formatTime(duration)
            }
        };
        vjs.TimeDivider = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.TimeDivider.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-time-divider",
                innerHTML: "<div><span>/</span></div>"
            })
        };
        vjs.RemainingTimeDisplay = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.on(player, "timeupdate", this.updateContent)
            }
        });
        vjs.RemainingTimeDisplay.prototype.createEl = function() {
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-remaining-time vjs-time-controls vjs-control"
            });
            this.contentEl_ = vjs.createEl("div", {
                className: "vjs-remaining-time-display",
                innerHTML: '<span class="vjs-control-text">' + this.localize("Remaining Time") + "</span> -0:00",
                "aria-live": "off"
            });
            el.appendChild(this.contentEl_);
            return el
        };
        vjs.RemainingTimeDisplay.prototype.updateContent = function() {
            if (this.player_.duration()) {
                this.contentEl_.innerHTML = '<span class="vjs-control-text">' + this.localize("Remaining Time") + "</span> -" + vjs.formatTime(this.player_.remainingTime())
            }
        };
        vjs.FullscreenToggle = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options)
            }
        });
        vjs.FullscreenToggle.prototype.buttonText = "Fullscreen";
        vjs.FullscreenToggle.prototype.buildCSSClass = function() {
            return "vjs-fullscreen-control " + vjs.Button.prototype.buildCSSClass.call(this)
        };
        vjs.FullscreenToggle.prototype.onClick = function() {
            if (!this.player_.isFullscreen()) {
                this.player_.requestFullscreen();
                this.controlText_.innerHTML = this.localize("Non-Fullscreen")
            } else {
                this.player_.exitFullscreen();
                this.controlText_.innerHTML = this.localize("Fullscreen")
            }
        };
        vjs.ProgressControl = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.ProgressControl.prototype.options_ = {
            children: {
                seekBar: {}
            }
        };
        vjs.ProgressControl.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-progress-control vjs-control"
            })
        };
        vjs.SeekBar = vjs.Slider.extend({
            init: function(player, options) {
                vjs.Slider.call(this, player, options);
                this.on(player, "timeupdate", this.updateARIAAttributes);
                player.ready(vjs.bind(this, this.updateARIAAttributes))
            }
        });
        vjs.SeekBar.prototype.options_ = {
            children: {
                loadProgressBar: {},
                playProgressBar: {},
                seekHandle: {}
            },
            barName: "playProgressBar",
            handleName: "seekHandle"
        };
        vjs.SeekBar.prototype.playerEvent = "timeupdate";
        vjs.SeekBar.prototype.createEl = function() {
            return vjs.Slider.prototype.createEl.call(this, "div", {
                className: "vjs-progress-holder",
                "aria-label": "video progress bar"
            })
        };
        vjs.SeekBar.prototype.updateARIAAttributes = function() {
            var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();
            this.el_.setAttribute("aria-valuenow", vjs.round(this.getPercent() * 100, 2));
            this.el_.setAttribute("aria-valuetext", vjs.formatTime(time, this.player_.duration()))
        };
        vjs.SeekBar.prototype.getPercent = function() {
            return this.player_.currentTime() / this.player_.duration()
        };
        vjs.SeekBar.prototype.onMouseDown = function(event) {
            vjs.Slider.prototype.onMouseDown.call(this, event);
            this.player_.scrubbing = true;
            this.player_.addClass("vjs-scrubbing");
            this.videoWasPlaying = !this.player_.paused();
            this.player_.pause()
        };
        vjs.SeekBar.prototype.onMouseMove = function(event) {
            var newTime = this.calculateDistance(event) * this.player_.duration();
            if (newTime == this.player_.duration()) {
                newTime = newTime - 0.1
            }
            this.player_.currentTime(newTime)
        };
        vjs.SeekBar.prototype.onMouseUp = function(event) {
            vjs.Slider.prototype.onMouseUp.call(this, event);
            this.player_.scrubbing = false;
            this.player_.removeClass("vjs-scrubbing");
            if (this.videoWasPlaying) {
                this.player_.play()
            }
        };
        vjs.SeekBar.prototype.stepForward = function() {
            this.player_.currentTime(this.player_.currentTime() + 5)
        };
        vjs.SeekBar.prototype.stepBack = function() {
            this.player_.currentTime(this.player_.currentTime() - 5)
        };
        vjs.LoadProgressBar = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.on(player, "progress", this.update)
            }
        });
        vjs.LoadProgressBar.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-load-progress",
                innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Loaded") + "</span>: 0%</span>"
            })
        };
        vjs.LoadProgressBar.prototype.update = function() {
            var i, start, end, part, buffered = this.player_.buffered(),
                duration = this.player_.duration(),
                bufferedEnd = this.player_.bufferedEnd(),
                children = this.el_.children,
                percentify = function(time, end) {
                    var percent = (time / end) || 0;
                    return (percent * 100) + "%"
                };
            this.el_.style.width = percentify(bufferedEnd, duration);
            for (i = 0; i < buffered.length; i++) {
                start = buffered.start(i), end = buffered.end(i), part = children[i];
                if (!part) {
                    part = this.el_.appendChild(vjs.createEl())
                }
                part.style.left = percentify(start, bufferedEnd);
                part.style.width = percentify(end - start, bufferedEnd)
            }
            for (i = children.length; i > buffered.length; i--) {
                this.el_.removeChild(children[i - 1])
            }
        };
        vjs.PlayProgressBar = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.PlayProgressBar.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-play-progress",
                innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Progress") + "</span>: 0%</span>"
            })
        };
        vjs.SeekHandle = vjs.SliderHandle.extend({
            init: function(player, options) {
                vjs.SliderHandle.call(this, player, options);
                this.on(player, "timeupdate", this.updateContent)
            }
        });
        vjs.SeekHandle.prototype.defaultValue = "00:00";
        vjs.SeekHandle.prototype.createEl = function() {
            return vjs.SliderHandle.prototype.createEl.call(this, "div", {
                className: "vjs-seek-handle",
                "aria-live": "off"
            })
        };
        vjs.SeekHandle.prototype.updateContent = function() {
            var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();
            this.el_.innerHTML = '<span class="vjs-control-text">' + vjs.formatTime(time, this.player_.duration()) + "</span>"
        };
        vjs.VolumeControl = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                if (player.tech && player.tech.featuresVolumeControl === false) {
                    this.addClass("vjs-hidden")
                }
                this.on(player, "loadstart", function() {
                    if (player.tech.featuresVolumeControl === false) {
                        this.addClass("vjs-hidden")
                    } else {
                        this.removeClass("vjs-hidden")
                    }
                })
            }
        });
        vjs.VolumeControl.prototype.options_ = {
            children: {
                volumeBar: {}
            }
        };
        vjs.VolumeControl.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-volume-control vjs-control"
            })
        };
        vjs.VolumeBar = vjs.Slider.extend({
            init: function(player, options) {
                vjs.Slider.call(this, player, options);
                this.on(player, "volumechange", this.updateARIAAttributes);
                player.ready(vjs.bind(this, this.updateARIAAttributes))
            }
        });
        vjs.VolumeBar.prototype.updateARIAAttributes = function() {
            this.el_.setAttribute("aria-valuenow", vjs.round(this.player_.volume() * 100, 2));
            this.el_.setAttribute("aria-valuetext", vjs.round(this.player_.volume() * 100, 2) + "%")
        };
        vjs.VolumeBar.prototype.options_ = {
            children: {
                volumeLevel: {},
                volumeHandle: {}
            },
            barName: "volumeLevel",
            handleName: "volumeHandle"
        };
        vjs.VolumeBar.prototype.playerEvent = "volumechange";
        vjs.VolumeBar.prototype.createEl = function() {
            return vjs.Slider.prototype.createEl.call(this, "div", {
                className: "vjs-volume-bar",
                "aria-label": "volume level"
            })
        };
        vjs.VolumeBar.prototype.onMouseMove = function(event) {
            if (this.player_.muted()) {
                this.player_.muted(false)
            }
            this.player_.volume(this.calculateDistance(event))
        };
        vjs.VolumeBar.prototype.getPercent = function() {
            if (this.player_.muted()) {
                return 0
            } else {
                return this.player_.volume()
            }
        };
        vjs.VolumeBar.prototype.stepForward = function() {
            this.player_.volume(this.player_.volume() + 0.1)
        };
        vjs.VolumeBar.prototype.stepBack = function() {
            this.player_.volume(this.player_.volume() - 0.1)
        };
        vjs.VolumeLevel = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.VolumeLevel.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-volume-level",
                innerHTML: '<span class="vjs-control-text"></span>'
            })
        };
        vjs.VolumeHandle = vjs.SliderHandle.extend();
        vjs.VolumeHandle.prototype.defaultValue = "00:00";
        vjs.VolumeHandle.prototype.createEl = function() {
            return vjs.SliderHandle.prototype.createEl.call(this, "div", {
                className: "vjs-volume-handle"
            })
        };
        vjs.MuteToggle = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options);
                this.on(player, "volumechange", this.update);
                if (player.tech && player.tech.featuresVolumeControl === false) {
                    this.addClass("vjs-hidden")
                }
                this.on(player, "loadstart", function() {
                    if (player.tech.featuresVolumeControl === false) {
                        this.addClass("vjs-hidden")
                    } else {
                        this.removeClass("vjs-hidden")
                    }
                })
            }
        });
        vjs.MuteToggle.prototype.createEl = function() {
            return vjs.Button.prototype.createEl.call(this, "div", {
                className: "vjs-mute-control vjs-control",
                innerHTML: '<div><span class="vjs-control-text">' + this.localize("Mute") + "</span></div>"
            })
        };
        vjs.MuteToggle.prototype.onClick = function() {
            this.player_.muted(this.player_.muted() ? false : true)
        };
        vjs.MuteToggle.prototype.update = function() {
            var vol = this.player_.volume(),
                level = 3;
            if (vol === 0 || this.player_.muted()) {
                level = 0
            } else {
                if (vol < 0.33) {
                    level = 1
                } else {
                    if (vol < 0.67) {
                        level = 2
                    }
                }
            }
            if (this.player_.muted()) {
                if (this.el_.children[0].children[0].innerHTML != this.localize("Unmute")) {
                    this.el_.children[0].children[0].innerHTML = this.localize("Unmute")
                }
            } else {
                if (this.el_.children[0].children[0].innerHTML != this.localize("Mute")) {
                    this.el_.children[0].children[0].innerHTML = this.localize("Mute")
                }
            }
            for (var i = 0; i < 4; i++) {
                vjs.removeClass(this.el_, "vjs-vol-" + i)
            }
            vjs.addClass(this.el_, "vjs-vol-" + level)
        };
        vjs.VolumeMenuButton = vjs.MenuButton.extend({
            init: function(player, options) {
                vjs.MenuButton.call(this, player, options);
                this.on(player, "volumechange", this.volumeUpdate);
                if (player.tech && player.tech.featuresVolumeControl === false) {
                    this.addClass("vjs-hidden")
                }
                this.on(player, "loadstart", function() {
                    if (player.tech.featuresVolumeControl === false) {
                        this.addClass("vjs-hidden")
                    } else {
                        this.removeClass("vjs-hidden")
                    }
                });
                this.addClass("vjs-menu-button")
            }
        });
        vjs.VolumeMenuButton.prototype.createMenu = function() {
            var menu = new vjs.Menu(this.player_, {
                contentElType: "div"
            });
            var vc = new vjs.VolumeBar(this.player_, this.options_.volumeBar);
            vc.on("focus", function() {
                menu.lockShowing()
            });
            vc.on("blur", function() {
                menu.unlockShowing()
            });
            menu.addChild(vc);
            return menu
        };
        vjs.VolumeMenuButton.prototype.onClick = function() {
            vjs.MuteToggle.prototype.onClick.call(this);
            vjs.MenuButton.prototype.onClick.call(this)
        };
        vjs.VolumeMenuButton.prototype.createEl = function() {
            return vjs.Button.prototype.createEl.call(this, "div", {
                className: "vjs-volume-menu-button vjs-menu-button vjs-control",
                innerHTML: '<div><span class="vjs-control-text">' + this.localize("Mute") + "</span></div>"
            })
        };
        vjs.VolumeMenuButton.prototype.volumeUpdate = vjs.MuteToggle.prototype.update;
        vjs.PlaybackRateMenuButton = vjs.MenuButton.extend({
            init: function(player, options) {
                vjs.MenuButton.call(this, player, options);
                this.updateVisibility();
                this.updateLabel();
                this.on(player, "loadstart", this.updateVisibility);
                this.on(player, "ratechange", this.updateLabel)
            }
        });
        vjs.PlaybackRateMenuButton.prototype.buttonText = "Playback Rate";
        vjs.PlaybackRateMenuButton.prototype.className = "vjs-playback-rate";
        vjs.PlaybackRateMenuButton.prototype.createEl = function() {
            var el = vjs.MenuButton.prototype.createEl.call(this);
            this.labelEl_ = vjs.createEl("div", {
                className: "vjs-playback-rate-value",
                innerHTML: 1
            });
            el.appendChild(this.labelEl_);
            return el
        };
        vjs.PlaybackRateMenuButton.prototype.createMenu = function() {
            var menu = new vjs.Menu(this.player());
            var rates = this.player().options()["playbackRates"];
            if (rates) {
                for (var i = rates.length - 1; i >= 0; i--) {
                    menu.addChild(new vjs.PlaybackRateMenuItem(this.player(), {
                        rate: rates[i] + "x"
                    }))
                }
            }
            return menu
        };
        vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes = function() {
            this.el().setAttribute("aria-valuenow", this.player().playbackRate())
        };
        vjs.PlaybackRateMenuButton.prototype.onClick = function() {
            var currentRate = this.player().playbackRate();
            var rates = this.player().options()["playbackRates"];
            var newRate = rates[0];
            for (var i = 0; i < rates.length; i++) {
                if (rates[i] > currentRate) {
                    newRate = rates[i];
                    break
                }
            }
            this.player().playbackRate(newRate)
        };
        vjs.PlaybackRateMenuButton.prototype.playbackRateSupported = function() {
            return this.player().tech && this.player().tech.featuresPlaybackRate && this.player().options()["playbackRates"] && this.player().options()["playbackRates"].length > 0
        };
        vjs.PlaybackRateMenuButton.prototype.updateVisibility = function() {
            if (this.playbackRateSupported()) {
                this.removeClass("vjs-hidden")
            } else {
                this.addClass("vjs-hidden")
            }
        };
        vjs.PlaybackRateMenuButton.prototype.updateLabel = function() {
            if (this.playbackRateSupported()) {
                this.labelEl_.innerHTML = this.player().playbackRate() + "x"
            }
        };
        vjs.PlaybackRateMenuItem = vjs.MenuItem.extend({
            contentElType: "button",
            init: function(player, options) {
                var label = this.label = options.rate;
                var rate = this.rate = parseFloat(label, 10);
                options.label = label;
                options.selected = rate === 1;
                vjs.MenuItem.call(this, player, options);
                this.on(player, "ratechange", this.update)
            }
        });
        vjs.PlaybackRateMenuItem.prototype.onClick = function() {
            vjs.MenuItem.prototype.onClick.call(this);
            this.player().playbackRate(this.rate)
        };
        vjs.PlaybackRateMenuItem.prototype.update = function() {
            this.selected(this.player().playbackRate() == this.rate)
        };
        vjs.PosterImage = vjs.Button.extend({
            init: function(player, options) {
                vjs.Button.call(this, player, options);
                this.update();
                player.on("posterchange", vjs.bind(this, this.update))
            }
        });
        vjs.PosterImage.prototype.dispose = function() {
            this.player().off("posterchange", this.update);
            vjs.Button.prototype.dispose.call(this)
        };
        vjs.PosterImage.prototype.createEl = function() {
            var el = vjs.createEl("div", {
                className: "vjs-poster",
                tabIndex: -1
            });
            if (!vjs.BACKGROUND_SIZE_SUPPORTED) {
                this.fallbackImg_ = vjs.createEl("img");
                el.appendChild(this.fallbackImg_)
            }
            return el
        };
        vjs.PosterImage.prototype.update = function() {
            var url = this.player().poster();
            this.setSrc(url);
            if (url) {
                this.show()
            } else {
                this.hide()
            }
        };
        vjs.PosterImage.prototype.setSrc = function(url) {
            var backgroundImage;
            if (this.fallbackImg_) {
                this.fallbackImg_.src = url
            } else {
                backgroundImage = "";
                if (url) {
                    backgroundImage = 'url("' + url + '")'
                }
                this.el_.style.backgroundImage = backgroundImage
            }
        };
        vjs.PosterImage.prototype.onClick = function() {
            this.player_.play()
        };
        vjs.LoadingSpinner = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options)
            }
        });
        vjs.LoadingSpinner.prototype.createEl = function() {
            return vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-loading-spinner"
            })
        };
        vjs.BigPlayButton = vjs.Button.extend();
        vjs.BigPlayButton.prototype.createEl = function() {
            return vjs.Button.prototype.createEl.call(this, "div", {
                className: "vjs-big-play-button",
                innerHTML: '<span aria-hidden="true"></span>',
                "aria-label": "play"
            })
        };
        vjs.BigPlayButton.prototype.onClick = function() {
            this.player_.play()
        };
        vjs.ErrorDisplay = vjs.Component.extend({
            init: function(player, options) {
                vjs.Component.call(this, player, options);
                this.update();
                this.on(player, "error", this.update)
            }
        });
        vjs.ErrorDisplay.prototype.createEl = function() {
            var el = vjs.Component.prototype.createEl.call(this, "div", {
                className: "vjs-error-display"
            });
            this.contentEl_ = vjs.createEl("div");
            el.appendChild(this.contentEl_);
            return el
        };
        vjs.ErrorDisplay.prototype.update = function() {
            if (this.player().error()) {
                this.contentEl_.innerHTML = this.localize(this.player().error().message)
            }
        };
        (function() {
            var createTrackHelper;
            vjs.MediaTechController = vjs.Component.extend({
                init: function(player, options, ready) {
                    options = options || {};
                    options.reportTouchActivity = false;
                    vjs.Component.call(this, player, options, ready);
                    if (!this["featuresProgressEvents"]) {
                        this.manualProgressOn()
                    }
                    if (!this["featuresTimeupdateEvents"]) {
                        this.manualTimeUpdatesOn()
                    }
                    this.initControlsListeners();
                    if (!this["featuresNativeTextTracks"]) {
                        this.emulateTextTracks()
                    }
                    this.initTextTrackListeners()
                }
            });
            vjs.MediaTechController.prototype.initControlsListeners = function() {
                var player, activateControls;
                player = this.player();
                activateControls = function() {
                    if (player.controls() && !player.usingNativeControls()) {
                        this.addControlsListeners()
                    }
                };
                this.ready(activateControls);
                this.on(player, "controlsenabled", activateControls);
                this.on(player, "controlsdisabled", this.removeControlsListeners);
                this.ready(function() {
                    if (this.networkState && this.networkState() > 0) {
                        this.player().trigger("loadstart")
                    }
                })
            };
            vjs.MediaTechController.prototype.addControlsListeners = function() {
                var userWasActive;
                this.on("mousedown", this.onClick);
                this.on("touchstart", function(event) {
                    userWasActive = this.player_.userActive()
                });
                this.on("touchmove", function(event) {
                    if (userWasActive) {
                        this.player().reportUserActivity()
                    }
                });
                this.on("touchend", function(event) {
                    event.preventDefault()
                });
                this.emitTapEvents();
                this.on("tap", this.onTap)
            };
            vjs.MediaTechController.prototype.removeControlsListeners = function() {
                this.off("tap");
                this.off("touchstart");
                this.off("touchmove");
                this.off("touchleave");
                this.off("touchcancel");
                this.off("touchend");
                this.off("click");
                this.off("mousedown")
            };
            vjs.MediaTechController.prototype.onClick = function(event) {
                if (event.button !== 0) {
                    return
                }
                if (this.player().controls()) {
                    if (this.player().paused()) {
                        this.player().play()
                    } else {
                        this.player().pause()
                    }
                }
            };
            vjs.MediaTechController.prototype.onTap = function() {
                this.player().userActive(!this.player().userActive())
            };
            vjs.MediaTechController.prototype.manualProgressOn = function() {
                this.manualProgress = true;
                this.trackProgress()
            };
            vjs.MediaTechController.prototype.manualProgressOff = function() {
                this.manualProgress = false;
                this.stopTrackingProgress()
            };
            vjs.MediaTechController.prototype.trackProgress = function() {
                this.progressInterval = this.setInterval(function() {
                    var bufferedPercent = this.player().bufferedPercent();
                    if (this.bufferedPercent_ != bufferedPercent) {
                        this.player().trigger("progress")
                    }
                    this.bufferedPercent_ = bufferedPercent;
                    if (bufferedPercent === 1) {
                        this.stopTrackingProgress()
                    }
                }, 500)
            };
            vjs.MediaTechController.prototype.stopTrackingProgress = function() {
                this.clearInterval(this.progressInterval)
            };
            /*! Time Tracking -------------------------------------------------------------- */
            vjs.MediaTechController.prototype.manualTimeUpdatesOn = function() {
                var player = this.player_;
                this.manualTimeUpdates = true;
                this.on(player, "play", this.trackCurrentTime);
                this.on(player, "pause", this.stopTrackingCurrentTime);
                this.one("timeupdate", function() {
                    this["featuresTimeupdateEvents"] = true;
                    this.manualTimeUpdatesOff()
                })
            };
            vjs.MediaTechController.prototype.manualTimeUpdatesOff = function() {
                var player = this.player_;
                this.manualTimeUpdates = false;
                this.stopTrackingCurrentTime();
                this.off(player, "play", this.trackCurrentTime);
                this.off(player, "pause", this.stopTrackingCurrentTime)
            };
            vjs.MediaTechController.prototype.trackCurrentTime = function() {
                if (this.currentTimeInterval) {
                    this.stopTrackingCurrentTime()
                }
                this.currentTimeInterval = this.setInterval(function() {
                    this.player().trigger("timeupdate")
                }, 250)
            };
            vjs.MediaTechController.prototype.stopTrackingCurrentTime = function() {
                this.clearInterval(this.currentTimeInterval);
                this.player().trigger("timeupdate")
            };
            vjs.MediaTechController.prototype.dispose = function() {
                if (this.manualProgress) {
                    this.manualProgressOff()
                }
                if (this.manualTimeUpdates) {
                    this.manualTimeUpdatesOff()
                }
                vjs.Component.prototype.dispose.call(this)
            };
            vjs.MediaTechController.prototype.setCurrentTime = function() {
                if (this.manualTimeUpdates) {
                    this.player().trigger("timeupdate")
                }
            };
            vjs.MediaTechController.prototype.initTextTrackListeners = function() {
                var player = this.player_,
                    tracks, textTrackListChanges = function() {
                        var textTrackDisplay = player.getChild("textTrackDisplay"),
                            controlBar;
                        if (textTrackDisplay) {
                            textTrackDisplay.updateDisplay()
                        }
                    };
                tracks = this.textTracks();
                if (!tracks) {
                    return
                }
                tracks.addEventListener("removetrack", textTrackListChanges);
                tracks.addEventListener("addtrack", textTrackListChanges);
                this.on("dispose", vjs.bind(this, function() {
                    tracks.removeEventListener("removetrack", textTrackListChanges);
                    tracks.removeEventListener("addtrack", textTrackListChanges)
                }))
            };
            vjs.MediaTechController.prototype.emulateTextTracks = function() {
                var player = this.player_,
                    textTracksChanges, tracks, script;
                if (!window.WebVTT) {
                    script = document.createElement("script");
                    script.src = player.options()["vtt.js"] || "../node_modules/vtt.js/dist/vtt.js";
                    player.el().appendChild(script);
                    window.WebVTT = true
                }
                tracks = this.textTracks();
                if (!tracks) {
                    return
                }
                textTracksChanges = function() {
                    var i, track, textTrackDisplay;
                    textTrackDisplay = player.getChild("textTrackDisplay"), textTrackDisplay.updateDisplay();
                    for (i = 0; i < this.length; i++) {
                        track = this[i];
                        track.removeEventListener("cuechange", vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay));
                        if (track.mode === "showing") {
                            track.addEventListener("cuechange", vjs.bind(textTrackDisplay, textTrackDisplay.updateDisplay))
                        }
                    }
                };
                tracks.addEventListener("change", textTracksChanges);
                this.on("dispose", vjs.bind(this, function() {
                    tracks.removeEventListener("change", textTracksChanges)
                }))
            };
            vjs.MediaTechController.prototype.textTracks_;
            vjs.MediaTechController.prototype.textTracks = function() {
                this.player_.textTracks_ = this.player_.textTracks_ || new vjs.TextTrackList();
                return this.player_.textTracks_
            };
            vjs.MediaTechController.prototype.remoteTextTracks = function() {
                this.player_.remoteTextTracks_ = this.player_.remoteTextTracks_ || new vjs.TextTrackList();
                return this.player_.remoteTextTracks_
            };
            createTrackHelper = function(self, kind, label, language, options) {
                var tracks = self.textTracks(),
                    track;
                options = options || {};
                options.kind = kind;
                if (label) {
                    options.label = label
                }
                if (language) {
                    options.language = language
                }
                options.player = self.player_;
                track = new vjs.TextTrack(options);
                tracks.addTrack_(track);
                return track
            };
            vjs.MediaTechController.prototype.addTextTrack = function(kind, label, language) {
                if (!kind) {
                    throw new Error("TextTrack kind is required but was not provided")
                }
                return createTrackHelper(this, kind, label, language)
            };
            vjs.MediaTechController.prototype.addRemoteTextTrack = function(options) {
                var track = createTrackHelper(this, options.kind, options.label, options.language, options);
                this.remoteTextTracks().addTrack_(track);
                return {
                    track: track
                }
            };
            vjs.MediaTechController.prototype.removeRemoteTextTrack = function(track) {
                this.textTracks().removeTrack_(track);
                this.remoteTextTracks().removeTrack_(track)
            };
            vjs.MediaTechController.prototype.setPoster = function() {};
            vjs.MediaTechController.prototype.featuresVolumeControl = true;
            vjs.MediaTechController.prototype.featuresFullscreenResize = false;
            vjs.MediaTechController.prototype.featuresPlaybackRate = false;
            vjs.MediaTechController.prototype.featuresProgressEvents = false;
            vjs.MediaTechController.prototype.featuresTimeupdateEvents = false;
            vjs.MediaTechController.prototype.featuresNativeTextTracks = false;
            vjs.MediaTechController.withSourceHandlers = function(Tech) {
                Tech.registerSourceHandler = function(handler, index) {
                    var handlers = Tech.sourceHandlers;
                    if (!handlers) {
                        handlers = Tech.sourceHandlers = []
                    }
                    if (index === undefined) {
                        index = handlers.length
                    }
                    handlers.splice(index, 0, handler)
                };
                Tech.selectSourceHandler = function(source) {
                    var handlers = Tech.sourceHandlers || [],
                        can;
                    for (var i = 0; i < handlers.length; i++) {
                        can = handlers[i].canHandleSource(source);
                        if (can) {
                            return handlers[i]
                        }
                    }
                    return null
                };
                Tech.canPlaySource = function(srcObj) {
                    var sh = Tech.selectSourceHandler(srcObj);
                    if (sh) {
                        return sh.canHandleSource(srcObj)
                    }
                    return ""
                };
                Tech.prototype.setSource = function(source) {
                    var sh = Tech.selectSourceHandler(source);
                    if (!sh) {
                        if (Tech.nativeSourceHandler) {
                            sh = Tech.nativeSourceHandler
                        } else {
                            vjs.log.error("No source hander found for the current source.")
                        }
                    }
                    this.disposeSourceHandler();
                    this.off("dispose", this.disposeSourceHandler);
                    this.currentSource_ = source;
                    this.sourceHandler_ = sh.handleSource(source, this);
                    this.on("dispose", this.disposeSourceHandler);
                    return this
                };
                Tech.prototype.disposeSourceHandler = function() {
                    if (this.sourceHandler_ && this.sourceHandler_.dispose) {
                        this.sourceHandler_.dispose()
                    }
                }
            };
            vjs.media = {}
        })();
        vjs.Html5 = vjs.MediaTechController.extend({
            init: function(player, options, ready) {
                var nodes, nodesLength, i, node, nodeName, removeNodes;
                if (options.nativeCaptions === false || options.nativeTextTracks === false) {
                    this["featuresNativeTextTracks"] = false
                }
                vjs.MediaTechController.call(this, player, options, ready);
                this.setupTriggers();
                var source = options.source;
                if (source && (this.el_.currentSrc !== source.src || (player.tag && player.tag.initNetworkState_ === 3))) {
                    this.setSource(source)
                }
                if (this.el_.hasChildNodes()) {
                    nodes = this.el_.childNodes;
                    nodesLength = nodes.length;
                    removeNodes = [];
                    while (nodesLength--) {
                        node = nodes[nodesLength];
                        nodeName = node.nodeName.toLowerCase();
                        if (nodeName === "track") {
                            if (!this["featuresNativeTextTracks"]) {
                                removeNodes.push(node)
                            } else {
                                this.remoteTextTracks().addTrack_(node.track)
                            }
                        }
                    }
                    for (i = 0; i < removeNodes.length; i++) {
                        this.el_.removeChild(removeNodes[i])
                    }
                }
                if (this["featuresNativeTextTracks"]) {
                    this.on("loadstart", vjs.bind(this, this.hideCaptions))
                }
                if (vjs.TOUCH_ENABLED && player.options()["nativeControlsForTouch"] === true) {
                    this.useNativeControls()
                }
                player.ready(function() {
                    if (this.tag && this.options_.autoplay && this.paused()) {
                        delete this.tag.poster;
                        this.play()
                    }
                });
                this.triggerReady()
            }
        });
        vjs.Html5.prototype.dispose = function() {
            vjs.Html5.disposeMediaElement(this.el_);
            vjs.MediaTechController.prototype.dispose.call(this)
        };
        vjs.Html5.prototype.createEl = function() {
            var player = this.player_,
                track, trackEl, i, el = player.tag,
                attributes, newEl, clone;
            if (!el || this["movingMediaElementInDOM"] === false) {
                if (el) {
                    clone = el.cloneNode(false);
                    vjs.Html5.disposeMediaElement(el);
                    el = clone;
                    player.tag = null
                } else {
                    el = vjs.createEl("video");
                    attributes = videojs.util.mergeOptions({}, player.tagAttributes);
                    if (!vjs.TOUCH_ENABLED || player.options()["nativeControlsForTouch"] !== true) {
                        delete attributes.controls
                    }
                    vjs.setElementAttributes(el, vjs.obj.merge(attributes, {
                        id: player.id() + "_html5_api",
                        "class": "vjs-tech"
                    }))
                }
                el.player = player;
                if (player.options_.tracks) {
                    for (i = 0; i < player.options_.tracks.length; i++) {
                        track = player.options_.tracks[i];
                        trackEl = document.createElement("track");
                        trackEl.kind = track.kind;
                        trackEl.label = track.label;
                        trackEl.srclang = track.srclang;
                        trackEl.src = track.src;
                        if ("default" in track) {
                            trackEl.setAttribute("default", "default")
                        }
                        el.appendChild(trackEl)
                    }
                }
                vjs.insertFirst(el, player.el())
            }
            var settingsAttrs = ["autoplay", "preload", "loop", "muted"];
            for (i = settingsAttrs.length - 1; i >= 0; i--) {
                var attr = settingsAttrs[i];
                var overwriteAttrs = {};
                if (typeof player.options_[attr] !== "undefined") {
                    overwriteAttrs[attr] = player.options_[attr]
                }
                vjs.setElementAttributes(el, overwriteAttrs)
            }
            return el
        };
        vjs.Html5.prototype.hideCaptions = function() {
            var tracks = this.el_.querySelectorAll("track"),
                track, i = tracks.length,
                kinds = {
                    captions: 1,
                    subtitles: 1
                };
            while (i--) {
                track = tracks[i].track;
                if ((track && track.kind in kinds) && (!tracks[i]["default"])) {
                    track.mode = "disabled"
                }
            }
        };
        vjs.Html5.prototype.setupTriggers = function() {
            for (var i = vjs.Html5.Events.length - 1; i >= 0; i--) {
                this.on(vjs.Html5.Events[i], this.eventHandler)
            }
        };
        vjs.Html5.prototype.eventHandler = function(evt) {
            if (evt.type == "error" && this.error()) {
                this.player().error(this.error().code)
            } else {
                evt.bubbles = false;
                this.player().trigger(evt)
            }
        };
        vjs.Html5.prototype.useNativeControls = function() {
            var tech, player, controlsOn, controlsOff, cleanUp;
            tech = this;
            player = this.player();
            tech.setControls(player.controls());
            controlsOn = function() {
                tech.setControls(true)
            };
            controlsOff = function() {
                tech.setControls(false)
            };
            player.on("controlsenabled", controlsOn);
            player.on("controlsdisabled", controlsOff);
            cleanUp = function() {
                player.off("controlsenabled", controlsOn);
                player.off("controlsdisabled", controlsOff)
            };
            tech.on("dispose", cleanUp);
            player.on("usingcustomcontrols", cleanUp);
            player.usingNativeControls(true)
        };
        vjs.Html5.prototype.play = function() {
            this.el_.play()
        };
        vjs.Html5.prototype.pause = function() {
            this.el_.pause()
        };
        vjs.Html5.prototype.paused = function() {
            return this.el_.paused
        };
        vjs.Html5.prototype.currentTime = function() {
            return this.el_.currentTime
        };
        vjs.Html5.prototype.setCurrentTime = function(seconds) {
            try {
                this.el_.currentTime = seconds
            } catch (e) {
                vjs.log(e, "Video is not ready. (Video.js)")
            }
        };
        vjs.Html5.prototype.duration = function() {
            return this.el_.duration || 0
        };
        vjs.Html5.prototype.buffered = function() {
            return this.el_.buffered
        };
        vjs.Html5.prototype.volume = function() {
            return this.el_.volume
        };
        vjs.Html5.prototype.setVolume = function(percentAsDecimal) {
            this.el_.volume = percentAsDecimal
        };
        vjs.Html5.prototype.muted = function() {
            return this.el_.muted
        };
        vjs.Html5.prototype.setMuted = function(muted) {
            this.el_.muted = muted
        };
        vjs.Html5.prototype.width = function() {
            return this.el_.offsetWidth
        };
        vjs.Html5.prototype.height = function() {
            return this.el_.offsetHeight
        };
        vjs.Html5.prototype.supportsFullScreen = function() {
            if (typeof this.el_.webkitEnterFullScreen == "function") {
                if (/Android/.test(vjs.USER_AGENT) || !/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)) {
                    return true
                }
            }
            return false
        };
        vjs.Html5.prototype.enterFullScreen = function() {
            var video = this.el_;
            if ("webkitDisplayingFullscreen" in video) {
                this.one("webkitbeginfullscreen", function() {
                    this.player_.isFullscreen(true);
                    this.one("webkitendfullscreen", function() {
                        this.player_.isFullscreen(false);
                        this.player_.trigger("fullscreenchange")
                    });
                    this.player_.trigger("fullscreenchange")
                })
            }
            if (video.paused && video.networkState <= video.HAVE_METADATA) {
                this.el_.play();
                this.setTimeout(function() {
                    video.pause();
                    video.webkitEnterFullScreen()
                }, 0)
            } else {
                video.webkitEnterFullScreen()
            }
        };
        vjs.Html5.prototype.exitFullScreen = function() {
            this.el_.webkitExitFullScreen()
        };
        vjs.Html5.prototype.src = function(src) {
            if (src === undefined) {
                return this.el_.src
            } else {
                this.setSrc(src)
            }
        };
        vjs.Html5.prototype.setSrc = function(src) {
            this.el_.src = src
        };
        vjs.Html5.prototype.load = function() {
            this.el_.load()
        };
        vjs.Html5.prototype.currentSrc = function() {
            return this.el_.currentSrc
        };
        vjs.Html5.prototype.poster = function() {
            return this.el_.poster
        };
        vjs.Html5.prototype.setPoster = function(val) {
            this.el_.poster = val
        };
        vjs.Html5.prototype.preload = function() {
            return this.el_.preload
        };
        vjs.Html5.prototype.setPreload = function(val) {
            this.el_.preload = val
        };
        vjs.Html5.prototype.autoplay = function() {
            return this.el_.autoplay
        };
        vjs.Html5.prototype.setAutoplay = function(val) {
            this.el_.autoplay = val
        };
        vjs.Html5.prototype.controls = function() {
            return this.el_.controls
        };
        vjs.Html5.prototype.setControls = function(val) {
            this.el_.controls = !!val
        };
        vjs.Html5.prototype.loop = function() {
            return this.el_.loop
        };
        vjs.Html5.prototype.setLoop = function(val) {
            this.el_.loop = val
        };
        vjs.Html5.prototype.error = function() {
            return this.el_.error
        };
        vjs.Html5.prototype.seeking = function() {
            return this.el_.seeking
        };
        vjs.Html5.prototype.ended = function() {
            return this.el_.ended
        };
        vjs.Html5.prototype.defaultMuted = function() {
            return this.el_.defaultMuted
        };
        vjs.Html5.prototype.playbackRate = function() {
            return this.el_.playbackRate
        };
        vjs.Html5.prototype.setPlaybackRate = function(val) {
            this.el_.playbackRate = val
        };
        vjs.Html5.prototype.networkState = function() {
            return this.el_.networkState
        };
        vjs.Html5.prototype.readyState = function() {
            return this.el_.readyState
        };
        vjs.Html5.prototype.textTracks = function() {
            if (!this["featuresNativeTextTracks"]) {
                return vjs.MediaTechController.prototype.textTracks.call(this)
            }
            return this.el_.textTracks
        };
        vjs.Html5.prototype.addTextTrack = function(kind, label, language) {
            if (!this["featuresNativeTextTracks"]) {
                return vjs.MediaTechController.prototype.addTextTrack.call(this, kind, label, language)
            }
            return this.el_.addTextTrack(kind, label, language)
        };
        vjs.Html5.prototype.addRemoteTextTrack = function(options) {
            if (!this["featuresNativeTextTracks"]) {
                return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this, options)
            }
            var track = document.createElement("track");
            options = options || {};
            if (options.kind) {
                track.kind = options.kind
            }
            if (options.label) {
                track.label = options.label
            }
            if (options.language || options.srclang) {
                track.srclang = options.language || options.srclang
            }
            if (options["default"]) {
                track["default"] = options["default"]
            }
            if (options.id) {
                track.id = options.id
            }
            if (options.src) {
                track.src = options.src
            }
            this.el().appendChild(track);
            if (track.track.kind === "metadata") {
                track.track["mode"] = "hidden"
            } else {
                track.track["mode"] = "disabled"
            }
            track.onload = function() {
                var tt = track.track;
                if (track.readyState >= 2) {
                    if (tt.kind === "metadata" && tt.mode !== "hidden") {
                        tt.mode = "hidden"
                    } else {
                        if (tt.kind !== "metadata" && tt.mode !== "disabled") {
                            tt.mode = "disabled"
                        }
                    }
                    track.onload = null
                }
            };
            this.remoteTextTracks().addTrack_(track.track);
            return track
        };
        vjs.Html5.prototype.removeRemoteTextTrack = function(track) {
            if (!this["featuresNativeTextTracks"]) {
                return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this, track)
            }
            var tracks, i;
            this.remoteTextTracks().removeTrack_(track);
            tracks = this.el()["querySelectorAll"]("track");
            for (i = 0; i < tracks.length; i++) {
                if (tracks[i] === track || tracks[i]["track"] === track) {
                    tracks[i]["parentNode"]["removeChild"](tracks[i]);
                    break
                }
            }
        };
        vjs.Html5.isSupported = function() {
            try {
                vjs.TEST_VID.volume = 0.5
            } catch (e) {
                return false
            }
            return !!vjs.TEST_VID.canPlayType
        };
        vjs.MediaTechController.withSourceHandlers(vjs.Html5);
        vjs.Html5.nativeSourceHandler = {};
        vjs.Html5.nativeSourceHandler.canHandleSource = function(source) {
            var match, ext;

            function canPlayType(type) {
                try {
                    return vjs.TEST_VID.canPlayType(type)
                } catch (e) {
                    return ""
                }
            }
            if (source.type) {
                return canPlayType(source.type)
            } else {
                if (source.src) {
                    match = source.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i);
                    ext = match && match[1];
                    return canPlayType("video/" + ext)
                }
            }
            return ""
        };
        vjs.Html5.nativeSourceHandler.handleSource = function(source, tech) {
            tech.setSrc(source.src)
        };
        vjs.Html5.nativeSourceHandler.dispose = function() {};
        vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler);
        vjs.Html5.canControlVolume = function() {
            var volume = vjs.TEST_VID.volume;
            vjs.TEST_VID.volume = (volume / 2) + 0.1;
            return volume !== vjs.TEST_VID.volume
        };
        vjs.Html5.canControlPlaybackRate = function() {
            var playbackRate = vjs.TEST_VID.playbackRate;
            vjs.TEST_VID.playbackRate = (playbackRate / 2) + 0.1;
            return playbackRate !== vjs.TEST_VID.playbackRate
        };
        vjs.Html5.supportsNativeTextTracks = function() {
            var supportsTextTracks;
            supportsTextTracks = !!vjs.TEST_VID.textTracks;
            if (supportsTextTracks && vjs.TEST_VID.textTracks.length > 0) {
                supportsTextTracks = typeof vjs.TEST_VID.textTracks[0]["mode"] !== "number"
            }
            if (supportsTextTracks && vjs.IS_FIREFOX) {
                supportsTextTracks = false
            }
            return supportsTextTracks
        };
        vjs.Html5.prototype.featuresVolumeControl = vjs.Html5.canControlVolume();
        vjs.Html5.prototype.featuresPlaybackRate = vjs.Html5.canControlPlaybackRate();
        vjs.Html5.prototype.movingMediaElementInDOM = !vjs.IS_IOS;
        vjs.Html5.prototype.featuresFullscreenResize = true;
        vjs.Html5.prototype.featuresProgressEvents = true;
        vjs.Html5.prototype.featuresNativeTextTracks = vjs.Html5.supportsNativeTextTracks();
        (function() {
            var canPlayType, mpegurlRE = /^application\/(?:x-|vnd\.apple\.)mpegurl/i,
                mp4RE = /^video\/mp4/i;
            vjs.Html5.patchCanPlayType = function() {
                if (vjs.ANDROID_VERSION >= 4) {
                    if (!canPlayType) {
                        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType
                    }
                    vjs.TEST_VID.constructor.prototype.canPlayType = function(type) {
                        if (type && mpegurlRE.test(type)) {
                            return "maybe"
                        }
                        return canPlayType.call(this, type)
                    }
                }
                if (vjs.IS_OLD_ANDROID) {
                    if (!canPlayType) {
                        canPlayType = vjs.TEST_VID.constructor.prototype.canPlayType
                    }
                    vjs.TEST_VID.constructor.prototype.canPlayType = function(type) {
                        if (type && mp4RE.test(type)) {
                            return "maybe"
                        }
                        return canPlayType.call(this, type)
                    }
                }
            };
            vjs.Html5.unpatchCanPlayType = function() {
                var r = vjs.TEST_VID.constructor.prototype.canPlayType;
                vjs.TEST_VID.constructor.prototype.canPlayType = canPlayType;
                canPlayType = null;
                return r
            };
            vjs.Html5.patchCanPlayType()
        })();
        vjs.Html5.Events = "loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");
        vjs.Html5.disposeMediaElement = function(el) {
            if (!el) {
                return
            }
            el.player = null;
            if (el.parentNode) {
                el.parentNode.removeChild(el)
            }
            while (el.hasChildNodes()) {
                el.removeChild(el.firstChild)
            }
            el.removeAttribute("src");
            if (typeof el.load === "function") {
                (function() {
                    try {
                        el.load()
                    } catch (e) {}
                })()
            }
        };
        vjs.Flash = vjs.MediaTechController.extend({
            init: function(player, options, ready) {
                vjs.MediaTechController.call(this, player, options, ready);
                var source = options.source,
                    parentEl = options.parentEl,
                    placeHolder = this.el_ = vjs.createEl("div", {
                        id: player.id() + "_temp_flash"
                    }),
                    objId = player.id() + "_flash_api",
                    playerOptions = player.options_,
                    flashVars = vjs.obj.merge({
                        readyFunction: "videojs.Flash.onReady",
                        eventProxyFunction: "videojs.Flash.onEvent",
                        errorEventProxyFunction: "videojs.Flash.onError",
                        autoplay: playerOptions.autoplay,
                        preload: playerOptions.preload,
                        loop: playerOptions.loop,
                        muted: playerOptions.muted
                    }, options.flashVars),
                    params = vjs.obj.merge({
                        wmode: "opaque",
                        bgcolor: "#000000"
                    }, options.params),
                    attributes = vjs.obj.merge({
                        id: objId,
                        name: objId,
                        "class": "vjs-tech"
                    }, options.attributes);
                if (source) {
                    this.ready(function() {
                        this.setSource(source)
                    })
                }
                vjs.insertFirst(placeHolder, parentEl);
                if (options.startTime) {
                    this.ready(function() {
                        this.load();
                        this.play();
                        this["currentTime"](options.startTime)
                    })
                }
                if (vjs.IS_FIREFOX) {
                    this.ready(function() {
                        this.on("mousemove", function() {
                            this.player().trigger({
                                type: "mousemove",
                                bubbles: false
                            })
                        })
                    })
                }
                player.on("stageclick", player.reportUserActivity);
                this.el_ = vjs.Flash.embed(options.swf, placeHolder, flashVars, params, attributes)
            }
        });
        vjs.Flash.prototype.dispose = function() {
            vjs.MediaTechController.prototype.dispose.call(this)
        };
        vjs.Flash.prototype.play = function() {
            this.el_.vjs_play()
        };
        vjs.Flash.prototype.pause = function() {
            this.el_.vjs_pause()
        };
        vjs.Flash.prototype.src = function(src) {
            if (src === undefined) {
                return this["currentSrc"]()
            }
            return this.setSrc(src)
        };
        vjs.Flash.prototype.setSrc = function(src) {
            src = vjs.getAbsoluteURL(src);
            this.el_.vjs_src(src);
            if (this.player_.autoplay()) {
                var tech = this;
                this.setTimeout(function() {
                    tech.play()
                }, 0)
            }
        };
        vjs.Flash.prototype.setCurrentTime = function(time) {
            this.lastSeekTarget_ = time;
            this.el_.vjs_setProperty("currentTime", time);
            vjs.MediaTechController.prototype.setCurrentTime.call(this)
        };
        vjs.Flash.prototype.currentTime = function(time) {
            if (this.seeking()) {
                return this.lastSeekTarget_ || 0
            }
            return this.el_.vjs_getProperty("currentTime")
        };
        vjs.Flash.prototype.currentSrc = function() {
            if (this.currentSource_) {
                return this.currentSource_.src
            } else {
                return this.el_.vjs_getProperty("currentSrc")
            }
        };
        vjs.Flash.prototype.load = function() {
            this.el_.vjs_load()
        };
        vjs.Flash.prototype.poster = function() {
            this.el_.vjs_getProperty("poster")
        };
        vjs.Flash.prototype.setPoster = function() {};
        vjs.Flash.prototype.buffered = function() {
            return vjs.createTimeRange(0, this.el_.vjs_getProperty("buffered"))
        };
        vjs.Flash.prototype.supportsFullScreen = function() {
            return false
        };
        vjs.Flash.prototype.enterFullScreen = function() {
            return false
        };
        (function() {
            var api = vjs.Flash.prototype,
                readWrite = "rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),
                readOnly = "error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),
                i;

            function createSetter(attr) {
                var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);
                api["set" + attrUpper] = function(val) {
                    return this.el_.vjs_setProperty(attr, val)
                }
            }

            function createGetter(attr) {
                api[attr] = function() {
                    return this.el_.vjs_getProperty(attr)
                }
            }
            for (i = 0; i < readWrite.length; i++) {
                createGetter(readWrite[i]);
                createSetter(readWrite[i])
            }
            for (i = 0; i < readOnly.length; i++) {
                createGetter(readOnly[i])
            }
        })();
        vjs.Flash.isSupported = function() {
            return vjs.Flash.version()[0] >= 10
        };
        vjs.MediaTechController.withSourceHandlers(vjs.Flash);
        vjs.Flash.nativeSourceHandler = {};
        vjs.Flash.nativeSourceHandler.canHandleSource = function(source) {
            var type;
            if (!source.type) {
                return ""
            }
            type = source.type.replace(/;.*/, "").toLowerCase();
            if (type in vjs.Flash.formats) {
                return "maybe"
            }
            return ""
        };
        vjs.Flash.nativeSourceHandler.handleSource = function(source, tech) {
            tech.setSrc(source.src)
        };
        vjs.Flash.nativeSourceHandler.dispose = function() {};
        vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler);
        vjs.Flash.formats = {
            "video/flv": "FLV",
            "video/x-flv": "FLV",
            "video/mp4": "MP4",
            "video/m4v": "MP4"
        };
        vjs.Flash.onReady = function(currSwf) {
            var el, player;
            el = vjs.el(currSwf);
            player = el && el.parentNode && el.parentNode.player;
            if (player) {
                el.player = player;
                vjs.Flash.checkReady(player.tech)
            }
        };
        vjs.Flash.checkReady = function(tech) {
            if (!tech.el()) {
                return
            }
            if (tech.el().vjs_getProperty) {
                tech.triggerReady()
            } else {
                this.setTimeout(function() {
                    vjs.Flash.checkReady(tech)
                }, 50)
            }
        };
        vjs.Flash.onEvent = function(swfID, eventName) {
            var player = vjs.el(swfID)["player"];
            player.trigger(eventName)
        };
        vjs.Flash.onError = function(swfID, err) {
            var player = vjs.el(swfID)["player"];
            var msg = "FLASH: " + err;
            if (err == "srcnotfound") {
                player.error({
                    code: 4,
                    message: msg
                })
            } else {
                player.error(msg)
            }
        };
        vjs.Flash.version = function() {
            var version = "0,0,0";
            try {
                version = new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g, ",").match(/^,?(.+),?$/)[1]
            } catch (e) {
                try {
                    if (navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin) {
                        version = (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g, ",").match(/^,?(.+),?$/)[1]
                    }
                } catch (err) {}
            }
            return version.split(",")
        };
        vjs.Flash.embed = function(swf, placeHolder, flashVars, params, attributes) {
            var code = vjs.Flash.getEmbedCode(swf, flashVars, params, attributes),
                obj = vjs.createEl("div", {
                    innerHTML: code
                }).childNodes[0],
                par = placeHolder.parentNode;
            placeHolder.parentNode.replaceChild(obj, placeHolder);
            var newObj = par.childNodes[0];
            setTimeout(function() {
                newObj.style.display = "block"
            }, 1000);
            return obj
        };
        vjs.Flash.getEmbedCode = function(swf, flashVars, params, attributes) {
            var objTag = '<object type="application/x-shockwave-flash" ',
                flashVarsString = "",
                paramsString = "",
                attrsString = "";
            if (flashVars) {
                vjs.obj.each(flashVars, function(key, val) {
                    flashVarsString += (key + "=" + val + "&amp;")
                })
            }
            params = vjs.obj.merge({
                movie: swf,
                flashvars: flashVarsString,
                allowScriptAccess: "always",
                allowNetworking: "all"
            }, params);
            vjs.obj.each(params, function(key, val) {
                paramsString += '<param name="' + key + '" value="' + val + '" />'
            });
            attributes = vjs.obj.merge({
                data: swf,
                width: "100%",
                height: "100%"
            }, attributes);
            vjs.obj.each(attributes, function(key, val) {
                attrsString += (key + '="' + val + '" ')
            });
            return objTag + attrsString + ">" + paramsString + "</object>"
        };
        vjs.Flash.streamingFormats = {
            "rtmp/mp4": "MP4",
            "rtmp/flv": "FLV"
        };
        vjs.Flash.streamFromParts = function(connection, stream) {
            return connection + "&" + stream
        };
        vjs.Flash.streamToParts = function(src) {
            var parts = {
                connection: "",
                stream: ""
            };
            if (!src) {
                return parts
            }
            var connEnd = src.indexOf("&");
            var streamBegin;
            if (connEnd !== -1) {
                streamBegin = connEnd + 1
            } else {
                connEnd = streamBegin = src.lastIndexOf("/") + 1;
                if (connEnd === 0) {
                    connEnd = streamBegin = src.length
                }
            }
            parts.connection = src.substring(0, connEnd);
            parts.stream = src.substring(streamBegin, src.length);
            return parts
        };
        vjs.Flash.isStreamingType = function(srcType) {
            return srcType in vjs.Flash.streamingFormats
        };
        vjs.Flash.RTMP_RE = /^rtmp[set]?:\/\//i;
        vjs.Flash.isStreamingSrc = function(src) {
            return vjs.Flash.RTMP_RE.test(src)
        };
        vjs.Flash.rtmpSourceHandler = {};
        vjs.Flash.rtmpSourceHandler.canHandleSource = function(source) {
            if (vjs.Flash.isStreamingType(source.type) || vjs.Flash.isStreamingSrc(source.src)) {
                return "maybe"
            }
            return ""
        };
        vjs.Flash.rtmpSourceHandler.handleSource = function(source, tech) {
            var srcParts = vjs.Flash.streamToParts(source.src);
            tech.setRtmpConnection(srcParts.connection);
            tech.setRtmpStream(srcParts.stream)
        };
        vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler);
        vjs.MediaLoader = vjs.Component.extend({
            init: function(player, options, ready) {
                vjs.Component.call(this, player, options, ready);
                if (!player.options_.sources || player.options_.sources.length === 0) {
                    for (var i = 0, j = player.options_.techOrder; i < j.length; i++) {
                        var techName = vjs.capitalize(j[i]),
                            tech = window.videojs[techName];
                        if (tech && tech.isSupported()) {
                            player.loadTech(techName);
                            break
                        }
                    }
                } else {
                    player.src(player.options_.sources)
                }
            }
        });
        vjs.TextTrackMode = {
            disabled: "disabled",
            hidden: "hidden",
            showing: "showing"
        };
        vjs.TextTrackKind = {
            subtitles: "subtitles",
            captions: "captions",
            descriptions: "descriptions",
            chapters: "chapters",
            metadata: "metadata"
        };
        (function() {
            vjs.TextTrack = function(options) {
                var tt, id, mode, kind, label, language, cues, activeCues, timeupdateHandler, changed, prop;
                options = options || {};
                if (!options.player) {
                    throw new Error("A player was not provided.")
                }
                tt = this;
                if (vjs.IS_IE8) {
                    tt = document.createElement("custom");
                    for (prop in vjs.TextTrack.prototype) {
                        tt[prop] = vjs.TextTrack.prototype[prop]
                    }
                }
                tt.player_ = options.player;
                mode = vjs.TextTrackMode[options.mode] || "disabled";
                kind = vjs.TextTrackKind[options.kind] || "subtitles";
                label = options.label || "";
                language = options.language || options.srclang || "";
                id = options.id || "vjs_text_track_" + vjs.guid++;
                if (kind === "metadata" || kind === "chapters") {
                    mode = "hidden"
                }
                tt.cues_ = [];
                tt.activeCues_ = [];
                cues = new vjs.TextTrackCueList(tt.cues_);
                activeCues = new vjs.TextTrackCueList(tt.activeCues_);
                changed = false;
                timeupdateHandler = vjs.bind(tt, function() {
                    this["activeCues"];
                    if (changed) {
                        this["trigger"]("cuechange");
                        changed = false
                    }
                });
                if (mode !== "disabled") {
                    tt.player_.on("timeupdate", timeupdateHandler)
                }
                Object.defineProperty(tt, "kind", {
                    get: function() {
                        return kind
                    },
                    set: Function.prototype
                });
                Object.defineProperty(tt, "label", {
                    get: function() {
                        return label
                    },
                    set: Function.prototype
                });
                Object.defineProperty(tt, "language", {
                    get: function() {
                        return language
                    },
                    set: Function.prototype
                });
                Object.defineProperty(tt, "id", {
                    get: function() {
                        return id
                    },
                    set: Function.prototype
                });
                Object.defineProperty(tt, "mode", {
                    get: function() {
                        return mode
                    },
                    set: function(newMode) {
                        if (!vjs.TextTrackMode[newMode]) {
                            return
                        }
                        mode = newMode;
                        if (mode === "showing") {
                            this.player_.on("timeupdate", timeupdateHandler)
                        }
                        this.trigger("modechange")
                    }
                });
                Object.defineProperty(tt, "cues", {
                    get: function() {
                        if (!this.loaded_) {
                            return null
                        }
                        return cues
                    },
                    set: Function.prototype
                });
                Object.defineProperty(tt, "activeCues", {
                    get: function() {
                        var i, l, active, ct, cue;
                        if (!this.loaded_) {
                            return null
                        }
                        if (this["cues"].length === 0) {
                            return activeCues
                        }
                        ct = this.player_.currentTime();
                        i = 0;
                        l = this["cues"].length;
                        active = [];
                        for (; i < l; i++) {
                            cue = this["cues"][i];
                            if (cue.startTime <= ct && cue.endTime >= ct) {
                                active.push(cue)
                            } else {
                                if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {
                                    active.push(cue)
                                }
                            }
                        }
                        changed = false;
                        if (active.length !== this.activeCues_.length) {
                            changed = true
                        } else {
                            for (i = 0; i < active.length; i++) {
                                if (indexOf.call(this.activeCues_, active[i]) === -1) {
                                    changed = true
                                }
                            }
                        }
                        this.activeCues_ = active;
                        activeCues.setCues_(this.activeCues_);
                        return activeCues
                    },
                    set: Function.prototype
                });
                if (options.src) {
                    loadTrack(options.src, tt)
                } else {
                    tt.loaded_ = true
                }
                if (vjs.IS_IE8) {
                    return tt
                }
            };
            vjs.TextTrack.prototype = vjs.obj.create(vjs.EventEmitter.prototype);
            vjs.TextTrack.prototype.constructor = vjs.TextTrack;
            vjs.TextTrack.prototype.allowedEvents_ = {
                cuechange: "cuechange"
            };
            vjs.TextTrack.prototype.addCue = function(cue) {
                var tracks = this.player_.textTracks(),
                    i = 0;
                if (tracks) {
                    for (; i < tracks.length; i++) {
                        if (tracks[i] !== this) {
                            tracks[i].removeCue(cue)
                        }
                    }
                }
                this.cues_.push(cue);
                this["cues"].setCues_(this.cues_)
            };
            vjs.TextTrack.prototype.removeCue = function(removeCue) {
                var i = 0,
                    l = this.cues_.length,
                    cue, removed = false;
                for (; i < l; i++) {
                    cue = this.cues_[i];
                    if (cue === removeCue) {
                        this.cues_.splice(i, 1);
                        removed = true
                    }
                }
                if (removed) {
                    this.cues.setCues_(this.cues_)
                }
            };
            var loadTrack, parseCues, indexOf;
            loadTrack = function(src, track) {
                vjs.xhr(src, vjs.bind(this, function(err, response, responseBody) {
                    if (err) {
                        return vjs.log.error(err)
                    }
                    track.loaded_ = true;
                    parseCues(responseBody, track)
                }))
            };
            parseCues = function(srcContent, track) {
                if (typeof window.WebVTT !== "function") {
                    return window.setTimeout(function() {
                        parseCues(srcContent, track)
                    }, 25)
                }
                var parser = new window.WebVTT["Parser"](window, window.vttjs, window.WebVTT["StringDecoder"]());
                parser.oncue = function(cue) {
                    track.addCue(cue)
                };
                parser.onparsingerror = function(error) {
                    vjs.log.error(error)
                };
                parser.parse(srcContent);
                parser.flush()
            };
            indexOf = function(searchElement, fromIndex) {
                var k;
                if (this == null) {
                    throw new TypeError('"this" is null or not defined')
                }
                var O = Object(this);
                var len = O.length >>> 0;
                if (len === 0) {
                    return -1
                }
                var n = +fromIndex || 0;
                if (Math.abs(n) === Infinity) {
                    n = 0
                }
                if (n >= len) {
                    return -1
                }
                k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);
                while (k < len) {
                    if (k in O && O[k] === searchElement) {
                        return k
                    }
                    k++
                }
                return -1
            }
        })();
        vjs.TextTrackList = function(tracks) {
            var list = this,
                prop, i = 0;
            if (vjs.IS_IE8) {
                list = document.createElement("custom");
                for (prop in vjs.TextTrackList.prototype) {
                    list[prop] = vjs.TextTrackList.prototype[prop]
                }
            }
            tracks = tracks || [];
            list.tracks_ = [];
            Object.defineProperty(list, "length", {
                get: function() {
                    return this.tracks_.length
                }
            });
            for (; i < tracks.length; i++) {
                list.addTrack_(tracks[i])
            }
            if (vjs.IS_IE8) {
                return list
            }
        };
        vjs.TextTrackList.prototype = vjs.obj.create(vjs.EventEmitter.prototype);
        vjs.TextTrackList.prototype.constructor = vjs.TextTrackList;
        vjs.TextTrackList.prototype.allowedEvents_ = {
            change: "change",
            addtrack: "addtrack",
            removetrack: "removetrack"
        };
        (function() {
            var event;
            for (event in vjs.TextTrackList.prototype.allowedEvents_) {
                vjs.TextTrackList.prototype["on" + event] = null
            }
        })();
        vjs.TextTrackList.prototype.addTrack_ = function(track) {
            var index = this.tracks_.length;
            if (!("" + index in this)) {
                Object.defineProperty(this, index, {
                    get: function() {
                        return this.tracks_[index]
                    }
                })
            }
            track.addEventListener("modechange", vjs.bind(this, function() {
                this.trigger("change")
            }));
            this.tracks_.push(track);
            this.trigger({
                type: "addtrack",
                track: track
            })
        };
        vjs.TextTrackList.prototype.removeTrack_ = function(rtrack) {
            var i = 0,
                l = this.length,
                result = null,
                track;
            for (; i < l; i++) {
                track = this[i];
                if (track === rtrack) {
                    this.tracks_.splice(i, 1);
                    break
                }
            }
            this.trigger({
                type: "removetrack",
                track: rtrack
            })
        };
        vjs.TextTrackList.prototype.getTrackById = function(id) {
            var i = 0,
                l = this.length,
                result = null,
                track;
            for (; i < l; i++) {
                track = this[i];
                if (track.id === id) {
                    result = track;
                    break
                }
            }
            return result
        };
        vjs.TextTrackCueList = function(cues) {
            var list = this,
                prop;
            if (vjs.IS_IE8) {
                list = document.createElement("custom");
                for (prop in vjs.TextTrackCueList.prototype) {
                    list[prop] = vjs.TextTrackCueList.prototype[prop]
                }
            }
            vjs.TextTrackCueList.prototype.setCues_.call(list, cues);
            Object.defineProperty(list, "length", {
                get: function() {
                    return this.length_
                }
            });
            if (vjs.IS_IE8) {
                return list
            }
        };
        vjs.TextTrackCueList.prototype.setCues_ = function(cues) {
            var oldLength = this.length || 0,
                i = 0,
                l = cues.length,
                defineProp;
            this.cues_ = cues;
            this.length_ = cues.length;
            defineProp = function(i) {
                if (!("" + i in this)) {
                    Object.defineProperty(this, "" + i, {
                        get: function() {
                            return this.cues_[i]
                        }
                    })
                }
            };
            if (oldLength < l) {
                i = oldLength;
                for (; i < l; i++) {
                    defineProp.call(this, i)
                }
            }
        };
        vjs.TextTrackCueList.prototype.getCueById = function(id) {
            var i = 0,
                l = this.length,
                result = null,
                cue;
            for (; i < l; i++) {
                cue = this[i];
                if (cue.id === id) {
                    result = cue;
                    break
                }
            }
            return result
        };
        (function() {
            vjs.TextTrackDisplay = vjs.Component.extend({
                init: function(player, options, ready) {
                    vjs.Component.call(this, player, options, ready);
                    player.on("loadstart", vjs.bind(this, this.toggleDisplay));
                    player.ready(vjs.bind(this, function() {
                        if (player.tech && player.tech.featuresNativeTextTracks) {
                            this.hide();
                            return
                        }
                        var i, tracks, track;
                        player.on("fullscreenchange", vjs.bind(this, this.updateDisplay));
                        tracks = player.options_.tracks || [];
                        for (i = 0; i < tracks.length; i++) {
                            track = tracks[i];
                            this.player_.addRemoteTextTrack(track)
                        }
                    }))
                }
            });
            vjs.TextTrackDisplay.prototype.toggleDisplay = function() {
                if (this.player_.tech && this.player_.tech.featuresNativeTextTracks) {
                    this.hide()
                } else {
                    this.show()
                }
            };
            vjs.TextTrackDisplay.prototype.createEl = function() {
                return vjs.Component.prototype.createEl.call(this, "div", {
                    className: "vjs-text-track-display"
                })
            };
            vjs.TextTrackDisplay.prototype.clearDisplay = function() {
                if (typeof window.WebVTT === "function") {
                    window.WebVTT["processCues"](window, [], this.el_)
                }
            };
            var constructColor = function(color, opacity) {
                return "rgba(" + parseInt(color[1] + color[1], 16) + "," + parseInt(color[2] + color[2], 16) + "," + parseInt(color[3] + color[3], 16) + "," + opacity + ")"
            };
            var darkGray = "#222";
            var lightGray = "#ccc";
            var fontMap = {
                monospace: "monospace",
                sansSerif: "sans-serif",
                serif: "serif",
                monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
                monospaceSerif: '"Courier New", monospace',
                proportionalSansSerif: "sans-serif",
                proportionalSerif: "serif",
                casual: '"Comic Sans MS", Impact, fantasy',
                script: '"Monotype Corsiva", cursive',
                smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
            };
            var tryUpdateStyle = function(el, style, rule) {
                try {
                    el.style[style] = rule
                } catch (e) {}
            };
            vjs.TextTrackDisplay.prototype.updateDisplay = function() {
                var tracks = this.player_.textTracks(),
                    i = 0,
                    track;
                this.clearDisplay();
                if (!tracks) {
                    return
                }
                for (; i < tracks.length; i++) {
                    track = tracks[i];
                    if (track.mode === "showing") {
                        this.updateForTrack(track)
                    }
                }
            };
            vjs.TextTrackDisplay.prototype.updateForTrack = function(track) {
                if (typeof window.WebVTT !== "function" || !track.activeCues) {
                    return
                }
                var i = 0,
                    property, cueDiv, overrides = this.player_.textTrackSettings.getValues(),
                    fontSize, cues = [];
                for (; i < track.activeCues.length; i++) {
                    cues.push(track.activeCues[i])
                }
                window.WebVTT["processCues"](window, track.activeCues, this.el_);
                i = cues.length;
                while (i--) {
                    cueDiv = cues[i].displayState;
                    if (overrides.color) {
                        cueDiv.firstChild.style.color = overrides.color
                    }
                    if (overrides.textOpacity) {
                        tryUpdateStyle(cueDiv.firstChild, "color", constructColor(overrides.color || "#fff", overrides.textOpacity))
                    }
                    if (overrides.backgroundColor) {
                        cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor
                    }
                    if (overrides.backgroundOpacity) {
                        tryUpdateStyle(cueDiv.firstChild, "backgroundColor", constructColor(overrides.backgroundColor || "#000", overrides.backgroundOpacity))
                    }
                    if (overrides.windowColor) {
                        if (overrides.windowOpacity) {
                            tryUpdateStyle(cueDiv, "backgroundColor", constructColor(overrides.windowColor, overrides.windowOpacity))
                        } else {
                            cueDiv.style.backgroundColor = overrides.windowColor
                        }
                    }
                    if (overrides.edgeStyle) {
                        if (overrides.edgeStyle === "dropshadow") {
                            cueDiv.firstChild.style.textShadow = "2px 2px 3px " + darkGray + ", 2px 2px 4px " + darkGray + ", 2px 2px 5px " + darkGray
                        } else {
                            if (overrides.edgeStyle === "raised") {
                                cueDiv.firstChild.style.textShadow = "1px 1px " + darkGray + ", 2px 2px " + darkGray + ", 3px 3px " + darkGray
                            } else {
                                if (overrides.edgeStyle === "depressed") {
                                    cueDiv.firstChild.style.textShadow = "1px 1px " + lightGray + ", 0 1px " + lightGray + ", -1px -1px " + darkGray + ", 0 -1px " + darkGray
                                } else {
                                    if (overrides.edgeStyle === "uniform") {
                                        cueDiv.firstChild.style.textShadow = "0 0 4px " + darkGray + ", 0 0 4px " + darkGray + ", 0 0 4px " + darkGray + ", 0 0 4px " + darkGray
                                    }
                                }
                            }
                        }
                    }
                    if (overrides.fontPercent && overrides.fontPercent !== 1) {
                        fontSize = window.parseFloat(cueDiv.style.fontSize);
                        cueDiv.style.fontSize = (fontSize * overrides.fontPercent) + "px";
                        cueDiv.style.height = "auto";
                        cueDiv.style.top = "auto";
                        cueDiv.style.bottom = "2px"
                    }
                    if (overrides.fontFamily && overrides.fontFamily !== "default") {
                        if (overrides.fontFamily === "small-caps") {
                            cueDiv.firstChild.style.fontVariant = "small-caps"
                        } else {
                            cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily]
                        }
                    }
                }
            };
            vjs.TextTrackMenuItem = vjs.MenuItem.extend({
                init: function(player, options) {
                    var track = this.track = options.track,
                        tracks = player.textTracks(),
                        changeHandler, event;
                    if (tracks) {
                        changeHandler = vjs.bind(this, function() {
                            var selected = this.track.mode === "showing",
                                track, i, l;
                            if (this instanceof vjs.OffTextTrackMenuItem) {
                                selected = true;
                                i = 0, l = tracks.length;
                                for (; i < l; i++) {
                                    track = tracks[i];
                                    if (track.kind === this.track.kind && track.mode === "showing") {
                                        selected = false;
                                        break
                                    }
                                }
                            }
                            this.selected(selected)
                        });
                        tracks.addEventListener("change", changeHandler);
                        player.on("dispose", function() {
                            tracks.removeEventListener("change", changeHandler)
                        })
                    }
                    options.label = track.label || track.language || "Unknown";
                    options.selected = track["default"] || track.mode === "showing";
                    vjs.MenuItem.call(this, player, options);
                    if (tracks && tracks.onchange === undefined) {
                        this.on(["tap", "click"], function() {
                            if (typeof window.Event !== "object") {
                                try {
                                    event = new window.Event("change")
                                } catch (err) {}
                            }
                            if (!event) {
                                event = document.createEvent("Event");
                                event.initEvent("change", true, true)
                            }
                            tracks.dispatchEvent(event)
                        })
                    }
                }
            });
            vjs.TextTrackMenuItem.prototype.onClick = function() {
                var kind = this.track.kind,
                    tracks = this.player_.textTracks(),
                    mode, track, i = 0;
                vjs.MenuItem.prototype.onClick.call(this);
                if (!tracks) {
                    return
                }
                for (; i < tracks.length; i++) {
                    track = tracks[i];
                    if (track.kind !== kind) {
                        continue
                    }
                    if (track === this.track) {
                        track.mode = "showing"
                    } else {
                        track.mode = "disabled"
                    }
                }
            };
            vjs.OffTextTrackMenuItem = vjs.TextTrackMenuItem.extend({
                init: function(player, options) {
                    options.track = {
                        kind: options.kind,
                        player: player,
                        label: options.kind + " off",
                        "default": false,
                        mode: "disabled"
                    };
                    vjs.TextTrackMenuItem.call(this, player, options);
                    this.selected(true)
                }
            });
            vjs.CaptionSettingsMenuItem = vjs.TextTrackMenuItem.extend({
                init: function(player, options) {
                    options.track = {
                        kind: options.kind,
                        player: player,
                        label: options.kind + " settings",
                        "default": false,
                        mode: "disabled"
                    };
                    vjs.TextTrackMenuItem.call(this, player, options);
                    this.addClass("vjs-texttrack-settings")
                }
            });
            vjs.CaptionSettingsMenuItem.prototype.onClick = function() {
                this.player().getChild("textTrackSettings").show()
            };
            vjs.TextTrackButton = vjs.MenuButton.extend({
                init: function(player, options) {
                    var tracks, updateHandler;
                    vjs.MenuButton.call(this, player, options);
                    tracks = this.player_.textTracks();
                    if (this.items.length <= 1) {
                        this.hide()
                    }
                    if (!tracks) {
                        return
                    }
                    updateHandler = vjs.bind(this, this.update);
                    tracks.addEventListener("removetrack", updateHandler);
                    tracks.addEventListener("addtrack", updateHandler);
                    this.player_.on("dispose", function() {
                        tracks.removeEventListener("removetrack", updateHandler);
                        tracks.removeEventListener("addtrack", updateHandler)
                    })
                }
            });
            vjs.TextTrackButton.prototype.createItems = function() {
                var items = [],
                    track, tracks;
                if (this instanceof vjs.CaptionsButton && !(this.player().tech && this.player().tech.featuresNativeTextTracks)) {
                    items.push(new vjs.CaptionSettingsMenuItem(this.player_, {
                        kind: this.kind_
                    }))
                }
                items.push(new vjs.OffTextTrackMenuItem(this.player_, {
                    kind: this.kind_
                }));
                tracks = this.player_.textTracks();
                if (!tracks) {
                    return items
                }
                for (var i = 0; i < tracks.length; i++) {
                    track = tracks[i];
                    if (track.kind === this.kind_) {
                        items.push(new vjs.TextTrackMenuItem(this.player_, {
                            track: track
                        }))
                    }
                }
                return items
            };
            vjs.CaptionsButton = vjs.TextTrackButton.extend({
                init: function(player, options, ready) {
                    vjs.TextTrackButton.call(this, player, options, ready);
                    this.el_.setAttribute("aria-label", "Captions Menu")
                }
            });
            vjs.CaptionsButton.prototype.kind_ = "captions";
            vjs.CaptionsButton.prototype.buttonText = "Captions";
            vjs.CaptionsButton.prototype.className = "vjs-captions-button";
            vjs.CaptionsButton.prototype.update = function() {
                var threshold = 2;
                vjs.TextTrackButton.prototype.update.call(this);
                if (this.player().tech && this.player().tech.featuresNativeTextTracks) {
                    threshold = 1
                }
                if (this.items && this.items.length > threshold) {
                    this.show()
                } else {
                    this.hide()
                }
            };
            vjs.SubtitlesButton = vjs.TextTrackButton.extend({
                init: function(player, options, ready) {
                    vjs.TextTrackButton.call(this, player, options, ready);
                    this.el_.setAttribute("aria-label", "Subtitles Menu")
                }
            });
            vjs.SubtitlesButton.prototype.kind_ = "subtitles";
            vjs.SubtitlesButton.prototype.buttonText = "Subtitles";
            vjs.SubtitlesButton.prototype.className = "vjs-subtitles-button";
            vjs.ChaptersButton = vjs.TextTrackButton.extend({
                init: function(player, options, ready) {
                    vjs.TextTrackButton.call(this, player, options, ready);
                    this.el_.setAttribute("aria-label", "Chapters Menu")
                }
            });
            vjs.ChaptersButton.prototype.kind_ = "chapters";
            vjs.ChaptersButton.prototype.buttonText = "Chapters";
            vjs.ChaptersButton.prototype.className = "vjs-chapters-button";
            vjs.ChaptersButton.prototype.createItems = function() {
                var items = [],
                    track, tracks;
                tracks = this.player_.textTracks();
                if (!tracks) {
                    return items
                }
                for (var i = 0; i < tracks.length; i++) {
                    track = tracks[i];
                    if (track.kind === this.kind_) {
                        items.push(new vjs.TextTrackMenuItem(this.player_, {
                            track: track
                        }))
                    }
                }
                return items
            };
            vjs.ChaptersButton.prototype.createMenu = function() {
                var tracks = this.player_.textTracks() || [],
                    i = 0,
                    l = tracks.length,
                    track, chaptersTrack, items = this.items = [];
                for (; i < l; i++) {
                    track = tracks[i];
                    if (track.kind == this.kind_) {
                        if (!track.cues) {
                            track.mode = "hidden";
                            window.setTimeout(vjs.bind(this, function() {
                                this.createMenu()
                            }), 100)
                        } else {
                            chaptersTrack = track;
                            break
                        }
                    }
                }
                var menu = this.menu;
                if (menu === undefined) {
                    menu = new vjs.Menu(this.player_);
                    menu.contentEl().appendChild(vjs.createEl("li", {
                        className: "vjs-menu-title",
                        innerHTML: vjs.capitalize(this.kind_),
                        tabindex: -1
                    }))
                }
                if (chaptersTrack) {
                    var cues = chaptersTrack.cues,
                        cue, mi;
                    i = 0;
                    l = cues.length;
                    for (; i < l; i++) {
                        cue = cues[i];
                        mi = new vjs.ChaptersTrackMenuItem(this.player_, {
                            track: chaptersTrack,
                            cue: cue
                        });
                        items.push(mi);
                        menu.addChild(mi)
                    }
                    this.addChild(menu)
                }
                if (this.items.length > 0) {
                    this.show()
                }
                return menu
            };
            vjs.ChaptersTrackMenuItem = vjs.MenuItem.extend({
                init: function(player, options) {
                    var track = this.track = options.track,
                        cue = this.cue = options.cue,
                        currentTime = player.currentTime();
                    options.label = cue.text;
                    options.selected = (cue.startTime <= currentTime && currentTime < cue.endTime);
                    vjs.MenuItem.call(this, player, options);
                    track.addEventListener("cuechange", vjs.bind(this, this.update))
                }
            });
            vjs.ChaptersTrackMenuItem.prototype.onClick = function() {
                vjs.MenuItem.prototype.onClick.call(this);
                this.player_.currentTime(this.cue.startTime);
                this.update(this.cue.startTime)
            };
            vjs.ChaptersTrackMenuItem.prototype.update = function() {
                var cue = this.cue,
                    currentTime = this.player_.currentTime();
                this.selected(cue.startTime <= currentTime && currentTime < cue.endTime)
            }
        })();
        (function() {
            vjs.TextTrackSettings = vjs.Component.extend({
                init: function(player, options) {
                    vjs.Component.call(this, player, options);
                    this.hide();
                    vjs.on(this.el().querySelector(".vjs-done-button"), "click", vjs.bind(this, function() {
                        this.saveSettings();
                        this.hide()
                    }));
                    vjs.on(this.el().querySelector(".vjs-default-button"), "click", vjs.bind(this, function() {
                        this.el().querySelector(".vjs-fg-color > select").selectedIndex = 0;
                        this.el().querySelector(".vjs-bg-color > select").selectedIndex = 0;
                        this.el().querySelector(".window-color > select").selectedIndex = 0;
                        this.el().querySelector(".vjs-text-opacity > select").selectedIndex = 0;
                        this.el().querySelector(".vjs-bg-opacity > select").selectedIndex = 0;
                        this.el().querySelector(".vjs-window-opacity > select").selectedIndex = 0;
                        this.el().querySelector(".vjs-edge-style select").selectedIndex = 0;
                        this.el().querySelector(".vjs-font-family select").selectedIndex = 0;
                        this.el().querySelector(".vjs-font-percent select").selectedIndex = 2;
                        this.updateDisplay()
                    }));
                    vjs.on(this.el().querySelector(".vjs-fg-color > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-bg-color > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".window-color > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-text-opacity > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-bg-opacity > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-window-opacity > select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-font-percent select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-edge-style select"), "change", vjs.bind(this, this.updateDisplay));
                    vjs.on(this.el().querySelector(".vjs-font-family select"), "change", vjs.bind(this, this.updateDisplay));
                    if (player.options()["persistTextTrackSettings"]) {
                        this.restoreSettings()
                    }
                }
            });
            vjs.TextTrackSettings.prototype.createEl = function() {
                return vjs.Component.prototype.createEl.call(this, "div", {
                    className: "vjs-caption-settings vjs-modal-overlay",
                    innerHTML: captionOptionsMenuTemplate()
                })
            };
            vjs.TextTrackSettings.prototype.getValues = function() {
                var el, bgOpacity, textOpacity, windowOpacity, textEdge, fontFamily, fgColor, bgColor, windowColor, result, name, fontPercent;
                el = this.el();
                textEdge = getSelectedOptionValue(el.querySelector(".vjs-edge-style select"));
                fontFamily = getSelectedOptionValue(el.querySelector(".vjs-font-family select"));
                fgColor = getSelectedOptionValue(el.querySelector(".vjs-fg-color > select"));
                textOpacity = getSelectedOptionValue(el.querySelector(".vjs-text-opacity > select"));
                bgColor = getSelectedOptionValue(el.querySelector(".vjs-bg-color > select"));
                bgOpacity = getSelectedOptionValue(el.querySelector(".vjs-bg-opacity > select"));
                windowColor = getSelectedOptionValue(el.querySelector(".window-color > select"));
                windowOpacity = getSelectedOptionValue(el.querySelector(".vjs-window-opacity > select"));
                fontPercent = window.parseFloat(getSelectedOptionValue(el.querySelector(".vjs-font-percent > select")));
                result = {
                    backgroundOpacity: bgOpacity,
                    textOpacity: textOpacity,
                    windowOpacity: windowOpacity,
                    edgeStyle: textEdge,
                    fontFamily: fontFamily,
                    color: fgColor,
                    backgroundColor: bgColor,
                    windowColor: windowColor,
                    fontPercent: fontPercent
                };
                for (name in result) {
                    if (result[name] === "" || result[name] === "none" || (name === "fontPercent" && result[name] === 1)) {
                        delete result[name]
                    }
                }
                return result
            };
            vjs.TextTrackSettings.prototype.setValues = function(values) {
                var el = this.el(),
                    fontPercent;
                setSelectedOption(el.querySelector(".vjs-edge-style select"), values.edgeStyle);
                setSelectedOption(el.querySelector(".vjs-font-family select"), values.fontFamily);
                setSelectedOption(el.querySelector(".vjs-fg-color > select"), values.color);
                setSelectedOption(el.querySelector(".vjs-text-opacity > select"), values.textOpacity);
                setSelectedOption(el.querySelector(".vjs-bg-color > select"), values.backgroundColor);
                setSelectedOption(el.querySelector(".vjs-bg-opacity > select"), values.backgroundOpacity);
                setSelectedOption(el.querySelector(".window-color > select"), values.windowColor);
                setSelectedOption(el.querySelector(".vjs-window-opacity > select"), values.windowOpacity);
                fontPercent = values.fontPercent;
                if (fontPercent) {
                    fontPercent = fontPercent.toFixed(2)
                }
                setSelectedOption(el.querySelector(".vjs-font-percent > select"), fontPercent)
            };
            vjs.TextTrackSettings.prototype.restoreSettings = function() {
                var values;
                try {
                    values = JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))
                } catch (e) {}
                if (values) {
                    this.setValues(values)
                }
            };
            vjs.TextTrackSettings.prototype.saveSettings = function() {
                var values;
                if (!this.player_.options()["persistTextTrackSettings"]) {
                    return
                }
                values = this.getValues();
                try {
                    if (!vjs.isEmpty(values)) {
                        window.localStorage.setItem("vjs-text-track-settings", JSON.stringify(values))
                    } else {
                        window.localStorage.removeItem("vjs-text-track-settings")
                    }
                } catch (e) {}
            };
            vjs.TextTrackSettings.prototype.updateDisplay = function() {
                var ttDisplay = this.player_.getChild("textTrackDisplay");
                if (ttDisplay) {
                    ttDisplay.updateDisplay()
                }
            };

            function getSelectedOptionValue(target) {
                var selectedOption;
                if (target.selectedOptions) {
                    selectedOption = target.selectedOptions[0]
                } else {
                    if (target.options) {
                        selectedOption = target.options[target.options.selectedIndex]
                    }
                }
                return selectedOption.value
            }

            function setSelectedOption(target, value) {
                var i, option;
                if (!value) {
                    return
                }
                for (i = 0; i < target.options.length; i++) {
                    option = target.options[i];
                    if (option.value === value) {
                        break
                    }
                }
                target.selectedIndex = i
            }

            function captionOptionsMenuTemplate() {
                return '<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'
            }
        })();
        vjs.JSON;
        if (typeof window.JSON !== "undefined" && typeof window.JSON.parse === "function") {
            vjs.JSON = window.JSON
        } else {
            vjs.JSON = {};
            var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
            vjs.JSON.parse = function(text, reviver) {
                var j;

                function walk(holder, key) {
                    var k, v, value = holder[key];
                    if (value && typeof value === "object") {
                        for (k in value) {
                            if (Object.prototype.hasOwnProperty.call(value, k)) {
                                v = walk(value, k);
                                if (v !== undefined) {
                                    value[k] = v
                                } else {
                                    delete value[k]
                                }
                            }
                        }
                    }
                    return reviver.call(holder, key, value)
                }
                text = String(text);
                cx.lastIndex = 0;
                if (cx.test(text)) {
                    text = text.replace(cx, function(a) {
                        return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
                    })
                }
                if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) {
                    j = eval("(" + text + ")");
                    return typeof reviver === "function" ? walk({
                        "": j
                    }, "") : j
                }
                throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")
            }
        }
        vjs.autoSetup = function() {
            var options, mediaEl, player, i, e;
            var vids = document.getElementsByTagName("video");
            var audios = document.getElementsByTagName("audio");
            var mediaEls = [];
            if (vids && vids.length > 0) {
                for (i = 0, e = vids.length; i < e; i++) {
                    mediaEls.push(vids[i])
                }
            }
            if (audios && audios.length > 0) {
                for (i = 0, e = audios.length; i < e; i++) {
                    mediaEls.push(audios[i])
                }
            }
            if (mediaEls && mediaEls.length > 0) {
                for (i = 0, e = mediaEls.length; i < e; i++) {
                    mediaEl = mediaEls[i];
                    if (mediaEl && mediaEl.getAttribute) {
                        if (mediaEl.player === undefined) {
                            options = mediaEl.getAttribute("data-setup");
                            if (options !== null) {
                                player = videojs(mediaEl)
                            }
                        }
                    } else {
                        vjs.autoSetupTimeout(1);
                        break
                    }
                }
            } else {
                if (!vjs.windowLoaded) {
                    vjs.autoSetupTimeout(1)
                }
            }
        };
        vjs.autoSetupTimeout = function(wait) {
            setTimeout(vjs.autoSetup, wait)
        };
        if (document.readyState === "complete") {
            vjs.windowLoaded = true
        } else {
            vjs.one(window, "load", function() {
                vjs.windowLoaded = true
            })
        }
        vjs.autoSetupTimeout(1);
        vjs.plugin = function(name, init) {
            vjs.Player.prototype[name] = init
        };
        (function(root) {
            var vttjs = root.vttjs = {};
            var cueShim = vttjs.VTTCue;
            var regionShim = vttjs.VTTRegion;
            var oldVTTCue = root.VTTCue;
            var oldVTTRegion = root.VTTRegion;
            vttjs.shim = function() {
                vttjs.VTTCue = cueShim;
                vttjs.VTTRegion = regionShim
            };
            vttjs.restore = function() {
                vttjs.VTTCue = oldVTTCue;
                vttjs.VTTRegion = oldVTTRegion
            }
        }(this));
        (function(root, vttjs) {
            var autoKeyword = "auto";
            var directionSetting = {
                "": true,
                lr: true,
                rl: true
            };
            var alignSetting = {
                start: true,
                middle: true,
                end: true,
                left: true,
                right: true
            };

            function findDirectionSetting(value) {
                if (typeof value !== "string") {
                    return false
                }
                var dir = directionSetting[value.toLowerCase()];
                return dir ? value.toLowerCase() : false
            }

            function findAlignSetting(value) {
                if (typeof value !== "string") {
                    return false
                }
                var align = alignSetting[value.toLowerCase()];
                return align ? value.toLowerCase() : false
            }

            function extend(obj) {
                var i = 1;
                for (; i < arguments.length; i++) {
                    var cobj = arguments[i];
                    for (var p in cobj) {
                        obj[p] = cobj[p]
                    }
                }
                return obj
            }

            function VTTCue(startTime, endTime, text) {
                var cue = this;
                var isIE8 = (/MSIE\s8\.0/).test(navigator.userAgent);
                var baseObj = {};
                if (isIE8) {
                    cue = document.createElement("custom")
                } else {
                    baseObj.enumerable = true
                }
                cue.hasBeenReset = false;
                var _id = "";
                var _pauseOnExit = false;
                var _startTime = startTime;
                var _endTime = endTime;
                var _text = text;
                var _region = null;
                var _vertical = "";
                var _snapToLines = true;
                var _line = "auto";
                var _lineAlign = "start";
                var _position = 50;
                var _positionAlign = "middle";
                var _size = 50;
                var _align = "middle";
                Object.defineProperty(cue, "id", extend({}, baseObj, {
                    get: function() {
                        return _id
                    },
                    set: function(value) {
                        _id = "" + value
                    }
                }));
                Object.defineProperty(cue, "pauseOnExit", extend({}, baseObj, {
                    get: function() {
                        return _pauseOnExit
                    },
                    set: function(value) {
                        _pauseOnExit = !!value
                    }
                }));
                Object.defineProperty(cue, "startTime", extend({}, baseObj, {
                    get: function() {
                        return _startTime
                    },
                    set: function(value) {
                        if (typeof value !== "number") {
                            throw new TypeError("Start time must be set to a number.")
                        }
                        _startTime = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "endTime", extend({}, baseObj, {
                    get: function() {
                        return _endTime
                    },
                    set: function(value) {
                        if (typeof value !== "number") {
                            throw new TypeError("End time must be set to a number.")
                        }
                        _endTime = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "text", extend({}, baseObj, {
                    get: function() {
                        return _text
                    },
                    set: function(value) {
                        _text = "" + value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "region", extend({}, baseObj, {
                    get: function() {
                        return _region
                    },
                    set: function(value) {
                        _region = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "vertical", extend({}, baseObj, {
                    get: function() {
                        return _vertical
                    },
                    set: function(value) {
                        var setting = findDirectionSetting(value);
                        if (setting === false) {
                            throw new SyntaxError("An invalid or illegal string was specified.")
                        }
                        _vertical = setting;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "snapToLines", extend({}, baseObj, {
                    get: function() {
                        return _snapToLines
                    },
                    set: function(value) {
                        _snapToLines = !!value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "line", extend({}, baseObj, {
                    get: function() {
                        return _line
                    },
                    set: function(value) {
                        if (typeof value !== "number" && value !== autoKeyword) {
                            throw new SyntaxError("An invalid number or illegal string was specified.")
                        }
                        _line = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "lineAlign", extend({}, baseObj, {
                    get: function() {
                        return _lineAlign
                    },
                    set: function(value) {
                        var setting = findAlignSetting(value);
                        if (!setting) {
                            throw new SyntaxError("An invalid or illegal string was specified.")
                        }
                        _lineAlign = setting;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "position", extend({}, baseObj, {
                    get: function() {
                        return _position
                    },
                    set: function(value) {
                        if (value < 0 || value > 100) {
                            throw new Error("Position must be between 0 and 100.")
                        }
                        _position = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "positionAlign", extend({}, baseObj, {
                    get: function() {
                        return _positionAlign
                    },
                    set: function(value) {
                        var setting = findAlignSetting(value);
                        if (!setting) {
                            throw new SyntaxError("An invalid or illegal string was specified.")
                        }
                        _positionAlign = setting;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "size", extend({}, baseObj, {
                    get: function() {
                        return _size
                    },
                    set: function(value) {
                        if (value < 0 || value > 100) {
                            throw new Error("Size must be between 0 and 100.")
                        }
                        _size = value;
                        this.hasBeenReset = true
                    }
                }));
                Object.defineProperty(cue, "align", extend({}, baseObj, {
                    get: function() {
                        return _align
                    },
                    set: function(value) {
                        var setting = findAlignSetting(value);
                        if (!setting) {
                            throw new SyntaxError("An invalid or illegal string was specified.")
                        }
                        _align = setting;
                        this.hasBeenReset = true
                    }
                }));
                cue.displayState = undefined;
                if (isIE8) {
                    return cue
                }
            }
            VTTCue.prototype.getCueAsHTML = function() {
                return WebVTT.convertCueToDOMTree(window, this.text)
            };
            root.VTTCue = root.VTTCue || VTTCue;
            vttjs.VTTCue = VTTCue
        }(this, (this.vttjs || {})));
        (function(root, vttjs) {
            var scrollSetting = {
                "": true,
                up: true,
            };

            function findScrollSetting(value) {
                if (typeof value !== "string") {
                    return false
                }
                var scroll = scrollSetting[value.toLowerCase()];
                return scroll ? value.toLowerCase() : false
            }

            function isValidPercentValue(value) {
                return typeof value === "number" && (value >= 0 && value <= 100)
            }

            function VTTRegion() {
                var _width = 100;
                var _lines = 3;
                var _regionAnchorX = 0;
                var _regionAnchorY = 100;
                var _viewportAnchorX = 0;
                var _viewportAnchorY = 100;
                var _scroll = "";
                Object.defineProperties(this, {
                    width: {
                        enumerable: true,
                        get: function() {
                            return _width
                        },
                        set: function(value) {
                            if (!isValidPercentValue(value)) {
                                throw new Error("Width must be between 0 and 100.")
                            }
                            _width = value
                        }
                    },
                    lines: {
                        enumerable: true,
                        get: function() {
                            return _lines
                        },
                        set: function(value) {
                            if (typeof value !== "number") {
                                throw new TypeError("Lines must be set to a number.")
                            }
                            _lines = value
                        }
                    },
                    regionAnchorY: {
                        enumerable: true,
                        get: function() {
                            return _regionAnchorY
                        },
                        set: function(value) {
                            if (!isValidPercentValue(value)) {
                                throw new Error("RegionAnchorX must be between 0 and 100.")
                            }
                            _regionAnchorY = value
                        }
                    },
                    regionAnchorX: {
                        enumerable: true,
                        get: function() {
                            return _regionAnchorX
                        },
                        set: function(value) {
                            if (!isValidPercentValue(value)) {
                                throw new Error("RegionAnchorY must be between 0 and 100.")
                            }
                            _regionAnchorX = value
                        }
                    },
                    viewportAnchorY: {
                        enumerable: true,
                        get: function() {
                            return _viewportAnchorY
                        },
                        set: function(value) {
                            if (!isValidPercentValue(value)) {
                                throw new Error("ViewportAnchorY must be between 0 and 100.")
                            }
                            _viewportAnchorY = value
                        }
                    },
                    viewportAnchorX: {
                        enumerable: true,
                        get: function() {
                            return _viewportAnchorX
                        },
                        set: function(value) {
                            if (!isValidPercentValue(value)) {
                                throw new Error("ViewportAnchorX must be between 0 and 100.")
                            }
                            _viewportAnchorX = value
                        }
                    },
                    scroll: {
                        enumerable: true,
                        get: function() {
                            return _scroll
                        },
                        set: function(value) {
                            var setting = findScrollSetting(value);
                            if (setting === false) {
                                throw new SyntaxError("An invalid or illegal string was specified.")
                            }
                            _scroll = setting
                        }
                    }
                })
            }
            root.VTTRegion = root.VTTRegion || VTTRegion;
            vttjs.VTTRegion = VTTRegion
        }(this, (this.vttjs || {})));
        (function(global) {
            var _objCreate = Object.create || (function() {
                function F() {}
                return function(o) {
                    if (arguments.length !== 1) {
                        throw new Error("Object.create shim only accepts one parameter.")
                    }
                    F.prototype = o;
                    return new F()
                }
            })();

            function ParsingError(errorData, message) {
                this.name = "ParsingError";
                this.code = errorData.code;
                this.message = message || errorData.message
            }
            ParsingError.prototype = _objCreate(Error.prototype);
            ParsingError.prototype.constructor = ParsingError;
            ParsingError.Errors = {
                BadSignature: {
                    code: 0,
                    message: "Malformed WebVTT signature."
                },
                BadTimeStamp: {
                    code: 1,
                    message: "Malformed time stamp."
                }
            };

            function parseTimeStamp(input) {
                function computeSeconds(h, m, s, f) {
                    return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000
                }
                var m = input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
                if (!m) {
                    return null
                }
                if (m[3]) {
                    return computeSeconds(m[1], m[2], m[3].replace(":", ""), m[4])
                } else {
                    if (m[1] > 59) {
                        return computeSeconds(m[1], m[2], 0, m[4])
                    } else {
                        return computeSeconds(0, m[1], m[2], m[4])
                    }
                }
            }

            function Settings() {
                this.values = _objCreate(null)
            }
            Settings.prototype = {
                set: function(k, v) {
                    if (!this.get(k) && v !== "") {
                        this.values[k] = v
                    }
                },
                get: function(k, dflt, defaultKey) {
                    if (defaultKey) {
                        return this.has(k) ? this.values[k] : dflt[defaultKey]
                    }
                    return this.has(k) ? this.values[k] : dflt
                },
                has: function(k) {
                    return k in this.values
                },
                alt: function(k, v, a) {
                    for (var n = 0; n < a.length;
                        ++n) {
                        if (v === a[n]) {
                            this.set(k, v);
                            break
                        }
                    }
                },
                integer: function(k, v) {
                    if (/^-?\d+$/.test(v)) {
                        this.set(k, parseInt(v, 10))
                    }
                },
                percent: function(k, v) {
                    var m;
                    if ((m = v.match(/^([\d]{1,3})(\.[\d]*)?%$/))) {
                        v = parseFloat(v);
                        if (v >= 0 && v <= 100) {
                            this.set(k, v);
                            return true
                        }
                    }
                    return false
                }
            };

            function parseOptions(input, callback, keyValueDelim, groupDelim) {
                var groups = groupDelim ? input.split(groupDelim) : [input];
                for (var i in groups) {
                    if (typeof groups[i] !== "string") {
                        continue
                    }
                    var kv = groups[i].split(keyValueDelim);
                    if (kv.length !== 2) {
                        continue
                    }
                    var k = kv[0];
                    var v = kv[1];
                    callback(k, v)
                }
            }

            function parseCue(input, cue, regionList) {
                var oInput = input;

                function consumeTimeStamp() {
                    var ts = parseTimeStamp(input);
                    if (ts === null) {
                        throw new ParsingError(ParsingError.Errors.BadTimeStamp, "Malformed timestamp: " + oInput)
                    }
                    input = input.replace(/^[^\sa-zA-Z-]+/, "");
                    return ts
                }

                function consumeCueSettings(input, cue) {
                    var settings = new Settings();
                    parseOptions(input, function(k, v) {
                        switch (k) {
                            case "region":
                                for (var i = regionList.length - 1; i >= 0; i--) {
                                    if (regionList[i].id === v) {
                                        settings.set(k, regionList[i].region);
                                        break
                                    }
                                }
                                break;
                            case "vertical":
                                settings.alt(k, v, ["rl", "lr"]);
                                break;
                            case "line":
                                var vals = v.split(","),
                                    vals0 = vals[0];
                                settings.integer(k, vals0);
                                settings.percent(k, vals0) ? settings.set("snapToLines", false) : null;
                                settings.alt(k, vals0, ["auto"]);
                                if (vals.length === 2) {
                                    settings.alt("lineAlign", vals[1], ["start", "middle", "end"])
                                }
                                break;
                            case "position":
                                vals = v.split(",");
                                settings.percent(k, vals[0]);
                                if (vals.length === 2) {
                                    settings.alt("positionAlign", vals[1], ["start", "middle", "end"])
                                }
                                break;
                            case "size":
                                settings.percent(k, v);
                                break;
                            case "align":
                                settings.alt(k, v, ["start", "middle", "end", "left", "right"]);
                                break
                        }
                    }, /:/, /\s/);
                    cue.region = settings.get("region", null);
                    cue.vertical = settings.get("vertical", "");
                    cue.line = settings.get("line", "auto");
                    cue.lineAlign = settings.get("lineAlign", "start");
                    cue.snapToLines = settings.get("snapToLines", true);
                    cue.size = settings.get("size", 100);
                    cue.align = settings.get("align", "middle");
                    cue.position = settings.get("position", {
                        start: 0,
                        left: 0,
                        middle: 50,
                        end: 100,
                        right: 100
                    }, cue.align);
                    cue.positionAlign = settings.get("positionAlign", {
                        start: "start",
                        left: "start",
                        middle: "middle",
                        end: "end",
                        right: "end"
                    }, cue.align)
                }

                function skipWhitespace() {
                    input = input.replace(/^\s+/, "")
                }
                skipWhitespace();
                cue.startTime = consumeTimeStamp();
                skipWhitespace();
                if (input.substr(0, 3) !== "-->") {
                    throw new ParsingError(ParsingError.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '-->'): " + oInput)
                }
                input = input.substr(3);
                skipWhitespace();
                cue.endTime = consumeTimeStamp();
                skipWhitespace();
                consumeCueSettings(input, cue)
            }
            var ESCAPE = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&lrm;": "\u200e",
                "&rlm;": "\u200f",
                "&nbsp;": "\u00a0"
            };
            var TAG_NAME = {
                c: "span",
                i: "i",
                b: "b",
                u: "u",
                ruby: "ruby",
                rt: "rt",
                v: "span",
                lang: "span"
            };
            var TAG_ANNOTATION = {
                v: "title",
                lang: "lang"
            };
            var NEEDS_PARENT = {
                rt: "ruby"
            };

            function parseContent(window, input) {
                function nextToken() {
                    if (!input) {
                        return null
                    }

                    function consume(result) {
                        input = input.substr(result.length);
                        return result
                    }
                    var m = input.match(/^([^<]*)(<[^>]+>?)?/);
                    return consume(m[1] ? m[1] : m[2])
                }

                function unescape1(e) {
                    return ESCAPE[e]
                }

                function unescape(s) {
                    while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {
                        s = s.replace(m[0], unescape1)
                    }
                    return s
                }

                function shouldAdd(current, element) {
                    return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName
                }

                function createElement(type, annotation) {
                    var tagName = TAG_NAME[type];
                    if (!tagName) {
                        return null
                    }
                    var element = window.document.createElement(tagName);
                    element.localName = tagName;
                    var name = TAG_ANNOTATION[type];
                    if (name && annotation) {
                        element[name] = annotation.trim()
                    }
                    return element
                }
                var rootDiv = window.document.createElement("div"),
                    current = rootDiv,
                    t, tagStack = [];
                while ((t = nextToken()) !== null) {
                    if (t[0] === "<") {
                        if (t[1] === "/") {
                            if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(">", "")) {
                                tagStack.pop();
                                current = current.parentNode
                            }
                            continue
                        }
                        var ts = parseTimeStamp(t.substr(1, t.length - 2));
                        var node;
                        if (ts) {
                            node = window.document.createProcessingInstruction("timestamp", ts);
                            current.appendChild(node);
                            continue
                        }
                        var m = t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                        if (!m) {
                            continue
                        }
                        node = createElement(m[1], m[3]);
                        if (!node) {
                            continue
                        }
                        if (!shouldAdd(current, node)) {
                            continue
                        }
                        if (m[2]) {
                            node.className = m[2].substr(1).replace(".", " ")
                        }
                        tagStack.push(m[1]);
                        current.appendChild(node);
                        current = node;
                        continue
                    }
                    current.appendChild(window.document.createTextNode(unescape(t)))
                }
                return rootDiv
            }
            var strongRTLChars = [1470, 1472, 1475, 1478, 1488, 1489, 1490, 1491, 1492, 1493, 1494, 1495, 1496, 1497, 1498, 1499, 1500, 1501, 1502, 1503, 1504, 1505, 1506, 1507, 1508, 1509, 1510, 1511, 1512, 1513, 1514, 1520, 1521, 1522, 1523, 1524, 1544, 1547, 1549, 1563, 1566, 1567, 1568, 1569, 1570, 1571, 1572, 1573, 1574, 1575, 1576, 1577, 1578, 1579, 1580, 1581, 1582, 1583, 1584, 1585, 1586, 1587, 1588, 1589, 1590, 1591, 1592, 1593, 1594, 1595, 1596, 1597, 1598, 1599, 1600, 1601, 1602, 1603, 1604, 1605, 1606, 1607, 1608, 1609, 1610, 1645, 1646, 1647, 1649, 1650, 1651, 1652, 1653, 1654, 1655, 1656, 1657, 1658, 1659, 1660, 1661, 1662, 1663, 1664, 1665, 1666, 1667, 1668, 1669, 1670, 1671, 1672, 1673, 1674, 1675, 1676, 1677, 1678, 1679, 1680, 1681, 1682, 1683, 1684, 1685, 1686, 1687, 1688, 1689, 1690, 1691, 1692, 1693, 1694, 1695, 1696, 1697, 1698, 1699, 1700, 1701, 1702, 1703, 1704, 1705, 1706, 1707, 1708, 1709, 1710, 1711, 1712, 1713, 1714, 1715, 1716, 1717, 1718, 1719, 1720, 1721, 1722, 1723, 1724, 1725, 1726, 1727, 1728, 1729, 1730, 1731, 1732, 1733, 1734, 1735, 1736, 1737, 1738, 1739, 1740, 1741, 1742, 1743, 1744, 1745, 1746, 1747, 1748, 1749, 1765, 1766, 1774, 1775, 1786, 1787, 1788, 1789, 1790, 1791, 1792, 1793, 1794, 1795, 1796, 1797, 1798, 1799, 1800, 1801, 1802, 1803, 1804, 1805, 1807, 1808, 1810, 1811, 1812, 1813, 1814, 1815, 1816, 1817, 1818, 1819, 1820, 1821, 1822, 1823, 1824, 1825, 1826, 1827, 1828, 1829, 1830, 1831, 1832, 1833, 1834, 1835, 1836, 1837, 1838, 1839, 1869, 1870, 1871, 1872, 1873, 1874, 1875, 1876, 1877, 1878, 1879, 1880, 1881, 1882, 1883, 1884, 1885, 1886, 1887, 1888, 1889, 1890, 1891, 1892, 1893, 1894, 1895, 1896, 1897, 1898, 1899, 1900, 1901, 1902, 1903, 1904, 1905, 1906, 1907, 1908, 1909, 1910, 1911, 1912, 1913, 1914, 1915, 1916, 1917, 1918, 1919, 1920, 1921, 1922, 1923, 1924, 1925, 1926, 1927, 1928, 1929, 1930, 1931, 1932, 1933, 1934, 1935, 1936, 1937, 1938, 1939, 1940, 1941, 1942, 1943, 1944, 1945, 1946, 1947, 1948, 1949, 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1969, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026, 2036, 2037, 2042, 2048, 2049, 2050, 2051, 2052, 2053, 2054, 2055, 2056, 2057, 2058, 2059, 2060, 2061, 2062, 2063, 2064, 2065, 2066, 2067, 2068, 2069, 2074, 2084, 2088, 2096, 2097, 2098, 2099, 2100, 2101, 2102, 2103, 2104, 2105, 2106, 2107, 2108, 2109, 2110, 2112, 2113, 2114, 2115, 2116, 2117, 2118, 2119, 2120, 2121, 2122, 2123, 2124, 2125, 2126, 2127, 2128, 2129, 2130, 2131, 2132, 2133, 2134, 2135, 2136, 2142, 2208, 2210, 2211, 2212, 2213, 2214, 2215, 2216, 2217, 2218, 2219, 2220, 8207, 64285, 64287, 64288, 64289, 64290, 64291, 64292, 64293, 64294, 64295, 64296, 64298, 64299, 64300, 64301, 64302, 64303, 64304, 64305, 64306, 64307, 64308, 64309, 64310, 64312, 64313, 64314, 64315, 64316, 64318, 64320, 64321, 64323, 64324, 64326, 64327, 64328, 64329, 64330, 64331, 64332, 64333, 64334, 64335, 64336, 64337, 64338, 64339, 64340, 64341, 64342, 64343, 64344, 64345, 64346, 64347, 64348, 64349, 64350, 64351, 64352, 64353, 64354, 64355, 64356, 64357, 64358, 64359, 64360, 64361, 64362, 64363, 64364, 64365, 64366, 64367, 64368, 64369, 64370, 64371, 64372, 64373, 64374, 64375, 64376, 64377, 64378, 64379, 64380, 64381, 64382, 64383, 64384, 64385, 64386, 64387, 64388, 64389, 64390, 64391, 64392, 64393, 64394, 64395, 64396, 64397, 64398, 64399, 64400, 64401, 64402, 64403, 64404, 64405, 64406, 64407, 64408, 64409, 64410, 64411, 64412, 64413, 64414, 64415, 64416, 64417, 64418, 64419, 64420, 64421, 64422, 64423, 64424, 64425, 64426, 64427, 64428, 64429, 64430, 64431, 64432, 64433, 64434, 64435, 64436, 64437, 64438, 64439, 64440, 64441, 64442, 64443, 64444, 64445, 64446, 64447, 64448, 64449, 64467, 64468, 64469, 64470, 64471, 64472, 64473, 64474, 64475, 64476, 64477, 64478, 64479, 64480, 64481, 64482, 64483, 64484, 64485, 64486, 64487, 64488, 64489, 64490, 64491, 64492, 64493, 64494, 64495, 64496, 64497, 64498, 64499, 64500, 64501, 64502, 64503, 64504, 64505, 64506, 64507, 64508, 64509, 64510, 64511, 64512, 64513, 64514, 64515, 64516, 64517, 64518, 64519, 64520, 64521, 64522, 64523, 64524, 64525, 64526, 64527, 64528, 64529, 64530, 64531, 64532, 64533, 64534, 64535, 64536, 64537, 64538, 64539, 64540, 64541, 64542, 64543, 64544, 64545, 64546, 64547, 64548, 64549, 64550, 64551, 64552, 64553, 64554, 64555, 64556, 64557, 64558, 64559, 64560, 64561, 64562, 64563, 64564, 64565, 64566, 64567, 64568, 64569, 64570, 64571, 64572, 64573, 64574, 64575, 64576, 64577, 64578, 64579, 64580, 64581, 64582, 64583, 64584, 64585, 64586, 64587, 64588, 64589, 64590, 64591, 64592, 64593, 64594, 64595, 64596, 64597, 64598, 64599, 64600, 64601, 64602, 64603, 64604, 64605, 64606, 64607, 64608, 64609, 64610, 64611, 64612, 64613, 64614, 64615, 64616, 64617, 64618, 64619, 64620, 64621, 64622, 64623, 64624, 64625, 64626, 64627, 64628, 64629, 64630, 64631, 64632, 64633, 64634, 64635, 64636, 64637, 64638, 64639, 64640, 64641, 64642, 64643, 64644, 64645, 64646, 64647, 64648, 64649, 64650, 64651, 64652, 64653, 64654, 64655, 64656, 64657, 64658, 64659, 64660, 64661, 64662, 64663, 64664, 64665, 64666, 64667, 64668, 64669, 64670, 64671, 64672, 64673, 64674, 64675, 64676, 64677, 64678, 64679, 64680, 64681, 64682, 64683, 64684, 64685, 64686, 64687, 64688, 64689, 64690, 64691, 64692, 64693, 64694, 64695, 64696, 64697, 64698, 64699, 64700, 64701, 64702, 64703, 64704, 64705, 64706, 64707, 64708, 64709, 64710, 64711, 64712, 64713, 64714, 64715, 64716, 64717, 64718, 64719, 64720, 64721, 64722, 64723, 64724, 64725, 64726, 64727, 64728, 64729, 64730, 64731, 64732, 64733, 64734, 64735, 64736, 64737, 64738, 64739, 64740, 64741, 64742, 64743, 64744, 64745, 64746, 64747, 64748, 64749, 64750, 64751, 64752, 64753, 64754, 64755, 64756, 64757, 64758, 64759, 64760, 64761, 64762, 64763, 64764, 64765, 64766, 64767, 64768, 64769, 64770, 64771, 64772, 64773, 64774, 64775, 64776, 64777, 64778, 64779, 64780, 64781, 64782, 64783, 64784, 64785, 64786, 64787, 64788, 64789, 64790, 64791, 64792, 64793, 64794, 64795, 64796, 64797, 64798, 64799, 64800, 64801, 64802, 64803, 64804, 64805, 64806, 64807, 64808, 64809, 64810, 64811, 64812, 64813, 64814, 64815, 64816, 64817, 64818, 64819, 64820, 64821, 64822, 64823, 64824, 64825, 64826, 64827, 64828, 64829, 64848, 64849, 64850, 64851, 64852, 64853, 64854, 64855, 64856, 64857, 64858, 64859, 64860, 64861, 64862, 64863, 64864, 64865, 64866, 64867, 64868, 64869, 64870, 64871, 64872, 64873, 64874, 64875, 64876, 64877, 64878, 64879, 64880, 64881, 64882, 64883, 64884, 64885, 64886, 64887, 64888, 64889, 64890, 64891, 64892, 64893, 64894, 64895, 64896, 64897, 64898, 64899, 64900, 64901, 64902, 64903, 64904, 64905, 64906, 64907, 64908, 64909, 64910, 64911, 64914, 64915, 64916, 64917, 64918, 64919, 64920, 64921, 64922, 64923, 64924, 64925, 64926, 64927, 64928, 64929, 64930, 64931, 64932, 64933, 64934, 64935, 64936, 64937, 64938, 64939, 64940, 64941, 64942, 64943, 64944, 64945, 64946, 64947, 64948, 64949, 64950, 64951, 64952, 64953, 64954, 64955, 64956, 64957, 64958, 64959, 64960, 64961, 64962, 64963, 64964, 64965, 64966, 64967, 65008, 65009, 65010, 65011, 65012, 65013, 65014, 65015, 65016, 65017, 65018, 65019, 65020, 65136, 65137, 65138, 65139, 65140, 65142, 65143, 65144, 65145, 65146, 65147, 65148, 65149, 65150, 65151, 65152, 65153, 65154, 65155, 65156, 65157, 65158, 65159, 65160, 65161, 65162, 65163, 65164, 65165, 65166, 65167, 65168, 65169, 65170, 65171, 65172, 65173, 65174, 65175, 65176, 65177, 65178, 65179, 65180, 65181, 65182, 65183, 65184, 65185, 65186, 65187, 65188, 65189, 65190, 65191, 65192, 65193, 65194, 65195, 65196, 65197, 65198, 65199, 65200, 65201, 65202, 65203, 65204, 65205, 65206, 65207, 65208, 65209, 65210, 65211, 65212, 65213, 65214, 65215, 65216, 65217, 65218, 65219, 65220, 65221, 65222, 65223, 65224, 65225, 65226, 65227, 65228, 65229, 65230, 65231, 65232, 65233, 65234, 65235, 65236, 65237, 65238, 65239, 65240, 65241, 65242, 65243, 65244, 65245, 65246, 65247, 65248, 65249, 65250, 65251, 65252, 65253, 65254, 65255, 65256, 65257, 65258, 65259, 65260, 65261, 65262, 65263, 65264, 65265, 65266, 65267, 65268, 65269, 65270, 65271, 65272, 65273, 65274, 65275, 65276, 67584, 67585, 67586, 67587, 67588, 67589, 67592, 67594, 67595, 67596, 67597, 67598, 67599, 67600, 67601, 67602, 67603, 67604, 67605, 67606, 67607, 67608, 67609, 67610, 67611, 67612, 67613, 67614, 67615, 67616, 67617, 67618, 67619, 67620, 67621, 67622, 67623, 67624, 67625, 67626, 67627, 67628, 67629, 67630, 67631, 67632, 67633, 67634, 67635, 67636, 67637, 67639, 67640, 67644, 67647, 67648, 67649, 67650, 67651, 67652, 67653, 67654, 67655, 67656, 67657, 67658, 67659, 67660, 67661, 67662, 67663, 67664, 67665, 67666, 67667, 67668, 67669, 67671, 67672, 67673, 67674, 67675, 67676, 67677, 67678, 67679, 67840, 67841, 67842, 67843, 67844, 67845, 67846, 67847, 67848, 67849, 67850, 67851, 67852, 67853, 67854, 67855, 67856, 67857, 67858, 67859, 67860, 67861, 67862, 67863, 67864, 67865, 67866, 67867, 67872, 67873, 67874, 67875, 67876, 67877, 67878, 67879, 67880, 67881, 67882, 67883, 67884, 67885, 67886, 67887, 67888, 67889, 67890, 67891, 67892, 67893, 67894, 67895, 67896, 67897, 67903, 67968, 67969, 67970, 67971, 67972, 67973, 67974, 67975, 67976, 67977, 67978, 67979, 67980, 67981, 67982, 67983, 67984, 67985, 67986, 67987, 67988, 67989, 67990, 67991, 67992, 67993, 67994, 67995, 67996, 67997, 67998, 67999, 68000, 68001, 68002, 68003, 68004, 68005, 68006, 68007, 68008, 68009, 68010, 68011, 68012, 68013, 68014, 68015, 68016, 68017, 68018, 68019, 68020, 68021, 68022, 68023, 68030, 68031, 68096, 68112, 68113, 68114, 68115, 68117, 68118, 68119, 68121, 68122, 68123, 68124, 68125, 68126, 68127, 68128, 68129, 68130, 68131, 68132, 68133, 68134, 68135, 68136, 68137, 68138, 68139, 68140, 68141, 68142, 68143, 68144, 68145, 68146, 68147, 68160, 68161, 68162, 68163, 68164, 68165, 68166, 68167, 68176, 68177, 68178, 68179, 68180, 68181, 68182, 68183, 68184, 68192, 68193, 68194, 68195, 68196, 68197, 68198, 68199, 68200, 68201, 68202, 68203, 68204, 68205, 68206, 68207, 68208, 68209, 68210, 68211, 68212, 68213, 68214, 68215, 68216, 68217, 68218, 68219, 68220, 68221, 68222, 68223, 68352, 68353, 68354, 68355, 68356, 68357, 68358, 68359, 68360, 68361, 68362, 68363, 68364, 68365, 68366, 68367, 68368, 68369, 68370, 68371, 68372, 68373, 68374, 68375, 68376, 68377, 68378, 68379, 68380, 68381, 68382, 68383, 68384, 68385, 68386, 68387, 68388, 68389, 68390, 68391, 68392, 68393, 68394, 68395, 68396, 68397, 68398, 68399, 68400, 68401, 68402, 68403, 68404, 68405, 68416, 68417, 68418, 68419, 68420, 68421, 68422, 68423, 68424, 68425, 68426, 68427, 68428, 68429, 68430, 68431, 68432, 68433, 68434, 68435, 68436, 68437, 68440, 68441, 68442, 68443, 68444, 68445, 68446, 68447, 68448, 68449, 68450, 68451, 68452, 68453, 68454, 68455, 68456, 68457, 68458, 68459, 68460, 68461, 68462, 68463, 68464, 68465, 68466, 68472, 68473, 68474, 68475, 68476, 68477, 68478, 68479, 68608, 68609, 68610, 68611, 68612, 68613, 68614, 68615, 68616, 68617, 68618, 68619, 68620, 68621, 68622, 68623, 68624, 68625, 68626, 68627, 68628, 68629, 68630, 68631, 68632, 68633, 68634, 68635, 68636, 68637, 68638, 68639, 68640, 68641, 68642, 68643, 68644, 68645, 68646, 68647, 68648, 68649, 68650, 68651, 68652, 68653, 68654, 68655, 68656, 68657, 68658, 68659, 68660, 68661, 68662, 68663, 68664, 68665, 68666, 68667, 68668, 68669, 68670, 68671, 68672, 68673, 68674, 68675, 68676, 68677, 68678, 68679, 68680, 126464, 126465, 126466, 126467, 126469, 126470, 126471, 126472, 126473, 126474, 126475, 126476, 126477, 126478, 126479, 126480, 126481, 126482, 126483, 126484, 126485, 126486, 126487, 126488, 126489, 126490, 126491, 126492, 126493, 126494, 126495, 126497, 126498, 126500, 126503, 126505, 126506, 126507, 126508, 126509, 126510, 126511, 126512, 126513, 126514, 126516, 126517, 126518, 126519, 126521, 126523, 126530, 126535, 126537, 126539, 126541, 126542, 126543, 126545, 126546, 126548, 126551, 126553, 126555, 126557, 126559, 126561, 126562, 126564, 126567, 126568, 126569, 126570, 126572, 126573, 126574, 126575, 126576, 126577, 126578, 126580, 126581, 126582, 126583, 126585, 126586, 126587, 126588, 126590, 126592, 126593, 126594, 126595, 126596, 126597, 126598, 126599, 126600, 126601, 126603, 126604, 126605, 126606, 126607, 126608, 126609, 126610, 126611, 126612, 126613, 126614, 126615, 126616, 126617, 126618, 126619, 126625, 126626, 126627, 126629, 126630, 126631, 126632, 126633, 126635, 126636, 126637, 126638, 126639, 126640, 126641, 126642, 126643, 126644, 126645, 126646, 126647, 126648, 126649, 126650, 126651, 1114109];

            function determineBidi(cueDiv) {
                var nodeStack = [],
                    text = "",
                    charCode;
                if (!cueDiv || !cueDiv.childNodes) {
                    return "ltr"
                }

                function pushNodes(nodeStack, node) {
                    for (var i = node.childNodes.length - 1; i >= 0; i--) {
                        nodeStack.push(node.childNodes[i])
                    }
                }

                function nextTextNode(nodeStack) {
                    if (!nodeStack || !nodeStack.length) {
                        return null
                    }
                    var node = nodeStack.pop(),
                        text = node.textContent || node.innerText;
                    if (text) {
                        var m = text.match(/^.*(\n|\r)/);
                        if (m) {
                            nodeStack.length = 0;
                            return m[0]
                        }
                        return text
                    }
                    if (node.tagName === "ruby") {
                        return nextTextNode(nodeStack)
                    }
                    if (node.childNodes) {
                        pushNodes(nodeStack, node);
                        return nextTextNode(nodeStack)
                    }
                }
                pushNodes(nodeStack, cueDiv);
                while ((text = nextTextNode(nodeStack))) {
                    for (var i = 0; i < text.length; i++) {
                        charCode = text.charCodeAt(i);
                        for (var j = 0; j < strongRTLChars.length; j++) {
                            if (strongRTLChars[j] === charCode) {
                                return "rtl"
                            }
                        }
                    }
                }
                return "ltr"
            }

            function computeLinePos(cue) {
                if (typeof cue.line === "number" && (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {
                    return cue.line
                }
                if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {
                    return -1
                }
                var track = cue.track,
                    trackList = track.textTrackList,
                    count = 0;
                for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {
                    if (trackList[i].mode === "showing") {
                        count++
                    }
                }
                return ++count * -1
            }

            function StyleBox() {}
            StyleBox.prototype.applyStyles = function(styles, div) {
                div = div || this.div;
                for (var prop in styles) {
                    if (styles.hasOwnProperty(prop)) {
                        div.style[prop] = styles[prop]
                    }
                }
            };
            StyleBox.prototype.formatStyle = function(val, unit) {
                return val === 0 ? 0 : val + unit
            };

            function CueStyleBox(window, cue, styleOptions) {
                var isIE8 = (/MSIE\s8\.0/).test(navigator.userAgent);
                var color = "rgba(255, 255, 255, 1)";
                var backgroundColor = "rgba(0, 0, 0, 0.8)";
                if (isIE8) {
                    color = "rgb(255, 255, 255)";
                    backgroundColor = "rgb(0, 0, 0)"
                }
                StyleBox.call(this);
                this.cue = cue;
                this.cueDiv = parseContent(window, cue.text);
                var styles = {
                    color: color,
                    backgroundColor: backgroundColor,
                    position: "relative",
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0,
                    display: "inline"
                };
                if (!isIE8) {
                    styles.writingMode = cue.vertical === "" ? "horizontal-tb" : cue.vertical === "lr" ? "vertical-lr" : "vertical-rl";
                    styles.unicodeBidi = "plaintext"
                }
                this.applyStyles(styles, this.cueDiv);
                this.div = window.document.createElement("div");
                styles = {
                    textAlign: cue.align === "middle" ? "center" : cue.align,
                    font: styleOptions.font,
                    whiteSpace: "pre-line",
                    position: "absolute"
                };
                if (!isIE8) {
                    styles.direction = determineBidi(this.cueDiv);
                    styles.writingMode = cue.vertical === "" ? "horizontal-tb" : cue.vertical === "lr" ? "vertical-lr" : "vertical-rl".stylesunicodeBidi = "plaintext"
                }
                this.applyStyles(styles);
                this.div.appendChild(this.cueDiv);
                var textPos = 0;
                switch (cue.positionAlign) {
                    case "start":
                        textPos = cue.position;
                        break;
                    case "middle":
                        textPos = cue.position - (cue.size / 2);
                        break;
                    case "end":
                        textPos = cue.position - cue.size;
                        break
                }
                if (cue.vertical === "") {
                    this.applyStyles({
                        left: this.formatStyle(textPos, "%"),
                        width: this.formatStyle(cue.size, "%"),
                    })
                } else {
                    this.applyStyles({
                        top: this.formatStyle(textPos, "%"),
                        height: this.formatStyle(cue.size, "%")
                    })
                }
                this.move = function(box) {
                    this.applyStyles({
                        top: this.formatStyle(box.top, "px"),
                        bottom: this.formatStyle(box.bottom, "px"),
                        left: this.formatStyle(box.left, "px"),
                        right: this.formatStyle(box.right, "px"),
                        height: this.formatStyle(box.height, "px"),
                        width: this.formatStyle(box.width, "px"),
                    })
                }
            }
            CueStyleBox.prototype = _objCreate(StyleBox.prototype);
            CueStyleBox.prototype.constructor = CueStyleBox;

            function BoxPosition(obj) {
                var isIE8 = (/MSIE\s8\.0/).test(navigator.userAgent);
                var lh, height, width, top;
                if (obj.div) {
                    height = obj.div.offsetHeight;
                    width = obj.div.offsetWidth;
                    top = obj.div.offsetTop;
                    var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();
                    obj = obj.div.getBoundingClientRect();
                    lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length) : 0
                }
                this.left = obj.left;
                this.right = obj.right;
                this.top = obj.top || top;
                this.height = obj.height || height;
                this.bottom = obj.bottom || (top + (obj.height || height));
                this.width = obj.width || width;
                this.lineHeight = lh !== undefined ? lh : obj.lineHeight;
                if (isIE8 && !this.lineHeight) {
                    this.lineHeight = 13
                }
            }
            BoxPosition.prototype.move = function(axis, toMove) {
                toMove = toMove !== undefined ? toMove : this.lineHeight;
                switch (axis) {
                    case "+x":
                        this.left += toMove;
                        this.right += toMove;
                        break;
                    case "-x":
                        this.left -= toMove;
                        this.right -= toMove;
                        break;
                    case "+y":
                        this.top += toMove;
                        this.bottom += toMove;
                        break;
                    case "-y":
                        this.top -= toMove;
                        this.bottom -= toMove;
                        break
                }
            };
            BoxPosition.prototype.overlaps = function(b2) {
                return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top
            };
            BoxPosition.prototype.overlapsAny = function(boxes) {
                for (var i = 0; i < boxes.length; i++) {
                    if (this.overlaps(boxes[i])) {
                        return true
                    }
                }
                return false
            };
            BoxPosition.prototype.within = function(container) {
                return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right
            };
            BoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {
                switch (axis) {
                    case "+x":
                        return this.left < container.left;
                    case "-x":
                        return this.right > container.right;
                    case "+y":
                        return this.top < container.top;
                    case "-y":
                        return this.bottom > container.bottom
                }
            };
            BoxPosition.prototype.intersectPercentage = function(b2) {
                var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),
                    y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),
                    intersectArea = x * y;
                return intersectArea / (this.height * this.width)
            };
            BoxPosition.prototype.toCSSCompatValues = function(reference) {
                return {
                    top: this.top - reference.top,
                    bottom: reference.bottom - this.bottom,
                    left: this.left - reference.left,
                    right: reference.right - this.right,
                    height: this.height,
                    width: this.width
                }
            };
            BoxPosition.getSimpleBoxPosition = function(obj) {
                var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;
                var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;
                var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;
                obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;
                var ret = {
                    left: obj.left,
                    right: obj.right,
                    top: obj.top || top,
                    height: obj.height || height,
                    bottom: obj.bottom || (top + (obj.height || height)),
                    width: obj.width || width
                };
                return ret
            };

            function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {
                function findBestPosition(b, axis) {
                    var bestPosition, specifiedPosition = new BoxPosition(b),
                        percentage = 1;
                    for (var i = 0; i < axis.length; i++) {
                        while (b.overlapsOppositeAxis(containerBox, axis[i]) || (b.within(containerBox) && b.overlapsAny(boxPositions))) {
                            b.move(axis[i])
                        }
                        if (b.within(containerBox)) {
                            return b
                        }
                        var p = b.intersectPercentage(containerBox);
                        if (percentage > p) {
                            bestPosition = new BoxPosition(b);
                            percentage = p
                        }
                        b = new BoxPosition(specifiedPosition)
                    }
                    return bestPosition || specifiedPosition
                }
                var boxPosition = new BoxPosition(styleBox),
                    cue = styleBox.cue,
                    linePos = computeLinePos(cue),
                    axis = [];
                if (cue.snapToLines) {
                    var size;
                    switch (cue.vertical) {
                        case "":
                            axis = ["+y", "-y"];
                            size = "height";
                            break;
                        case "rl":
                            axis = ["+x", "-x"];
                            size = "width";
                            break;
                        case "lr":
                            axis = ["-x", "+x"];
                            size = "width";
                            break
                    }
                    var step = boxPosition.lineHeight,
                        position = step * Math.round(linePos),
                        maxPosition = containerBox[size] + step,
                        initialAxis = axis[0];
                    if (Math.abs(position) > maxPosition) {
                        position = position < 0 ? -1 : 1;
                        position *= Math.ceil(maxPosition / step) * step
                    }
                    if (linePos < 0) {
                        position += cue.vertical === "" ? containerBox.height : containerBox.width;
                        axis = axis.reverse()
                    }
                    boxPosition.move(initialAxis, position)
                } else {
                    var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;
                    switch (cue.lineAlign) {
                        case "middle":
                            linePos -= (calculatedPercentage / 2);
                            break;
                        case "end":
                            linePos -= calculatedPercentage;
                            break
                    }
                    switch (cue.vertical) {
                        case "":
                            styleBox.applyStyles({
                                top: styleBox.formatStyle(linePos, "%")
                            });
                            break;
                        case "rl":
                            styleBox.applyStyles({
                                left: styleBox.formatStyle(linePos, "%")
                            });
                            break;
                        case "lr":
                            styleBox.applyStyles({
                                right: styleBox.formatStyle(linePos, "%")
                            });
                            break
                    }
                    axis = ["+y", "-x", "+x", "-y"];
                    boxPosition = new BoxPosition(styleBox)
                }
                var bestPosition = findBestPosition(boxPosition, axis);
                styleBox.move(bestPosition.toCSSCompatValues(containerBox))
            }

            function WebVTT() {}
            WebVTT.StringDecoder = function() {
                return {
                    decode: function(data) {
                        if (!data) {
                            return ""
                        }
                        if (typeof data !== "string") {
                            throw new Error("Error - expected string data.")
                        }
                        return decodeURIComponent(encodeURIComponent(data))
                    }
                }
            };
            WebVTT.convertCueToDOMTree = function(window, cuetext) {
                if (!window || !cuetext) {
                    return null
                }
                return parseContent(window, cuetext)
            };
            var FONT_SIZE_PERCENT = 0.05;
            var FONT_STYLE = "sans-serif";
            var CUE_BACKGROUND_PADDING = "1.5%";
            WebVTT.processCues = function(window, cues, overlay) {
                if (!window || !cues || !overlay) {
                    return null
                }
                while (overlay.firstChild) {
                    overlay.removeChild(overlay.firstChild)
                }
                var paddedOverlay = window.document.createElement("div");
                paddedOverlay.style.position = "absolute";
                paddedOverlay.style.left = "0";
                paddedOverlay.style.right = "0";
                paddedOverlay.style.top = "0";
                paddedOverlay.style.bottom = "0";
                paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;
                overlay.appendChild(paddedOverlay);

                function shouldCompute(cues) {
                    for (var i = 0; i < cues.length; i++) {
                        if (cues[i].hasBeenReset || !cues[i].displayState) {
                            return true
                        }
                    }
                    return false
                }
                if (!shouldCompute(cues)) {
                    for (var i = 0; i < cues.length; i++) {
                        paddedOverlay.appendChild(cues[i].displayState)
                    }
                    return
                }
                var boxPositions = [],
                    containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),
                    fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;
                var styleOptions = {
                    font: fontSize + "px " + FONT_STYLE
                };
                (function() {
                    var styleBox, cue;
                    for (var i = 0; i < cues.length; i++) {
                        cue = cues[i];
                        styleBox = new CueStyleBox(window, cue, styleOptions);
                        paddedOverlay.appendChild(styleBox.div);
                        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);
                        cue.displayState = styleBox.div;
                        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))
                    }
                })()
            };
            WebVTT.Parser = function(window, vttjs, decoder) {
                if (!decoder) {
                    decoder = vttjs;
                    vttjs = {}
                }
                if (!vttjs) {
                    vttjs = {}
                }
                this.window = window;
                this.vttjs = vttjs;
                this.state = "INITIAL";
                this.buffer = "";
                this.decoder = decoder || new TextDecoder("utf8");
                this.regionList = []
            };
            WebVTT.Parser.prototype = {
                reportOrThrowError: function(e) {
                    if (e instanceof ParsingError) {
                        this.onparsingerror && this.onparsingerror(e)
                    } else {
                        throw e
                    }
                },
                parse: function(data) {
                    var self = this;
                    if (data) {
                        self.buffer += self.decoder.decode(data, {
                            stream: true
                        })
                    }

                    function collectNextLine() {
                        var buffer = self.buffer;
                        var pos = 0;
                        while (pos < buffer.length && buffer[pos] !== "\r" && buffer[pos] !== "\n") {
                            ++pos
                        }
                        var line = buffer.substr(0, pos);
                        if (buffer[pos] === "\r") {
                            ++pos
                        }
                        if (buffer[pos] === "\n") {
                            ++pos
                        }
                        self.buffer = buffer.substr(pos);
                        return line
                    }

                    function parseRegion(input) {
                        var settings = new Settings();
                        parseOptions(input, function(k, v) {
                            switch (k) {
                                case "id":
                                    settings.set(k, v);
                                    break;
                                case "width":
                                    settings.percent(k, v);
                                    break;
                                case "lines":
                                    settings.integer(k, v);
                                    break;
                                case "regionanchor":
                                case "viewportanchor":
                                    var xy = v.split(",");
                                    if (xy.length !== 2) {
                                        break
                                    }
                                    var anchor = new Settings();
                                    anchor.percent("x", xy[0]);
                                    anchor.percent("y", xy[1]);
                                    if (!anchor.has("x") || !anchor.has("y")) {
                                        break
                                    }
                                    settings.set(k + "X", anchor.get("x"));
                                    settings.set(k + "Y", anchor.get("y"));
                                    break;
                                case "scroll":
                                    settings.alt(k, v, ["up"]);
                                    break
                            }
                        }, /=/, /\s/);
                        if (settings.has("id")) {
                            var region = new(self.vttjs.VTTRegion || self.window.VTTRegion)();
                            region.width = settings.get("width", 100);
                            region.lines = settings.get("lines", 3);
                            region.regionAnchorX = settings.get("regionanchorX", 0);
                            region.regionAnchorY = settings.get("regionanchorY", 100);
                            region.viewportAnchorX = settings.get("viewportanchorX", 0);
                            region.viewportAnchorY = settings.get("viewportanchorY", 100);
                            region.scroll = settings.get("scroll", "");
                            self.onregion && self.onregion(region);
                            self.regionList.push({
                                id: settings.get("id"),
                                region: region
                            })
                        }
                    }

                    function parseHeader(input) {
                        parseOptions(input, function(k, v) {
                            switch (k) {
                                case "Region":
                                    parseRegion(v);
                                    break
                            }
                        }, /:/)
                    }
                    try {
                        var line;
                        if (self.state === "INITIAL") {
                            if (!/\r\n|\n/.test(self.buffer)) {
                                return this
                            }
                            line = collectNextLine();
                            var m = line.match(/^WEBVTT([ \t].*)?$/);
                            if (!m || !m[0]) {
                                throw new ParsingError(ParsingError.Errors.BadSignature)
                            }
                            self.state = "HEADER"
                        }
                        var alreadyCollectedLine = false;
                        while (self.buffer) {
                            if (!/\r\n|\n/.test(self.buffer)) {
                                return this
                            }
                            if (!alreadyCollectedLine) {
                                line = collectNextLine()
                            } else {
                                alreadyCollectedLine = false
                            }
                            switch (self.state) {
                                case "HEADER":
                                    if (/:/.test(line)) {
                                        parseHeader(line)
                                    } else {
                                        if (!line) {
                                            self.state = "ID"
                                        }
                                    }
                                    continue;
                                case "NOTE":
                                    if (!line) {
                                        self.state = "ID"
                                    }
                                    continue;
                                case "ID":
                                    if (/^NOTE($|[ \t])/.test(line)) {
                                        self.state = "NOTE";
                                        break
                                    }
                                    if (!line) {
                                        continue
                                    }
                                    self.cue = new(self.vttjs.VTTCue || self.window.VTTCue)(0, 0, "");
                                    self.state = "CUE";
                                    if (line.indexOf("-->") === -1) {
                                        self.cue.id = line;
                                        continue
                                    }
                                case "CUE":
                                    try {
                                        parseCue(line, self.cue, self.regionList)
                                    } catch (e) {
                                        self.reportOrThrowError(e);
                                        self.cue = null;
                                        self.state = "BADCUE";
                                        continue
                                    }
                                    self.state = "CUETEXT";
                                    continue;
                                case "CUETEXT":
                                    var hasSubstring = line.indexOf("-->") !== -1;
                                    if (!line || hasSubstring && (alreadyCollectedLine = true)) {
                                        self.oncue && self.oncue(self.cue);
                                        self.cue = null;
                                        self.state = "ID";
                                        continue
                                    }
                                    if (self.cue.text) {
                                        self.cue.text += "\n"
                                    }
                                    self.cue.text += line;
                                    continue;
                                case "BADCUE":
                                    if (!line) {
                                        self.state = "ID"
                                    }
                                    continue
                            }
                        }
                    } catch (e) {
                        self.reportOrThrowError(e);
                        if (self.state === "CUETEXT" && self.cue && self.oncue) {
                            self.oncue(self.cue)
                        }
                        self.cue = null;
                        self.state = self.state === "INITIAL" ? "BADWEBVTT" : "BADCUE"
                    }
                    return this
                },
                flush: function() {
                    var self = this;
                    try {
                        self.buffer += self.decoder.decode();
                        if (self.cue || self.state === "HEADER") {
                            self.buffer += "\n\n";
                            self.parse()
                        }
                        if (self.state === "INITIAL") {
                            throw new ParsingError(ParsingError.Errors.BadSignature)
                        }
                    } catch (e) {
                        self.reportOrThrowError(e)
                    }
                    self.onflush && self.onflush();
                    return this
                }
            };
            global.WebVTT = WebVTT
        }(this, (this.vttjs || {})))
    }, {}],
    16: [function(b, c, a) {
        /*!
         * videojs-playlists - Playlists done right for Videojs
         * v0.1.1
         *
         * copyright Antonio Laguna 2013
         * MIT License
         */
        function d(h, f) {
            var i = this;
            i.pl = i.pl || {};
            var g = parseInt(h, 10);
            i.pl._guessVideoType = function(j) {
                var k = {
                    webm: "video/webm",
                    mp4: "video/mp4",
                    m4v: "video/mp4",
                    ogv: "video/ogg"
                };
                var l = j.split(".").pop();
                return k[l] || ""
            };
            i.pl.init = function(k, j) {
                j = j || {};
                i.pl.videos = [];
                i.pl.current = 0;
                i.on("ended", i.pl._videoEnd);
                if (j.getVideoSource) {
                    i.pl.getVideoSource = j.getVideoSource
                }
                i.pl._addVideos(k)
            };
            i.pl._updatePoster = function(j) {
                i.poster(j);
                i.removeChild(i.posterImage);
                i.posterImage = i.addChild("posterImage")
            };
            i.pl._addVideos = function(o) {
                for (var n = 0, p = o.length; n < p; n++) {
                    var l = [];
                    for (var m = 0, k = o[n].src.length; m < k; m++) {
                        l.push({
                            type: i.pl._guessVideoType(o[n].src[m]),
                            src: o[n].src[m]
                        })
                    }
                    o[n].src = l;
                    i.pl.videos.push(o[n])
                }
            };
            i.pl._nextPrev = function(l) {
                var m, k;
                if (l === "next") {
                    m = i.pl.videos.length - 1;
                    k = 1
                } else {
                    m = 0;
                    k = -1
                }
                if (i.pl.current !== m) {
                    var j = i.pl.current + k;
                    i.pl._setVideo(j);
                    i.trigger(l, [i.pl.videos[j]])
                }
            };
            i.pl._setVideo = function(j) {
                if (j < i.pl.videos.length) {
                    i.pl.current = j;
                    i.pl.currentVideo = i.pl.videos[j];
                    if (!i.paused()) {
                        i.pl._resumeVideo()
                    }
                    if (i.pl.getVideoSource) {
                        i.pl.getVideoSource(i.pl.videos[j], function(k, l) {
                            i.pl._setVideoSource(k, l)
                        })
                    } else {
                        i.pl._setVideoSource(i.pl.videos[j].src, i.pl.videos[j].poster)
                    }
                }
            };
            i.pl._setVideoSource = function(j, k) {
                i.src(j);
                i.pl._updatePoster(k)
            };
            i.pl._resumeVideo = function() {
                i.one("loadstart", function() {
                    i.play()
                })
            };
            i.pl._videoEnd = function() {
                if (i.pl.current === i.pl.videos.length - 1) {
                    i.trigger("lastVideoEnded")
                } else {
                    i.pl._resumeVideo();
                    i.next()
                }
            };
            if (h instanceof Array) {
                i.pl.init(h, f);
                i.pl._setVideo(0);
                return i
            } else {
                if (g === g) {
                    i.pl._setVideo(g);
                    return i
                } else {
                    if (typeof h === "string" && typeof i.pl[h] !== "undefined") {
                        i.pl[h].apply(i);
                        return i
                    }
                }
            }
        }
        videojs.Player.prototype.next = function() {
            this.pl._nextPrev("next");
            return this
        };
        videojs.Player.prototype.prev = function() {
            this.pl._nextPrev("prev");
            return this
        };
        videojs.plugin("playList", d)
    }, {}],
    17: [function(c, d, b) {
        c("./lib/main.js");
        c("./tempLegacy.js");
        var f = c("./modules/utils/updatePrice.js");
        f.watch();
        var a = c("./modules/serviceMenu/serviceMenu.js")
    }, {
        "./lib/main.js": 11,
        "./modules/serviceMenu/serviceMenu.js": 21,
        "./modules/utils/updatePrice.js": 22,
        "./tempLegacy.js": 23
    }],
    18: [function(b, c, a) {
        var d = {
            $: window.$,
            gdt: window.gdt,
            utils: window.gdt.Utils,
            DOM: {
                $html: $("html"),
                $body: $("body")
            },
            Page: {
                defaultCountryCode: $("body").data("country-default") || "US",
                defaultSalesCode: $("body").data("salescode-default") || "USPA",
                isEboutique: $("body").data("iseboutique")
            }
        };
        if (Object.freeze) {
            Object.freeze(d)
        }
        c.exports = d
    }, {}],
    19: [function(d, b, g) {
        var c = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(s) {
            return typeof s
        } : function(s) {
            return s && typeof Symbol === "function" && s.constructor === Symbol && s !== Symbol.prototype ? "symbol" : typeof s
        };
        var o = d("../global.js");
        var r = o.DOM;
        var p = o.utils;
        var h = o.$;
        var q = o.gdt.Utils.PubSub.UI_EVENTS;
        var j = function j() {
            var s = window.localStorage.getItem("page-country-currency");
            if (s) {
                return JSON.parse(s)
            } else {
                return {
                    error: "not found"
                }
            }
        };
        var m = function m(s) {
            if ((typeof s === "undefined" ? "undefined" : c(s)) === "object" && s.hasOwnProperty("countryCode") && s.hasOwnProperty("salesCode")) {
                window.localStorage.setItem("page-country-currency", JSON.stringify(s))
            } else {
                throw "invalid data structure"
            }
        };
        var a = function a() {
            var s = h.Deferred();
            p.ipDetection.countryCodes.then(function(t) {
                s.resolve(t)
            });
            return s.promise()
        };
        var l = function l(t, u) {
            var v = undefined;
            var s = h.Deferred();
            if (t && t[u]) {
                v = t[u].salesCode
            }
            if (u && v) {
                s.resolve({
                    countryCode: u,
                    salesCode: v
                })
            } else {
                s.reject()
            }
            return s.promise()
        };
        var n = function n(t, s) {
            k(t, s, o.Page.defaultCountryCode, o.Page.defaultSalesCode);
            m({
                countryCode: o.Page.defaultCountryCode,
                salesCode: o.Page.defaultSalesCode
            })
        };
        var k = function k(t, s, u, v) {
            console.log(u, v);
            if (s[u]) {
                t.find(".language-selector-country").attr({
                    src: "/content/dam/pan-assets/icons/flags/" + u.toLowerCase() + ".svg",
                    alt: u
                });
                t.find(".language-selector-currency-code").text(s[u].currencyCode);
                t.find(".language-selector-currency-symbol").text(s[u].currencySymbol);
                t.find(".determine-pending").removeClass("determine-pending");
                h.pubsub("publish", "country-currency-determined", {
                    countryCode: u,
                    salesCode: v
                });
                r.$body.removeClass("determine-courntycurrency-pending");
                h("#ipCountryDetection").find(".ppc-country-name").text(s[u].countryLabel);
                h("#ipCountryDetection").find(".ppc-currency-type").text(s[u].currencyCode);
                h("#ipCountryDetection").find(".ppc-currency-symbol").text(s[u].currencySymbol)
            }
        };
        var i = function i(t) {
            var x = void 0,
                u = void 0,
                v = void 0;
            var s = t.find(".language-selector-data").data("country-currency-mapping");
            if (!o.Page.isEboutique) {
                x = j();
                if (!x.error) {
                    var w = x;
                    u = w.countryCode;
                    v = w.salesCode;
                    k(t, s, u, v)
                } else {
                    a().then(function(y) {
                        u = y.geoip;
                        return l(s, u)
                    }).then(function(y) {
                        v = y.salesCode;
                        k(t, s, u, v);
                        m(y)
                    }).fail(function() {
                        n(t, s);
                        h("#ipCountryDetection").modal();
                        h.pubsub("publish", q.ipCountryDetectionPopup)
                    })
                }
            } else {
                n(t, s)
            }
        };
        var f = function f(s, t) {
            m({
                countryCode: s,
                salesCode: t
            })
        };
        b.exports = {
            determineCodes: i,
            userInput: f
        }
    }, {
        "../global.js": 18
    }],
    20: [function(c, b, f) {
        var d = function() {
            function o(s, q) {
                for (var p = 0; p < q.length; p++) {
                    var r = q[p];
                    r.enumerable = r.enumerable || false;
                    r.configurable = true;
                    if ("value" in r) {
                        r.writable = true
                    }
                    Object.defineProperty(s, r.key, r)
                }
            }
            return function(r, p, q) {
                if (p) {
                    o(r.prototype, p)
                }
                if (q) {
                    o(r, q)
                }
                return r
            }
        }();

        function g(o, p) {
            if (!(o instanceof p)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }
        var l = c("../global.js");
        var h = l.$;
        var i = l.gdt;
        var n = l.DOM;
        var j = c("./determineCountryCurrency.js");
        var m = l.utils.PubSub.UI_EVENTS;
        var k = typeof window.ontouchstart === "undefined" ? "click" : "touchend";
        var a = function() {
            function p() {
                g(this, p);
                this.curencyCode = undefined;
                this.countryCode = undefined;
                this.eBoutiqueList = [];
                this.$overlay = h("#languageSelectorOverlay");
                this.$form = this.$overlay.find("#language-selector");
                this.$submitButton = this.$form.find("div.send-request .form_button_submit");
                this.$ecomNoticeOverlay = h("#redirectionToEcom");
                this.$currencySelect = this.$overlay.find(".currency-selector");
                this.$languageSelect = this.$overlay.find(".language-selector");
                this.$eBoutiqueCountrySelect = this.$overlay.find(".country-selector");
                this.bindEvents()
            }
            d(p, [{
                key: "bindEvents",
                value: function s() {
                    h.pubsub("subscribe", m.languageSelectorPopupClose, this.overlayClosed.bind(this));
                    this.$overlay.find(".bottomText a").on(k, this.requestEboutique.bind(this));
                    this.$submitButton.on(k, this.sendEbuitqueRequest.bind(this));
                    this.$currencySelect.on("change", "select", this.nonEbCurrencySelected.bind(this));
                    this.$languageSelect.on("change", "select", this.nonEbLanguageSelected.bind(this));
                    this.$eBoutiqueCountrySelect.on("change", "select", this.ebCountrySelected.bind(this))
                }
            }, {
                key: "nonEbCurrencySelected",
                value: function q(A) {
                    var z = h(A.target);
                    if (z.prop("selectedIndex") > 0) {
                        var y = z.find("option:selected");
                        if (y.data("is-eboutique") && n.$body.data("iseboutique")) {
                            this.$overlay.find(".modal-close").trigger("click");
                            this.$ecomNoticeOverlay.modal();
                            h.pubsub("publish", m.redirectionToEcomPopup);
                            this.$ecomNoticeOverlay.find("a.button-no-icon").attr("href", y.data("eboutique-url"))
                        } else {
                            if (y.data("is-eboutique") && !n.$body.data("iseboutique")) {
                                window.location.href = y.data("eboutique-url");
                                return false
                            }
                        }
                        this.curencyCode = y.data("currency");
                        this.countryCode = y.data("country");
                        this.$eBoutiqueCountrySelect.find(".moz-select").addClass("disabled");
                        this.$eBoutiqueCountrySelect.find("select").prop({
                            disabled: true,
                            selectedIndex: 0
                        });
                        this.$languageSelect.find(".moz-select").removeClass("disabled");
                        this.$languageSelect.find("select").prop("disabled", false)
                    } else {
                        this.curencyCode = undefined;
                        this.countryCode = undefined;
                        this.$eBoutiqueCountrySelect.find(".moz-select").removeClass("disabled");
                        this.$eBoutiqueCountrySelect.find("select").prop({
                            disabled: false
                        });
                        this.$languageSelect.find(".moz-select").addClass("disabled");
                        this.$languageSelect.find("select").prop({
                            disabled: true,
                            selectedIndex: 0
                        })
                    }
                }
            }, {
                key: "nonEbLanguageSelected",
                value: function x(z) {
                    var y = h(z.target);
                    if (y.prop("selectedIndex") > 0) {
                        console.log("Currency ", this.curencyCode, "Country ", this.countryCode);
                        j.userInput(this.countryCode, this.curencyCode);
                        window.location.href = y.val()
                    }
                }
            }, {
                key: "ebCountrySelected",
                value: function o(A) {
                    var y = h(A.target);
                    var z = location.href;
                    if (y.prop("selectedIndex") > 0) {
                        if (n.$body.data("iseboutique")) {
                            this.$overlay.find(".modal-close").trigger("click");
                            this.$ecomNoticeOverlay.modal();
                            h.pubsub("publish", m.redirectionToEcomPopup);
                            this.$ecomNoticeOverlay.find("a.button-no-icon").attr("href", y.val())
                        } else {
                            console.log("Redirect to eButique site. ", y.val());
                            window.location.href = y.val()
                        }
                    }
                }
            }, {
                key: "generateEboutiqueList",
                value: function r() {
                    this.eBoutiqueList = this.$eBoutiqueCountrySelect.find("select option[value]").map(function(y, z) {
                        return h(z).val()
                    })
                }
            }, {
                key: "processForm",
                value: function t(z) {
                    var B = this;
                    h.ajax({
                        type: "post",
                        url: z.attr("action"),
                        data: z.serialize(),
                        dataType: "json",
                        success: function A(C) {
                            B.$submitButton.removeClass("loading");
                            if (C.status === true) {
                                B.$overlay.addClass("formSubmitted");
                                B.$overlay.find(".gdt-message").remove();
                                z.after("<div class='gdt-message'>" + C.message + "</div>");
                                window.Recaptcha.reload();
                                z.find("[type=reset]").trigger("click");
                                z.find(".captchaDiv").removeClass("captchaError");
                                z.find("span.error.captcha").attr("hidden", "hidden")
                            } else {
                                if (C.status === false && C.validCaptcha !== undefined && C.validCaptcha === false) {
                                    z.find(".captchaDiv").addClass("captchaError");
                                    z.find("span.error.captcha").removeAttr("hidden");
                                    window.Recaptcha.reload()
                                } else {
                                    B.$overlay.addClass("formSubmitted");
                                    B.$overlay.find(".gdt-message").remove();
                                    z.after("<div class='gdt-message'>" + C.message + "</div>");
                                    window.Recaptcha.reload();
                                    z.find("[type=reset]").trigger("click");
                                    z.find(".captchaDiv").removeClass("captchaError");
                                    z.find("span.error.captcha").attr("hidden", "hidden")
                                }
                            }
                        },
                        error: function y(C, E, D) {
                            B.$overlay.find(".gdt-message").remove();
                            z.hide().after("<div class='gdt-message'>" + D + "</div>")
                        }
                    })
                }
            }, {
                key: "overlayClosed",
                value: function w() {
                    h(".topnav nav.main .inner > a").each(function(y, z) {
                        if (h(z).hasClass("active")) {
                            n.$body.addClass("hideMain");
                            h("#js-modal-bg").addClass("navopen")
                        }
                    })
                }
            }, {
                key: "requestEboutique",
                value: function u(y) {
                    y.preventDefault();
                    this.$overlay.addClass("modifiedState");
                    this.$overlay.removeClass("firstState");
                    this.$overlay.parent().addClass("modal-wrap-scroll")
                }
            }, {
                key: "sendEbuitqueRequest",
                value: function v(y) {
                    y.preventDefault();
                    if (i.Validate.form("language-selector")) {
                        this.processForm(this.$form);
                        this.$submitButton.addClass("loading")
                    }
                }
            }]);
            return p
        }();
        b.exports = a
    }, {
        "../global.js": 18,
        "./determineCountryCurrency.js": 19
    }],
    21: [function(b, a, d) {
        var c = function() {
            function n(r, p) {
                for (var o = 0; o < p.length; o++) {
                    var q = p[o];
                    q.enumerable = q.enumerable || false;
                    q.configurable = true;
                    if ("value" in q) {
                        q.writable = true
                    }
                    Object.defineProperty(r, q.key, q)
                }
            }
            return function(q, o, p) {
                if (o) {
                    n(q.prototype, o)
                }
                if (p) {
                    n(q, p)
                }
                return q
            }
        }();

        function f(n, o) {
            if (!(n instanceof o)) {
                throw new TypeError("Cannot call a class as a function")
            }
        }
        var j = b("../global.js");
        var g = j.$;
        var h = j.gdt;
        var m = j.DOM;
        var i = b("./determineCountryCurrency.js");
        var l = b("./languageSelector.js");
        var k = function() {
            function q() {
                f(this, q);
                this.$component = g(".service-menu:eq(0)");
                this.$languageSelector = this.$component.find(".language-selector");
                this.languageSelectorVariant = this.$languageSelector.data("variant");
                this.overlay = undefined;
                if (this.languageSelectorVariant === "overlay") {
                    this.initializeOverlaySelector();
                    i.determineCodes(this.$component);
                    this.overlay = new l()
                } else {
                    if (this.languageSelectorVariant === "dropdown") {
                        this.initializeDropdownSelector()
                    }
                }
            }
            c(q, [{
                key: "initializeOverlaySelector",
                value: function o() {
                    this.$languageSelector.modal();
                    this.$languageSelector.on("click", this.openOverlay.bind(this))
                }
            }, {
                key: "openOverlay",
                value: function r() {
                    var s = g("#languageSelectorOverlay");
                    s.addClass("firstState");
                    s.removeClass("modifiedState formSubmitted");
                    m.$body.removeClass("hideMain");
                    g("#js-modal-bg").removeClass("navopen");
                    s.find(".gdt-message").remove();
                    this.setupCaptcha(s)
                }
            }, {
                key: "setupCaptcha",
                value: function p(s) {
                    var t = s.find("#language-selector"),
                        w = t.find(".captchaID"),
                        v = w.prop("id"),
                        u = w.data("sitekey");
                    t.find("#recaptcha_challenge_field_holder").remove();
                    t.find("#recaptcha_response_field").remove();
                    t.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />');
                    g.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                        g("#recaptcha_image").remove();
                        g('<div id="recaptcha_image"></div>').insertBefore(g("#" + v + " .recaptcha_only_if_incorrect_sol"));
                        window.Recaptcha.create(u, v, window.RecaptchaOptions)
                    })
                }
            }, {
                key: "initializeDropdownSelector",
                value: function n() {
                    var s = this;
                    this.$languageSelector.on("click", function(u) {
                        u.preventDefault();
                        var t = g(u.delegateTarget);
                        if (!t.hasClass("active")) {
                            t.addClass("active");
                            m.$html.addClass("lang-open")
                        } else {
                            t.removeClass("active");
                            m.$html.removeClass("lang-open")
                        }
                    });
                    this.$languageSelector.find("a").on("click", function(u) {
                        u.stopPropagation();
                        var t = g(u.target);
                        if (t.attr("href")) {
                            window.location.href = t.attr("href")
                        }
                    });
                    this.$languageSelector.find('a[href="#close"]').on("click", function(t) {
                        t.preventDefault();
                        t.stopPropagation();
                        s.$languageSelector.removeClass("active");
                        m.$html.removeClass("lang-open")
                    }.bind(this))
                }
            }]);
            return q
        }();
        a.exports = new k()
    }, {
        "../global.js": 18,
        "./determineCountryCurrency.js": 19,
        "./languageSelector.js": 20
    }],
    22: [function(d, f, b) {
        var c = d("../global.js");
        var g = c.$;
        var a = function a(l, n) {
            var j = void 0;
            var k = void 0;
            if (n) {
                j = n.countryCode;
                k = n.salesCode
            } else {
                j = c.Page.defaultCountryCode;
                k = c.Page.defaultSalesCode
            }
            var m = void 0;
            var i = void 0;
            var o = document.querySelectorAll(".product-price");
            Array.prototype.forEach.call(o, function(p) {
                m = p.getAttribute("price-" + k);
                i = p.getAttribute("tax-" + k);
                if (m) {
                    p.querySelector("number").innerText = m;
                    p.classList.remove("price-notfound");
                    if (i !== "false") {
                        p.classList.add("inclusive")
                    } else {
                        p.classList.remove("inclusive")
                    }
                } else {
                    p.classList.add("price-notfound")
                }
            })
        };
        var h = function h() {
            g.pubsub("subscribe", "country-currency-determined", a)
        };
        f.exports = {
            watch: h
        }
    }, {
        "../global.js": 18
    }],
    23: [function(b, c, a) {
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var m = function m(s) {
                    var p, o, r, q = document.cookie.split(";");
                    for (p = 0; p < q.length; p++) {
                        o = h.trim(q[p].substr(0, q[p].indexOf("=")));
                        r = h.trim(q[p].substr(q[p].indexOf("=") + 1));
                        if (o === s) {
                            return r
                        }
                    }
                    return false
                };

                function j() {
                    var o = i.domain,
                        p = o.split(".").splice(-2),
                        q = p.join(".");
                    return q
                }
                var n = function n(o) {
                    if (o && o.data && (o.type === "POST" || o.type === "post")) {
                        if (o.data instanceof Object) {
                            o.data._charset_ = "UTF-8"
                        } else {
                            o.data += "&_charset_=UTF-8"
                        }
                    }
                    return h.ajax({
                        type: o.type,
                        url: o.url,
                        data: o.data,
                        options: o.options ? o.dataType : "",
                        context: h("body"),
                        success: function(p, r, q) {
                            if (typeof o.callback === "function") {
                                o.callback(p, r, q)
                            }
                        },
                        error: function(q, r, p) {
                            if (typeof o.error === "function") {
                                o.error(q, r, p)
                            }
                        }
                    })
                };
                var l = function l() {
                    return h("body").data("cq-mode") === "DISABLED"
                };
                var k = function k() {
                    var o = m("RCHMFrontEndCookie");
                    if (o) {
                        return decodeURI(f.escape(JSON.parse(f.unescape(o)).u.replace(/\+/gi, " ")))
                    }
                    return false
                };
                var d = {
                    mapIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAvVBMVEUAAADp2KXdzKLr26MAAAC9s5Tj0Z8AAADSxJ68spLIvJoWFBSyqIq3q4vdy6LZyaEGBgYIBwgGBAgJCQoNCw0iHx3i0aTPwpq6sJHGuJcUERS0qo/r2aRHQTqAfnnVxZ/Kvpu5sJHWx6IiIiK3rI2pn4ISEhLn1qTDuJnr2KUqKSlwb2mhl31OS0GblojHvJrOwJ7j0qUzMzNERERXV1caGhpqamrh0aTczaI4NS7fzqO9spPayqLSw5/AtZbT84H7AAAAHnRSTlMAhIBABYAQECAQo2X5QDpwJUExTFh6oGigjZYw7bvKeG7cAAABIklEQVR4Xs3S2VKDQBCG0RERRkBINCQm6rCTfXHfff/Hkh6GVLDoaW+s8r8+9WUqDftX8wMj8EnFhy8fafS5ix2udcHzm4Lb2YnGDW8P4Ncl6kbTFnwfIY5Pa+itihomyDuP5gDz17IsF4WEyI/PAebZIywrAOadzpdwndVbS3jWBY8BRotmnh7md81WRPG+WY5CLt8oHuot5RuvWNeuAabiCbZMAHq6/zHdCCE2sy1A5NyWukwaqxMmpwxJ/rg1BJFkG0IQSbYgBLFkC0IQm0F/4Sp5ACGoSe4hBHXJPYSgNqngmBGzFOSMmiGhw8hZEkKQTFYQgnSygr8JmvY4cmyTZucXbhwO+j1bDysXTm4modvvmWRx4LpkEahpVzPZn+8bWRhID7l4mFEAAAAASUVORK5CYII=",
                    clusterIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAwFBMVEUAAAD/79T/8dP/8NP/78//78//8dH/8dP/8dP/79P/8dL/8tL/8dL/8NP/8NL/8dP/8dPh1bvv4sYAAACblIWRi30xLyl7d3C8sp1wamD16MyIg3hCQkLAt6VmZmVqampQS0K0rJr26c2poY9KSkpcXFwzMzM6OjpgWk8qKipmYllhYWHo3MJGRkYTExMODg5OTk5TU1MKCgohISEFBQUmJiY2NjYvLy8+Pj4cHBzb0LoYGBirpZjNxK/bz7dXV1d1xdOXAAAAEHRSTlMAMN+fIBBg74BAv1DPr49wRXuCfwAAATpJREFUeNqd1NdygzAQQFEbjAUGx5fqFvde0nv//79KiGJcYF9ynu+MdnYklf6j4qQqJZljGmjKdIsT1+CQUc0nVh0IouUiDMNkGPuAVz5pygr8Zbg3bIGq5ppmeKwdQPW4CYbhqSQAZx95BMl93k+lsm3YsL4tMof6boEwuirWzQ48I0guBT41HSkmb5I2/E7lwPmLZAUNPbZ/J2vp0Wu0HmQxho7ilawNaWQQPcnWOlJEc9lfVCN6lGXRZCGLUXrhn8+ykV65C9Nz0RY7jSzoXkjaoC+xyXYqaeFlVyW+Ltbc32CTTv+myMzHy56Twt98FejpiTQH/P4sp3f8XKrgNzfHBh9g7hNddUaD/oGoA/bpEzag0+sOtOZ7AMrNfwa2AsavqTGAaZUKWA2PHcOW/yjLsVOuWMi+AW6tfH02ALYoAAAAAElFTkSuQmCC",
                    mapMobIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAApCAMAAAAcesn/AAAALVBMVEUAAAALCwsVFRUuLi45OTk7OzsuLi4+Pj4BAAD98NIHBgaon4vj17w4NSxfW06leJxAAAAACHRSTlMA88N9XDKmIv9G4e4AAADQSURBVHjajZPbDoMwDEPTG2QG9v+fO9HhrJX7sCOeOHJiImGk5gR3pFxtpiQPUhnEnn0i7zSNkSC1MJgN6LIvyL0BVgp3l2ERMKwzqxyP6zjP4wIX19+m96vz5oQc867XwxUTGTqoDr4JdVKd/6v1QK1BBSn/gOGC308Ok626HIrXsMH0h/C8SjLeV6jGmIZuykoV60AN7MumantUg4SaMaahALqJtFk1G4CGSHWE8GoTm3YIoONIoSomJPRMMmX3zm4LcvxXCthBKdFBwRT6AFvPF2lfkYx9AAAAAElFTkSuQmCC",
                    clusterMobIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAMFBMVEUAAAD/8NP/8dP/8dP/8dP/8tP/8dMBAQL/8dNgW1AmJCDKv6dwal1APDSYkH5mYVW4jGWVAAAAB3RSTlMAHbzSmGtSQyoE5gAAAMhJREFUeNqNlFEOwyAMQwsJxUBZ73/bNaiTgK3M/qyebBdItl4uqBdAvAbXf+8Jj07+F7cLJsk+2yhMJdUcY66pwKRuYFpSip1Sy3QdI+aS46BsbuIGnyN+6ei9tI+aI/X+r9Fn9to/hV7xQa+7VgAQHwUgXJAHzmcoAf5Ka0ZLK2dpZQUVy1MgraATUKtUV1C1UgLkFZQB2VrvP80piIqjilNHQB0mdy1WKq0vmHoq1KNjni8zCNRIMcPJjDmzMLjVwy8xah2+AamCHXOpwq7bAAAAAElFTkSuQmCC"
                };
                return {
                    checkCookie: m,
                    getNameFromCookie: k,
                    ajaxCall: n,
                    google: d,
                    noWCM: l(),
                    getCookieDomain: j
                }
            };
            f.gdt.Utils = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var i = function() {
                var E = f.navigator.appVersion,
                    y = g("body"),
                    A, m, o, r, d, t = {};

                function w() {
                    var F = false;
                    if ((g.os && g.os.phone) || (/android/i.test(E) && /mobile/i.test(E))) {
                        F = true
                    }
                    return F
                }

                function D() {
                    var F = /android 2/i.test(E);
                    if (F) {
                        y.addClass("oldDroid")
                    }
                    return F
                }

                function u() {
                    A = /iPad/i.test(navigator.userAgent);
                    if (A) {
                        y.addClass("ipad")
                    }
                    return A
                }

                function n() {
                    var F = false;
                    if (g("html").is(".ie6, .ie7, .ie8, .ie9")) {
                        F = true
                    }
                    return F
                }

                function s() {
                    return g("html").is(".ie6, .ie7, .ie8")
                }

                function x() {
                    m = /msie/i.test(navigator.userAgent);
                    if (m) {
                        y.addClass("isIE")
                    }
                    return m
                }

                function p() {
                    var F = !!navigator.userAgent.match(/Trident.*rv[ :]*11\./);
                    if (F) {
                        y.addClass("isIE")
                    }
                    return F
                }

                function l() {
                    return g.os && (g.os.phone || g.os.ipod) && g.os.ios && parseInt(g.os.version, 10) > 6
                }

                function k() {
                    var F = g.os && g.os.ios && parseInt(g.os.version, 10) === 6;
                    if (F) {
                        y.addClass("iOS6")
                    }
                    return F
                }

                function j() {
                    var F = /iPhone OS 7|iPad.*OS 7/.test(navigator.appVersion);
                    if (F) {
                        g("html").addClass("iOS7")
                    }
                    return F
                }

                function C() {
                    var F = screen.height,
                        G = screen.width;
                    if (/Android/.test(E) >= 0 && ((G === 1280 && F === 800) || (G === 800 && F === 1280) || (G === 1024 && F === 600) || (G === 600 && F === 1024))) {
                        o = true;
                        y.addClass("galaxy")
                    }
                }

                function v() {
                    var F = navigator.userAgent || "",
                        G = ((F.indexOf("Mozilla/5.0") > -1 && F.indexOf("Android ") > -1 && F.indexOf("AppleWebKit") > -1) && (F.indexOf("Chrome") === -1));
                    if (G) {
                        y.addClass("android-native")
                    }
                }

                function B() {
                    r = (window.matchMedia) ? window.matchMedia("only screen and (max-width: 668px)").matches : false;
                    t.isMobileLayout = r
                }

                function z() {
                    return ((window.matchMedia && (window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches || window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)) || (window.devicePixelRatio && window.devicePixelRatio > 1.3))
                }

                function q() {
                    var F = (function(G) {
                        if (typeof G.MozTransform === "string") {
                            return true
                        }
                        if (typeof G.OTransform === "string") {
                            return true
                        }
                        if (typeof G.WebkitTransform === "string") {
                            return true
                        }
                        if ((typeof G.msTransform === "string" || typeof G.MsTransform === "string") && !/MSIE 9/.test(navigator.appVersion)) {
                            return true
                        }
                        if (typeof G.transform === "string") {
                            return true
                        }
                        return false
                    }((((document || {}).body || {}).style || {})));
                    return F
                }
                if (f.addEventListener) {
                    f.addEventListener("orientationchange", function() {
                        if (f.orientation === 0) {
                            C();
                            B()
                        }
                    }, false);
                    f.addEventListener("resize", function() {
                        clearTimeout(d);
                        d = setTimeout(B, 10)
                    }, false)
                }
                C();
                v();
                B();
                t = {
                    isMobile: w(),
                    oldDroid: D(),
                    isOldIE: n(),
                    isiPad: u(),
                    isGalaxy: o,
                    isiOS7iPhone: l(),
                    isiOS6: k(),
                    isIE8: s(),
                    isIE: x(),
                    isiOS7: j(),
                    isIE11: p(),
                    isHighDPR: z(),
                    isMobileLayout: r,
                    hasTransforms: q()
                };
                return t
            };
            f.gdt.Utils.Browser = new i()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, g) {
            g.gdt = g.gdt || {};
            g.gdt.Utils = g.gdt.Utils || {};
            var f = function() {
                function i(k) {
                    if (g.console && g.console.log) {
                        g.console.log(k)
                    }
                }

                function j(k) {
                    if (g.console && g.console.warn) {
                        g.console.warn(k)
                    }
                }

                function d(k) {
                    if (g.console && g.console.error) {
                        g.console.error(k)
                    }
                }
                return {
                    log: i,
                    warn: j,
                    error: d
                }
            };
            g.gdt.Utils.Console = new f()
        }(document, window));
        (function(h, f) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            f.gdt.Utils.Objects = f.gdt.Utils.Objects || {};

            function g(m, d) {
                var l = d.split("."),
                    j = m,
                    k;
                for (k = 0; k < l.length; k++) {
                    if (j[l[k]] !== undefined) {
                        j = j[l[k]]
                    } else {
                        j = undefined;
                        break
                    }
                }
                return j
            }
            f.gdt.Utils.Objects.getPropByPathStr = g
        }(document, window));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var g = function() {
                var n = function(r) {
                    var o = r.find('[type="text/x-tmpl"]'),
                        u = h.trim(o.html()),
                        q, t, p, s;
                    q = h(u);
                    t = m(q);
                    if (f.matchMedia && !h(".ie8").length) {
                        for (p = 0; p < t.length; p++) {
                            if (f.matchMedia(t[p].media).matches) {
                                s = f.gdt.Utils.Browser.isHighDPR ? "2x" : "1x";
                                return j(t[p].srcset, s)
                            }
                        }
                    } else {
                        return j(t[0].srcset, "1x")
                    }
                };

                function l(p, o) {
                    this.src = p;
                    this.dpr = o
                }

                function k(o, p) {
                    this.srcset = o;
                    this.media = p
                }

                function d(p, o) {
                    if (p.media > o.media) {
                        return -1
                    }
                    if (p.media < o.media) {
                        return 1
                    }
                    return 0
                }

                function m(o) {
                    var p = [];
                    o.find("[srcset]").each(function() {
                        var u = h(this),
                            s = u.attr("srcset").split(","),
                            r, t = [],
                            q, v;
                        for (q = 0; q < s.length; q++) {
                            s[q] = h.trim(s[q]);
                            v = new l(h.trim(s[q].split(" ")[0]), h.trim(s[q].split(" ")[1]));
                            t.push(v)
                        }
                        r = new k(t, u.attr("media") || "(min-width: 0px)");
                        p.push(r)
                    });
                    return p.sort(d)
                }

                function j(p, q) {
                    for (var o = 0; o < p.length; o++) {
                        if (q === p[o].dpr) {
                            return p[o].src
                        }
                    }
                }
                return {
                    getImgSrcFromTemplate: n
                }
            };
            f.gdt.Utils.Picture = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, g) {
            g.gdt = g.gdt || {};
            g.gdt.Utils = g.gdt.Utils || {};
            var f = function() {
                var d = {
                    modal: {
                        open: "open modal",
                        close: "close modal",
                        opening: "modal opening",
                        closing: "modal closing",
                        productGallery: {
                            opening: "open product gallery",
                            closing: "close product gallery"
                        },
                        verticalGallery: {
                            opening: "open vertical gallery",
                            closing: "close vertical gallery"
                        },
                        basketError: {
                            open: "open basket error",
                            close: "close basket error"
                        },
                        ipDetectionPopup: {
                            open: "open ip warning",
                            close: "close ip warning"
                        },
                        ipCountryDetectionPopup: {
                            open: "open ip warning",
                            close: "close ip warning"
                        },
                        redirectionToEcomPopup: {
                            open: "open ip redirection",
                            close: "close ip redirection"
                        },
                        loginOverlay: {
                            open: "open login overlay",
                            close: "close login overlay"
                        },
                        homeVideo: {
                            open: "open Home Video",
                            close: "close Home Video"
                        },
                        comparatorwishlist: {
                            open: "open overlay msg",
                            close: "close overlay msg"
                        }
                    },
                    shade: {
                        open: "open shade",
                        close: "close shade",
                        opening: "shade opening",
                        closing: "shade closing",
                    },
                    paginatedList: {
                        reinitialise: "refresh results",
                        dealerList: {
                            navigate: "navigate pagination",
                        }
                    },
                    commerceContentJSON: "commerce content JSON loaded",
                    wishlistUpdated: "wishlist updated",
                    basketUpdated: "basket updated",
                    basketError: "basket error",
                    loginOverlay: "login overlay",
                    accordionContentUpdated: "accordion updated",
                    ipDetectionPopup: "IP Detection Popup",
                    ipCountryDetectionPopup: "IP Country Detection Popup",
                    redirectionToEcomPopup: "redirection to ecom pop up",
                    productGallery: "Open Product Gallery",
                    homeVideo: "Open Home Video",
                    checkCountry: "check country",
                    mapApiLoaded: "Maps API Loaded",
                    mapApiNotLoaded: "Maps API Not Loaded",
                    cnMapApiLoaded: "CN Maps API Loaded",
                    createCaptchaOnPage: "Create captcha now",
                    languageSelectorPopupClose: "Close Language Selector",
                    boutiqueTabClicked: "Boutique Tab Clicked",
                    shippingTabClicked: "Shipping Tab Clicked",
                    catalogueMsgClosed: "catalogue Msg Closed",
                    baiduMaps: "Load Baidu Maps",
                    tabClicked: "tab clicked",
                    wishlistTabUpdated: "wishlistTabUpdated",
                    compareTabUpdated: "compareTabUpdated",
                    comparatorwishlist: "comparatorwishlist",
                    myAccountTabLoad: "myAccountTabLoad",
                    resetForm: "Reset Form"
                };
                return {
                    UI_EVENTS: d
                }
            };
            g.gdt.Utils.PubSub = new f()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};

            function g() {
                var m = f.location.search.substr(1),
                    l = m.split("&"),
                    d = {},
                    k, j;
                for (j = 0; j < l.length; j++) {
                    k = l[j].split("=");
                    d[k[0]] = k[1]
                }
                return d
            }
            f.gdt.Utils.queryParams = g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};

            function g() {
                var j;
                if (h(".ie8").length || h(".ie9").length) {
                    var l = h('<textarea cols="10" rows="2"></textarea>').css({
                            position: "absolute",
                            top: -1000,
                            left: -1000
                        }).appendTo("body"),
                        k = h('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({
                            position: "absolute",
                            top: -1000,
                            left: -1000
                        }).appendTo("body");
                    j = l.width() - k.width();
                    l.add(k).remove()
                } else {
                    var d = h("<div />").css({
                        width: 100,
                        height: 100,
                        overflow: "auto",
                        position: "absolute",
                        top: -1000,
                        left: -1000
                    }).prependTo("body").append("<div />").find("div").css({
                        width: "100%",
                        height: 200
                    });
                    j = 100 - d.width();
                    d.parent().remove()
                }
                return j
            }
            f.gdt.Utils.scrollWidth = g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var g = function() {
                function d(k) {
                    if (!k) {
                        f.gdt.Utils.Console.warn("No template options");
                        return
                    }
                    var m = k.data,
                        l = k.template,
                        j;
                    l = l.replace(/\{\{(.+?)\}\}/g, function(p, o) {
                        var n = f.gdt.Utils.Objects.getPropByPathStr(m, o);
                        return n !== undefined ? n : o + "-is-undefined"
                    });
                    j = h(l);
                    return j
                }
                return {
                    render: d
                }
            };
            f.gdt.Utils.Template = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, g, h) {
            g.gdt = g.gdt || {};
            g.gdt.Tracking = g.gdt.Tracking || {};
            var f = function() {
                var o = (typeof g.ontouchstart === "undefined") ? "click" : "touchend",
                    I, m = g.gdt.trackingObject || {},
                    ae, ap, D, R, s, z = [],
                    ak, X = h(g).height(),
                    L, ao, ab, p, d, ad = h("body"),
                    K, ar, aj = g.gdt.Utils.noWCM,
                    J = g.dataLayer || [],
                    v = g.gdt.Utils.PubSub.UI_EVENTS;

                function F(az) {
                    return {
                        "25%": parseInt(az * 0.25, 10),
                        "50%": parseInt(az * 0.5, 10),
                        "75%": parseInt(az * 0.75, 10),
                        "100%": az - 5
                    }
                }

                function C(aA, az, aB) {
                    if (az[aA]) {
                        aB[aA] = az[aA]
                    }
                    return aB
                }

                function U(az, aD) {
                    var aC = {},
                        aA = {};
                    for (var aB = 0; aB < az.length; aB++) {
                        aC = C(az[aB], aD, aA)
                    }
                    return aC
                }

                function av() {
                    var aB = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop,
                        az = aB,
                        aA = F(X);
                    h.each(aA, function(aC, aD) {
                        if (h.inArray(aC, z) === -1 && az >= aD) {
                            m.event = "scrollLevel";
                            m.scrollLevel = aC;
                            m = U(["event", "scrollLevel"], m);
                            z.push(aC);
                            g.gdt.Utils.Console.log(m);
                            J.push(m)
                        }
                    })
                }

                function q(aB) {
                    if (aB) {
                        var aA = aB.indexOf("uid"),
                            az = aB.slice(aA, aB.length);
                        return az.replace("uid", "")
                    }
                }

                function at(az) {
                    az = az.replace(/(?:_| |\b)(\w)/g, function(aB, aA) {
                        return aA.toUpperCase()
                    });
                    az = az.charAt(0).toLowerCase() + az.slice(1).replace("-", "");
                    return az
                }

                function G(az) {
                    return az
                }

                function ay(aA) {
                    if (aA) {
                        for (var az in aA) {
                            if ((aA[az] === null || aA[az] === undefined) || (aA[az] && aA[az].length === 0) || (typeof aA[az] === "object" && aA[az].length === 0) || (typeof aA[az] === "object" && h.map(aA[az], G).length === 0)) {
                                delete aA[az]
                            }
                        }
                    }
                }

                function k(aB) {
                    var aA = [];
                    for (var az = aB.length - 1; az >= 0; az--) {
                        aA.push(h(aB[az]).find("h1").text())
                    }
                    return aA.reverse().toString()
                }

                function an(aD) {
                    aD = h(aD);
                    if (aD.length === 0) {
                        return
                    }
                    I = aD.data("trackable-cache") ? aD.data("trackable-cache") : aD.data("trackable") ? aD.data("trackable") : false;
                    ae = aD.data("tracking-event") ? aD.data("tracking-event") : aD[0].event ? aD[0].event : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.event : "";
                    ap = aD.data("tracking-label") ? aD.data("tracking-label") : aD[0].label ? aD[0].label : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.label : "";
                    m.category = aD.data("tracking-category") ? aD.data("tracking-category") : aD[0].category ? aD[0].category : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.category : "";
                    m.productCategory = aD.data("tracking-productcategory") ? aD.data("tracking-productcategory") : aD[0].productCategory ? aD[0].productCategory : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productCategory : "";
                    m.productCollection = aD.data("tracking-productcollection") ? aD.data("tracking-productcollection") : aD[0].productCollection ? aD[0].productCollection : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productCollection : "";
                    m.productSKU = aD.data("tracking-productsku") ? aD.data("tracking-productsku") : aD[0].productSKU ? aD[0].productSKU : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productSKU : "";
                    m.productName = aD.data("tracking-productname") ? aD.data("tracking-productname") : aD[0].productName ? aD[0].productName : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productName : "";
                    m.refillSKU = aD.data("tracking-refillsku") ? aD.data("tracking-refillsku") : aD[0].refillSKU ? aD[0].refillSKU : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.refillSKU : "";
                    m.shoppingBagValue = aD.data("tracking-shoppingbagvalue") ? aD.data("tracking-shoppingbagvalue") : aD[0].shoppingBagValue ? aD[0].shoppingBagValue : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.shoppingBagValue : "";
                    m.productAvailability = aD.data("tracking-productavailability") ? aD.data("tracking-productavailability") : aD[0].productAvailability ? aD[0].productAvailability : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productAvailability : "false";
                    m.siteSearchTerm = D ? D : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.siteSearchTerm : "";
                    m.siteSearchResults = R ? R : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.siteSearchResults : "";
                    m.page = aD.data("tracking-page") ? aD.data("tracking-page") : g.gdt.Tracking.trackingObject.page ? g.gdt.Tracking.trackingObject.page : document.location.pathname;
                    m.productEvent = g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.productEvent : "";
                    m.visitorStatus = g.gdt.Utils.checkCookie("RCHMFrontEndCookie") ? "loggedin" : "guest";
                    m.pageCategory = g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.pageCategory : "";
                    m.language = g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.trackingLanguage : "";
                    m.market = g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.trackingMarket : "";
                    m.summaryPaymentMethod = g.gdt.Tracking.trackingObject.summaryPaymentMethod ? g.gdt.Tracking.trackingObject.summaryPaymentMethod : {};
                    m.searchLink = aD.data("tracking-kw") ? aD.data("tracking-kw") : aD[0].kw ? aD[0].kw : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.kw : "";
                    m.additionalFooterLink = aD.data("tracking-additionalfooterlink") ? aD.data("tracking-additionalfooterlink") : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.additionalFooterLink : "";
                    m.bannerTheme = aD.data("tracking-theme") ? aD.data("tracking-theme") : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.bannerTheme : "";
                    m.bannerPosition = aD.data("tracking-position") ? aD.data("tracking-position") : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.bannerPosition : "";
                    m.Product_subsection = aD.data("tracking-Product_subsection") ? aD.data("tracking-Product_subsection") : aD[0].Product_subsection ? aD[0].Product_subsection : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.Product_subsection : "";
                    m.Product_type = aD.data("tracking-Product_type") ? aD.data("tracking-Product_type") : aD[0].Product_type ? aD[0].Product_type : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.Product_type : "";
                    m.view = aD.data("tracking-view") ? aD.data("tracking-view") : aD[0].view ? aD[0].view : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.view : "";
                    m.itemlookup = aD.data("tracking-itemlookup") ? aD.data("tracking-itemlookup") : aD[0].itemlookup ? aD[0].itemlookup : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.itemlookup : "";
                    m.item = aD.data("tracking-item") ? aD.data("tracking-item") : aD[0].item ? aD[0].item : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.item : "";
                    m.applatform = aD.data("tracking-applatform") ? aD.data("tracking-applatform") : aD[0].applatform ? aD[0].applatform : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.applatform : "";
                    m.socialNetwork = aD.data("tracking-socialnetwork") ? aD.data("tracking-socialnetwork") : aD[0].socialnetwork ? aD[0].socialnetwork : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.socialnetwork : "";
                    m.socialAction = aD.data("tracking-socialaction") ? aD.data("tracking-socialaction") : aD[0].socialaction ? aD[0].socialaction : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.socialaction : "";
                    m.socialTarget = aD.data("tracking-socialtarget") ? aD.data("tracking-socialtarget") : aD[0].socialtarget ? aD[0].socialtarget : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.socialtarget : "";
                    m.website = aD.data("tracking-website") ? aD.data("tracking-website") : aD[0].website ? aD[0].website : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.website : "";
                    m.download_type = aD.data("tracking-downloadtype") ? aD.data("tracking-downloadtype") : aD[0].downloadtype ? aD[0].downloadtype : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.downloadtype : "";
                    m.boutique = aD.data("tracking-boutique") ? aD.data("tracking-boutique") : aD[0].boutique ? aD[0].boutique : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.boutique : "";
                    m.section = aD.data("tracking-section") ? aD.data("tracking-section") : aD[0].section ? aD[0].section : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.section : "";
                    m.boutique = aD.data("tracking-boutique") ? aD.data("tracking-boutique") : aD[0].boutique ? aD[0].boutique : g.gdt.Tracking.trackingObject ? g.gdt.Tracking.trackingObject.boutique : "";
                    m.boutiqueId = aD.data("tracking-boutiqueId") ? aD.data("tracking-boutiqueId") : "";
                    m.boutiqueCity = aD.data("tracking-boutiqueCity") ? aD.data("tracking-boutiqueCity") : "";
                    m.boutiqueName = aD.data("tracking-boutiqueName") ? aD.data("tracking-boutiqueName") : "";
                    m.from = aD.data("tracking-from") ? aD.data("tracking-from") : "";
                    K = g.gdt.Tracking.transactionTrackingObject ? g.gdt.Tracking.transactionTrackingObject : {};
                    s = g.gdt.Tracking.trackingObject.errorType ? g.gdt.Tracking.trackingObject.errorType : "";
                    L = h("input[name=termsAndCondition]") || "";
                    ao = aD.data("tracking-newsletter") ? aD.data("tracking-newsletter") : h("input[name=newsletter]").attr("checked") ? "true" : "false";
                    ab = h("select[name=country]").val() || "";
                    d = h("select[id=globalcountry]").val() || "";
                    p = h("select[name=topic]").val() || "";
                    ar = h("select[name=messageCard_0]").val();
                    ay(m);
                    if (ae && ae.length > 0) {
                        ae = at(ae);
                        m.event = ae
                    }
                    if (ap && ap.length > 0) {
                        m.label = ap
                    }
                    if (m && m.page && m.page.indexOf("home.html") !== -1) {
                        h(g).on("scroll", av)
                    }
                    if (ae && ae.indexOf("homepageBannerClicked") !== -1) {
                        m = U(["event", "bannerTheme", "bannerPosition"], m)
                    }
                    if (ae && (ae === "loggedIn" || ae === "showCollectionsHeader" || ae === "discoverHeader" || ae === "findMontblancHeader" || ae === "myMontblanc" || ae === "proceedToCheckout" || ae === "logIn" || ae === "zoom" || ae === "allDetails" || ae === "productCare" || ae === "callAConcierge" || ae === "continueShopping" || ae === "signUp" && document.location.pathname.indexOf("account/register/confirmation") === -1 || ae === "contactFooter" || ae === "corporateGiftShopFooter" || ae === "corporateGiftShopFooter" || ae === "customServicesFooter" || ae === "termsAndLegalFooter" || ae === "montblancAppsFooter" || ae === "signUpFromWishlist" || ae === "logInFromWishlist")) {
                        m = U(["event"], m)
                    }
                    if (ae && ae === "socialShareProductPage") {
                        m = U(["event", "label"], m)
                    }
                    if (ae && ae === "socialShareProductPage" && ap && ap === "print") {
                        m.event = "printProduct";
                        m = U(["event"], m)
                    }
                    if (ae && ae === "bookmarkArticleFromPrivateSection") {
                        var aJ = m.page,
                            aL = aJ.lastIndexOf("/"),
                            aG = aJ.lastIndexOf(".");
                        aJ = aJ.slice(aL + 1, aG);
                        m.articleTitle = aJ;
                        m = U(["event", "articleTitle"], m)
                    }
                    if (ae && ae === "collectionClicked") {
                        m.category = m.productCategory;
                        m.collection = m.productCollection;
                        m = U(["event", "category", "collection"], m)
                    }
                    if (ae && ae === "logInWithSocial") {
                        if (document.location.href.indexOf("reservation.get-reservations") !== -1) {
                            m.event = "virtualPageview";
                            m.page = "checkout/loginwithsocialnetwork/" + ap;
                            m = U(["event", "page"], m)
                        } else {
                            m = U(["event", "label"], m)
                        }
                    }
                    if (m.page && m.page.indexOf("account/newsletter-register") !== -1 && s && s.length > 0) {
                        m.event = "submitNewsletterWithError";
                        m.errorType = s;
                        m = U(["event", "errorType"], m)
                    }
                    if (m.page && m.page.indexOf("newsletter-register/confirmation") !== -1) {
                        if (m.page.indexOf("success") !== -1) {
                            m.page = m.page + "/newslettersubscriptionvalidated";
                            m = U(["page"], m)
                        } else {
                            m.page = m.page + "/newslettercompleted";
                            m.event = "newsletterSubscribed";
                            m = U(["event", "page"], m)
                        }
                    }
                    if (ae && ae === "signUp" || m.page && m.page.indexOf("account/register") !== -1) {
                        if (s && s.length > 0) {
                            m.event = "createAnAccountError";
                            m.errorType = s;
                            m = U(["event", "errorType"], m)
                        } else {
                            if (document.location.pathname.indexOf("confirmation") !== -1) {
                                var aP = g.gdt.Utils.checkCookie("registerFormObj");
                                if (aP) {
                                    m = JSON.parse(decodeURIComponent(aP));
                                    al("registerFormObj")
                                }
                            }
                        }
                    }
                    if (ae && ae === "additionalFooterLinkClicked") {
                        m = U(["event", "additionalFooterLink"], m)
                    }
                    if (ae && ae === "newsletterform") {
                        m.page = m.page + "/newsletterform";
                        m = U(["page"], m)
                    }
                    if (ae && (ae && ae === "addToWishlistProductPage" || ae === "removeFromWishlistProductPage") && m.page && m.page.indexOf("refill") === -1) {
                        if (m && m.pageCategory && m.pageCategory.indexOf("Homepage") !== -1 && ae === "addToWishlistProductPage") {
                            m.event = "addToWishlistHomePage";
                            m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                        } else {
                            if (m && m.pageCategory && m.pageCategory.indexOf("Homepage") !== -1 && ae === "removeFromWishlistProductPage") {
                                m.event = "removeWishlistHomePage";
                                m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                            } else {
                                if (m && m.pageCategory && m.pageCategory.indexOf("Catalogue page") !== -1 && ae === "addToWishlistProductPage") {
                                    m.event = "addToWishlistCataPage";
                                    m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                                } else {
                                    if (m && m.pageCategory && m.pageCategory.indexOf("Catalogue page") !== -1 && ae === "removeFromWishlistProductPage") {
                                        m.event = "removeWishlistCataPage";
                                        m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                                    } else {
                                        m = U(["event"], m)
                                    }
                                }
                            }
                        }
                    }
                    if (m && m.searchLink && ae === "searchResult") {
                        m = U(["siteSearchTerm"], m)
                    }
                    if (ae && ae === "nibSelected") {
                        m = U(["event", "nibSelected"], m)
                    }
                    if (ae && ae === "boutiqueSearch" && document.location.pathname.indexOf("zh-cn/boutique") !== -1) {
                        m = U(["event", "citySelected"], m)
                    }
                    if (ae && ae === "boutiqueResultClicked" && document.location.pathname.indexOf("zh-cn/boutique") !== -1) {
                        m = U(["event", "citySelected", "boutiqueName"], m)
                    }
                    if (ae && ae === "addToBagProductPage" && ae && ae !== "productClickedOnCollectionOrCataloguePage") {
                        m.label = m.pageCategory + "-" + m.productCollection + "-" + m.productSKU;
                        if (m && m.pageCategory && m.pageCategory === "Homepage") {
                            m.event = "addToBagHomePage"
                        } else {
                            if (m && m.pageCategory && m.pageCategory.indexOf("Catalogue page") !== -1) {
                                m.event = "addToBagCatePage"
                            }
                        }
                        if (m.refillSKU && m.refillSKU.length > 0) {
                            m.event = "addToBagRefill";
                            m.refillSKU = m.refillSKU ? m.refillSKU : m.productSKU;
                            m = U(["event", "label", "productCategory", "productCollection", "productSKU", "refillSKU", "shoppingBagValue"], m)
                        } else {
                            m = U(["event", "label", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                        }
                    }
                    if (ae && ae === "productClickedOnCollectionOrCataloguePage") {
                        m.productAvailability = m.productAvailability ? m.productAvailability : "false";
                        m = U(["event", "productCategory", "productCollection", "productSKU", "productAvailability"], m)
                    }
                    if (m && m.pageCategory && m.pageCategory === "productPage" && (ae && ae.indexOf("addToBagProductPage") === -1 && ae.indexOf("countrySelectorFooter") === -1)) {
                        if (ae && ae === "findRefills" || ae === "findABoutique") {
                            m.event = ae;
                            m = U(["event", "productCategory", "productCollection", "productSKU"], m)
                        } else {
                            m.label = m.pageCategory + "-" + m.productCollection + "-" + m.productSKU;
                            m = U(["label", "pageCategory", "productCollection", "productSKU"], m)
                        }
                    }
                    if (ae && ae === "addToBagFromWishlist" || ae === "addToWishlistFromBag" && m.page && m.page.indexOf("refill") === -1) {
                        if (m && m.pageCategory && m.pageCategory === "Homepage") {
                            m.event = "addToWishlistHomePage"
                        } else {
                            if (m && m.pageCategory && m.pageCategory.indexOf("Catalogue page") !== -1) {
                                m.event = "addToWishlistCataPage"
                            }
                        }
                        m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                    }
                    if (ae && ae === "buyRefillsNow" || ae === "confirmEngraving") {
                        m.event = ae;
                        m = U(["event", "productCategory", "productCollection", "productSKU"], m)
                    }
                    if (ae && ae === "removeFromShoppingBag" || ae === "removeFromWishlist") {
                        m = U(["event", "productCategory", "productCollection", "productSKU", "shoppingBagValue"], m)
                    }
                    if (ae && ae === "addToBagRefill") {
                        m.refillSKU = m.refillSKU ? m.refillSKU : m.productSKU
                    }
                    if (D && R) {
                        m = U(["siteSearchTerm", "siteSearchResults"], m)
                    }
                    if (ae && ae === "virtualPageview") {
                        m = U(["event", "page"], m)
                    }
                    if (ae && ae === "virtualPageview" && m.page && m.page.indexOf("shopping/checkout") !== -1 && m.page.indexOf("payment.html") === -1) {
                        m.event = "virtualPageview";
                        m.page = m.page.replace(".html", "") + "/pickfromprofile";
                        m = U(["event", "page"], m)
                    }
                    if (m && m.page && m.page.indexOf("billing-shipping.html") !== -1 && h("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val() !== undefined && h("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val().length === 0) {
                        m.page = m.page + "/homedelivery"
                    } else {
                        if (m && m.page && m.page.indexOf("billing-shipping.html") !== -1 && h("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val() !== undefined && h("#submitBoutique").find('input[name="shipping.deliveryBoutiqueCode"]').val().length) {
                            m.page = m.page + "/boutiquepickup"
                        }
                    }
                    if (h("#orderReviewBTQP").length && m && m.page && m.page.indexOf("order-review.html") !== -1) {
                        m.page = m.page + "/boutiquepickup";
                        m.boutiqueId = document.getElementById("trackingOrderReviewBTQPId").value;
                        m.boutiqueCity = document.getElementById("trackingOrderReviewBTQPCity").value;
                        m.boutiqueName = document.getElementById("trackingOrderReviewBTQPName").value
                    } else {
                        if (!h("#orderReviewBTQP").length && m && m.page && m.page.indexOf("order-review.html") !== -1) {
                            m.page = m.page + "/homedelivery"
                        }
                    }
                    if (h("#orderReviewBTQP").length && m && m.page && h("#creditCard").is(":checked") && m.page.indexOf("payment.html") !== -1) {
                        m.page = m.page + "/boutiquepickup"
                    } else {
                        if (!h("#orderReviewBTQP").length && m && m.page && h("#creditCard").is(":checked") && m.page.indexOf("payment.html") !== -1) {
                            m.page = m.page + "/homedelivery"
                        }
                    }
                    if (ae && ae === "countrySelectorFooter" || ae === "socialShareFooter" || ae === "socialWishlist") {
                        m = U(["event", "label"], m)
                    }
                    if (m && m.page && m.page.indexOf("/register/confirmation/success") !== -1) {
                        m.page = m.page + "/accountcreationconfirmed";
                        m = U(["page"], m)
                    }
                    if (m && m.pageCategory && m.pageCategory === "Checkout") {
                        m.page = g.gdt.Utils.checkCookie("RCHMFrontEndCookie") ? document.location.pathname + "/checkout/billingandshippinginformation/loggedin" : document.location.pathname + "/checkout/billingandshippinginformation/guest"
                    }
                    if (m && m.page && m.page.indexOf("/checkout/paymentmethod/") >= 0) {
                        m.page = m.page + m.visitorStatus;
                        m = U(["page"], m)
                    }
                    if (h("#orderReviewBTQP").length && K && K && ae !== "virtualPageview" && K.transactionId) {
                        var aI = m.visitorStatus;
                        m = K;
                        m.visitorStatus = aI;
                        m.page = document.location.pathname + "/boutiquepickup";
                        m = U(["country", "transactionCurrency", "transactionId", "transactionPaymentMethod", "transactionProducts", "transactionShipping", "transactionTax", "transactionTotal", "visitorStatus", "messageSelected", "page"], m)
                    } else {
                        if (!h("#orderReviewBTQP").length && K && K && ae !== "virtualPageview" && K.transactionId) {
                            var aI = m.visitorStatus;
                            m = K;
                            m.visitorStatus = aI;
                            m.page = document.location.pathname + "/homedelivery";
                            m = U(["country", "transactionCurrency", "transactionId", "transactionPaymentMethod", "transactionProducts", "transactionShipping", "transactionTax", "transactionTotal", "visitorStatus", "messageSelected", "page"], m)
                        }
                    }
                    if (m && m.transactionId && m.visitorStatus === "guest" && s && s.length > 0) {
                        m.event = "createAnAccountErrorAfterCheckOut";
                        m.errorType = s;
                        m = U(["event", "errorType"], m)
                    }
                    if (m && m.page && m.page.indexOf("shopping/guest/order-confirmation/confirmation") !== -1) {
                        var aN = g.gdt.Utils.checkCookie("registerFormObj");
                        if (aN) {
                            m = JSON.parse(decodeURIComponent(aN));
                            m.accountCreationAfterCheckOut = m.accountCreation ? "true" : "false";
                            m = U(["accountCreationAfterCheckOut", "newsletterSubscription"], m);
                            al("registerFormObj")
                        } else {
                            if (m.page.indexOf("success") !== -1) {
                                m.page = m.page + "/accountcreationconfirmedafterguestcheckout";
                                m = U(["page"], m)
                            } else {
                                m.accountCreationAfterCheckOut = m.accountCreation ? "true" : "false";
                                m = U(["accountCreationAfterCheckOut", "newsletterSubscription"], m)
                            }
                        }
                    }
                    if (m && m.summaryPaymentMethod) {
                        U(["summaryPaymentMethod", "page"], m)
                    }
                    if (m && m.page && m.page.indexOf("checkout-login") !== -1 && ae !== "logInWithSocial") {
                        m.page = g.gdt.Utils.checkCookie("RCHMFrontEndCookie") ? m.page + "/checkout/selection/loggedin" : m.page + "/checkout/selection/guest";
                        m = U(["page"], m)
                    }
                    if (m && m.pageCategory && m.pageCategory.indexOf("Contact page") !== -1 && L.attr("checked")) {
                        m.contactConfirmation = L.attr("checked") ? "true" : "false";
                        m.newsletterSubscription = ao;
                        m.countryContact = ab;
                        m.topic = p;
                        m.selectedShop = k(h(".country_" + d));
                        m = U(["contactConfirmation", "newsletterSubscription", "countryContact", "topic", "selectedShop"], m)
                    }
                    if (ae && ae !== "boutiqueSearch" && ae !== "boutiqueResultClicked" && ae !== "confirmEngraving" && ae !== "addToBagProductPage" && !I && ae !== "signUp" && ae !== "createAnAccountError" && m && m.page && m.page.indexOf("checkout-login") !== -1) {
                        if (g.gdt.Utils.checkCookie("RCHMFrontEndCookie").length > 0) {
                            m.userId = q(g.gdt.Utils.checkCookie("RCHMFrontEndCookie"));
                            m.visitorStatus = g.gdt.Utils.checkCookie("RCHMFrontEndCookie") ? "loggedin" : "guest";
                            if (m.pageCategory && m.pageCategory.length > 0) {
                                m.pageCategory = m.pageCategory
                            }
                        } else {
                            if (m && ae !== "loggedIn") {
                                m.visitorStatus = g.gdt.Utils.checkCookie("RCHMFrontEndCookie") ? "loggedin" : "guest";
                                if (m.pageCategory && m.pageCategory.length > 0) {
                                    m.pageCategory = m.pageCategory
                                }
                            }
                        }
                        if (ae && ae === "CollectionClicked") {
                            m = U(["event", "productCategory", "productCollection"], m)
                        }
                    }
                    if (ae && ae.indexOf("subCategoryOf") >= 0) {
                        m = U(["event", "label"], m)
                    }
                    if (m && m.visitorStatus === "loggedin") {
                        m.userId = q(g.gdt.Utils.checkCookie("RCHMFrontEndCookie"))
                    }
                    if (ae && ae === "itemDisplay") {
                        m = U(["event", "Product_subsection", "Product_type", "view"], m)
                    }
                    if (ae && ae === "accessoriesLookup") {
                        m = U(["event", "itemlookup", "item"], m)
                    }
                    if (ae && ae === "productPageNightView") {
                        m = U(["event", "Product_page"], m)
                    }
                    if (ae && ae === "productPagePrint") {
                        m = U(["event", "Product_page"], m)
                    }
                    if (ae && ae === "productPageSectionClicked") {
                        m = U(["event", "Product_page", "Section"], m)
                    }
                    if (ae && ae === "productPageSectionClicked") {
                        m = U(["event", "Product_page", "Section"], m)
                    }
                    if (ae && ae === "searchEboutiqueBoxTicked" || ae === "eboutiqueBoxTicked") {
                        m = U(["event", "box_name"], m)
                    }
                    if (ae && ae === "productPageViewAll" || ae === "productPagePurchase" || ae === "productPageAddToWishlist" || ae === "ppComparatorFeatures" || ae === "viewComparator") {
                        m = U(["event", "Product_page"], m)
                    }
                    if (ae && ae === "productPagePurchase") {
                        m = U(["event", "Product_page", "overlayAction"], m)
                    }
                    if (ae && ae === "comparatorPageAction") {
                        if (!m.comparatorPageFeatures && m.socialAction) {
                            m.comparatorPageFeatures = m.socialAction
                        }
                        m = U(["event", "comparatorPageFeatures"], m)
                    }
                    if (ae && ae === "comparatorPageCombinations") {
                        m = U(["event", "productCategory", "comparisonProduct1", "comparisonProduct2", "comparisonProduct3"], m)
                    }
                    if (ae && ae === "saveAsPDFFromWishlist") {
                        m = U(["event", "productSKU"], m)
                    }
                    if (ae && ae === "removeItemShoppingbag") {
                        m = U(["event", "productSKU"], m)
                    }
                    if (ae && ae === "removeFromWishlist") {
                        m = U(["event", "productSKU"], m)
                    }
                    if (ae && ae.indexOf("outiqueReset") !== -1 || ae === "createAccountHeader" || ae === "discoverMoreHome" || ae === "historyTimeline" || ae === "dateChoose" || ae === "signinReset") {
                        m = U(["event"], m)
                    }
                    if (ae && ae === "platformClickFooter") {
                        m = U(["event", "applatform"], m)
                    }
                    if (ae && ae === "social") {
                        m = U(["event", "socialNetwork", "socialAction", "socialTarget"], m)
                    }
                    if (ae && ae === "worldLinkFooter") {
                        m = U(["event", "website"], m)
                    }
                    if (ae && ae === "download") {
                        m = U(["event", "download_type"], m)
                    }
                    if (ae && ae === "boutiqueSectionClicked") {
                        m = U(["event", "boutique", "section"], m)
                    }
                    if (ae && ae === "boutiqueEmail") {
                        m = U(["event", "boutique"], m)
                    }
                    if (ae && ae === "accessoriesDropdown") {
                        m = U(["event", "dropdownchoice", "item"], m)
                    }
                    if (ae && ae === "specialEditionClicked") {
                        m = U(["event", "boutique"], m)
                    }
                    if (ae && ae === "chooseBoutique") {
                        m = U(["event", "boutiqueId", "boutiqueCity", "boutiqueName"], m)
                    }
                    if (ae && ae === "wishlistaction") {
                        m = U(["event", "wishlistFeatures"], m)
                    }
                    if (m.event === "clickOnTheEcommerceClaimers") {
                        m = U(["event", "ecommerceclaimer", "page"], m)
                    }
                    if (m.event === "shoppingBag") {
                        m = U(["event", "productSKU"], m)
                    }
                    if (m && m.page && m.page.indexOf("shopping/checkout/billing-shipping") !== -1) {
                        var aE = location.hash.substr(1),
                            aA = {};
                        if (aE === "checkoutLogin") {
                            aA = {
                                from: aE,
                                checkoutPage: "deliveryPage",
                                currentTab: ag()
                            };
                            history.pushState("", document.title, window.location.pathname)
                        } else {
                            aA = {
                                checkoutPage: "deliveryPage",
                                currentTab: ag()
                            }
                        }
                        x(aA)
                    }
                    if (m && m.page && h("#tracking-div").data("pagename") === "payment") {
                        var aO = {};
                        if (h("#tracking-div").data("selectedtab") === "BTQP") {
                            aO = {
                                checkoutPage: "paymentPage",
                                shippingType: "boutiquepickup"
                            }
                        } else {
                            aO = {
                                checkoutPage: "paymentPage",
                                shippingType: "homedelivery"
                            }
                        }
                        x(aO)
                    }
                    if (m && m.page && m.page.indexOf("shopping/checkout/order-confirmation") !== -1) {
                        var aK = h("#tracking-div").data("selectedtab"),
                            az, aF, aC;
                        if (aK === "STDD") {
                            aF = "homedelivery";
                            aC = "Standard delivery"
                        } else {
                            aF = "boutiquepickup";
                            aC = "second day delivery"
                        }
                        if (aK === "STDD") {
                            az = {
                                event: "deliveryChoice",
                                shippingOption: aC,
                                shippingPrice: h("#tracking-div").data("shippingprice"),
                                citySelected: h("#tracking-div").data("selectedcity"),
                                checkoutPage: h("#tracking-div").data("pagename"),
                                shippingType: aF
                            }
                        } else {
                            az = {
                                event: "deliveryChoice",
                                shippingOption: aC,
                                shippingPrice: h("#tracking-div").data("shippingprice"),
                                citySelected: h("#tracking-div").data("selectedcity"),
                                boutiqueName: h("#tracking-div").data("boutiquename"),
                                checkoutPage: h("#tracking-div").data("pagename"),
                                shippingType: aF
                            }
                        }
                        x(az)
                    }
                    if (m && m.page && h("#tracking-div").data("pagename") === "order-review") {
                        var aM = {};
                        if (h("#tracking-div").data("selectedtab") === "BTQP") {
                            aM = {
                                checkoutPage: "reviewPage",
                                shippingType: "boutiquepickup",
                                boutiqueName: h("#tracking-div").data("boutiquename"),
                                event: "pan_retrofit_boutique",
                                citySelected: h("#tracking-div").data("selectedcity")
                            }
                        } else {
                            aM = {
                                checkoutPage: "reviewPage",
                                shippingType: "homedelivery"
                            }
                        }
                        x(aM)
                    }
                    if (m && m.page && m.page.indexOf("zh-cn/shopping/checkout.html") !== -1) {
                        var aB = location.hash.substr(1);
                        if (aB === "minicart") {
                            var aH = {
                                from: aB
                            };
                            x(aH);
                            history.pushState("", document.title, window.location.pathname)
                        }
                    }
                    return m
                }

                function x(az) {
                    if (az.event === "loggedIn" && !g.gdt.Utils.checkCookie("RCHMFrontEndCookie")) {
                        return
                    }
                    J.push(az);
                    g.gdt.Utils.Console.log(az)
                }
                var aw = function(az) {
                    az = az || 0;
                    return az
                };

                function Q(az) {
                    var aA = {
                        "tracking-event": "virtualPageview",
                        "tracking-page": document.location.pathname + "/paypal"
                    };
                    az = h(az.target);
                    az.data(aA);
                    u(az)
                }

                function u(az) {
                    m = an(az);
                    if (m && m.event && m.event === "findRefills" || m.event === "productCare" || m.event === "montblancAppsFooter" || m.event === "contactFooter" || m.event === "corporateGiftShopFooter" || m.event === "customServicesFooter" || m.event === "termsAndLegalFooter" || m.event === "findMontblancHeader" || m.event === "productClickedOnCollectionOrCataloguePage" || m.event === "signUp") {
                        ac(m)
                    } else {
                        x(m)
                    }
                }

                function af(aB, aA) {
                    var az = aB ? aB.currentTarget : aB ? aB.target : g.gdt.Tracking.trackingObject;
                    if (aA) {
                        az = aA
                    }
                    if (az.length === 0) {
                        return
                    } else {
                        u(az)
                    }
                }
                var H = function(az) {
                    az = az || "";
                    if (g.gdt.Tracking.trackingObject && g.gdt.Tracking.trackingObject.pageCategory !== "Shopping Bag" && az.length > 0) {
                        g.gdt.Tracking.trackingObject.errorType = az;
                        an(g.gdt.Tracking.trackingObject);
                        x(m)
                    } else {
                        g.gdt.Tracking.trackingObject.errorType = ""
                    }
                };

                function y(az) {
                    var aA = {
                        "tracking-productcollection": h(az).find("input[name=productCollection]").val() || "",
                        "tracking-productcategory": h(az).find("input[name=productCategory]").val() || "",
                        "tracking-productsku": h(az).find("input[name=productSKU]").val() || "",
                        "tracking-event": h(az).find("input[name=event]").val() || "",
                        "tracking-shoppingbagvalue": h(az).find("input[name=shoppingbagvalue]").val() || "",
                        "tracking-productavailability": h(az).find("input[name=productAvailability]").val() || "false"
                    };
                    return aA
                }

                function n(aA) {
                    var az = y(aA.target);
                    aA = h(aA);
                    aA.data(az);
                    u(aA)
                }

                function Z(az) {
                    m.event = "nibSelected";
                    m.nibSelected = h(az.target).find("option").filter(function() {
                        return h(this).prop("selected") === true
                    })[0].innerHTML;
                    m = an(m);
                    x(m)
                }

                function ax(az) {
                    m.strapSelected = h(az.target).find("option").filter(function() {
                        return h(this).prop("selected") === true
                    })[0].innerHTML;
                    m.event = h(az.target).find("option:selected").data("tracking-event");
                    m.dropdownchoice = h(az.target).find("option:selected").data("tracking-dropdownchoice");
                    m.item = h(az.target).find("option:selected").data("tracking-item");
                    m = an(m);
                    x(m)
                }

                function ac(aB, aA) {
                    aA = aA || "trackingObject";
                    var az = {
                        path: "/",
                        domain: g.gdt.domainName
                    };
                    h.cookie(aA, JSON.stringify(aB), az)
                }

                function ah() {
                    ak = g.gdt.Utils.checkCookie("trackingObject").length > 0 ? true : false;
                    return ak
                }

                function r(aA) {
                    var az = aA ? aA.currentTarget : aA ? aA.target : g.gdt.Tracking.trackingObject;
                    m = an(az);
                    if (m && m.event && (m.event.indexOf("Header") !== -1) || m.event.indexOf("wishlistFromHeader") === -1 || m.event.indexOf("discoverMoreHome") === -1 || m.event.indexOf("worldLinkFooter") === -1) {
                        x(m)
                    } else {
                        delete m.pageCategory;
                        ac(m)
                    }
                }

                function B(az) {
                    var aA = {
                        "tracking-page": document.location.pathname + "/confirmengraving",
                        "tracking-event": "virtualPagePreview"
                    };
                    az = h(az.target);
                    az.data(aA);
                    u(az)
                }

                function j(az) {
                    var aA = {
                        "tracking-page": document.location.pathname + "/find-your-panerai",
                        "tracking-event": "virtualPageview"
                    };
                    az = h(az.target);
                    az.data(aA);
                    u(az)
                }

                function N(az) {
                    var aA = {
                        "tracking-event": "loggedIn"
                    };
                    az = h(az.target);
                    az.data(aA);
                    m = an(az);
                    ac(m)
                }

                function P() {
                    var az = {};
                    if (m.page && m.page.indexOf("shopping/guest/order-confirmation/confirmation/success") !== -1) {
                        az = {
                            signinWithNewsletter: h("input[name=paneraiupdates]").prop("checked") ? "true" : "false",
                            accountCreationAfterCheckOut: "true"
                        }
                    } else {
                        if (h("input[name=paneraiupdates]").prop("checked") === true) {
                            az = {
                                event: "signinWithNewsletter"
                            }
                        }
                    }
                    ac(az, "registerFormObj")
                }

                function am(az) {
                    var aA = {
                        "tracking-page": document.location.pathname + "/contact-concierge-success",
                        "tracking-event": "virtualPageview"
                    };
                    az = h(az.target);
                    az.data(aA);
                    u(az)
                }

                function al(aA) {
                    var az = {
                        path: "/",
                        domain: g.gdt.domainName,
                        expires: -1
                    };
                    h.cookie(aA, "", az)
                }

                function w() {
                    var az = g.gdt.Utils.checkCookie("trackingObject");
                    x(JSON.parse(decodeURIComponent(az)));
                    al("trackingObject")
                }

                function aa(az) {
                    m.event = "boutiqueSearch";
                    m.citySelected = h(az.target).find("option").filter(function() {
                        return h(this).prop("selected") === true
                    })[0];
                    m.citySelected = h(m.citySelected).data("tracking-label");
                    m = an(m);
                    x(m)
                }

                function Y(az) {
                    m.event = h(az.target).parents("button").data("tracking-event") || h(az.target).parents("a").data("tracking-event") || h(az.target).data("tracking-event");
                    m.productSKU = h(az.target).parents("button").data("tracking-productsku") || h(az.target).data("tracking-productsku");
                    m.productName = h(az.target).parents("button").data("tracking-productname") || h(az.target).data("tracking-productname");
                    m.Product_page = h(az.target).parents("button").data("tracking-page") || h(az.target).data("tracking-page") || h(az.target).parents("a").data("tracking-page");
                    m.Section = h(az.target).data("tracking-section");
                    m.box_name = h(az.target).data("tracking-boxname");
                    m.comparatorPageFeatures = h(az.target).data("tracking-comparatorfeature") || h(az.target).data("tracking-comparatorfeature") || h(az.target).parents("a").data("tracking-comparatorfeature");
                    m.wishlistFeatures = h(az.target).parents("button").data("tracking-wishlistfeatures") || h(az.target).data("tracking-wishlistfeatures") || h(az.target).parents("a").data("tracking-wishlistfeatures");
                    m.overlayAction = h(az.target).parents("button").data("tracking-action") || h(az.target).parents("a").data("tracking-action") || h(az.target).data("tracking-action");
                    m = an(m);
                    x(m);
                    if (m.event === "viewComparator" || m.event === "productPagePurchase" || m.event === "wishlistaction") {
                        O(az)
                    } else {
                        if (m.event === "comparatorPageAction" && m.comparatorPageFeatures === "navigate") {
                            ac(m)
                        }
                    }
                }

                function O(aA) {
                    var az = h(aA.target).data("tracking-page-category") || h(aA.target).parents("a").data("tracking-page-category"),
                        aB = {
                            "/from": az
                        };
                    ac(aB)
                }

                function A(az, aA) {
                    m.event = aA.trackevent;
                    m.productCategory = aA.productCategory;
                    m.comparisonProduct1 = aA.comparisonProduct1;
                    m.comparisonProduct2 = aA.comparisonProduct2;
                    m.comparisonProduct3 = aA.comparisonProduct3;
                    m = an(m);
                    x(m)
                }

                function T(az) {
                    m.event = h(az.target).parents("button").data("tracking-event") || h(az.target).data("tracking-event");
                    m.Product_page = h(az.target).parents("button").data("tracking-productpage") || h(az.target).data("tracking-productpage");
                    m = an(m);
                    x(m)
                }

                function M(aA) {
                    var az = h(aA.target);
                    m.event = "boutiqueResultClicked";
                    m.boutiqueName = az.data("tracking-value");
                    m.citySelected = az.data("tracking-key");
                    m = an(m);
                    x(m)
                }

                function E(aC) {
                    m.event = h(aC.target).parents("button").data("tracking-event") || h(aC.target).data("tracking-event");
                    m.ecommerceclaimer = h(aC.target).data("tracking-ecommerceclaimer") || h(aC.target).parent(".ecom-overlay-btn").data("tracking-ecommerceclaimer");
                    m = an(m);
                    x(m);
                    if (m.event === "finalizePayment") {
                        var aD = h(aC.target).data("tracking-from"),
                            aA = {
                                from: aD
                            };
                        ac(aA)
                    }
                    if (m.event === "siteSearch") {
                        var az = h(aC.currentTarget).prev("input[name=search]").val(),
                            aB = {
                                kwPAN: az
                            };
                        ac(aB)
                    }
                }

                function ai(aA) {
                    m.event = h(aA.target).data("tracking-event");
                    var az = S().join();
                    if (m.event === "shoppingBag") {
                        m.productSKU = az
                    }
                    m = an(m);
                    x(m)
                }

                function S() {
                    var aB = g.gdt.CommerceContent.data(),
                        az = aB.shoppingbag.items,
                        aA = [];
                    h.each(az, function(aC, aD) {
                        aA.push(aD.id)
                    });
                    return aA
                }

                function V(aC) {
                    m.event = h(aC.target).data("tracking-event");
                    var aA = h(aC.currentTarget).find('button[type="submit"]').data("tracking-event"),
                        aB = h(aC.currentTarget).find(".personal-msg-field").val(),
                        az;
                    if (aB) {
                        az = "Message left"
                    } else {
                        az = "No message"
                    }
                    if (aA === "personalMessageInput") {
                        var aD = {
                            personalMessageInput: az
                        };
                        ac(aD)
                    }
                }

                function ag() {
                    var aA = location.hash,
                        az;
                    aA = aA.substring(1);
                    if (aA === "btqp") {
                        az = "boutique pickup"
                    } else {
                        az = h(".billingShippingTabs.accordion-tabs-nav-active").data("tracking-page")
                    }
                    return az
                }

                function W(aA) {
                    aA.stopPropagation();
                    m.event = h(aA.currentTarget).data("tracking-event");
                    var aB = h(aA.currentTarget).data("tracking-page"),
                        az = {};
                    if (m.event === "pan_retrofit_checkoutTab") {
                        az = {
                            event: h(aA.target).data("tracking-event"),
                            currentTab: aB
                        }
                    }
                    x(az)
                }

                function l() {
                    var az = h(".supported-options").find(".radio.selected").attr("for"),
                        aA = {
                            event: "pan_retrofit_payment",
                            paymentType: az
                        };
                    x(aA)
                }

                function t(aB) {
                    if (aB) {
                        var aC = Math.round(aB.currentTime()),
                            az = Math.round(aB.duration()),
                            aD = "<25%",
                            aA = Math.round(aC / az * 100);
                        if (aA >= 25) {
                            aD = "25%"
                        }
                        if (aA >= 50) {
                            aD = "50%"
                        }
                        if (aA >= 75) {
                            aD = "75%"
                        }
                        if (aA === 100) {
                            aD = "100%"
                        }
                        return aD
                    }
                }
                var aq = function(az, aB) {
                    var aA = {
                        event: "videoInteraction",
                        videoStatus: "Played " + t(az),
                        videoInteractions: aB + " Video"
                    };
                    if (aA.videoStatus.indexOf("100%") !== -1) {
                        aA.videoInteractions = "Ended Video"
                    }
                    if (h("#" + az.id_).parent().data("tracking-nameofthevideo")) {
                        aA.nameOfTheVideo = h("#" + az.id_).parent().data("tracking-nameofthevideo")
                    }
                    x(aA)
                };
                var au = function(aC, aB) {
                    var aA = h(this),
                        az;
                    if (aA.hasClass("cleftarrow")) {
                        az = "left"
                    } else {
                        if (aA.hasClass("crightarrow")) {
                            az = "right"
                        }
                    }
                    var aB = {
                        event: "historyArrow",
                        direction: az
                    };
                    x(aB)
                };
                ad.on("filters:filter:added", function(aA, az) {
                    az.event = "filterProduct";
                    x(az)
                });
                ad.on("filters:sort", function(aA, az) {
                    az.event = "sortProduct";
                    x(az)
                });
                ad.on("print", function() {
                    if (document.location.pathname.indexOf("collection") !== -1) {
                        x({
                            event: "printProduct"
                        })
                    }
                });
                ad.on("boutique:results", function(aA, az) {
                    az.event = "boutiqueSearch";
                    x(az)
                });
                ad.on("boutique:result:clicked", function(aA, az) {
                    az.event = "boutiqueResultClicked";
                    x(az)
                });
                ad.on("boutique:pin:clicked", function(aA, az) {
                    var az = {
                        event: "pinsClicked"
                    };
                    x(az)
                });
                ad.on("change", "select[name=product-path]", Z);
                ad.on(o, "a[data-trackable=true]", af);
                ad.on(o, "li[data-trackable=true]", af);
                h("a[data-trackable-cache=true]").on(o, r);
                ad.on("submit", ".contactform[data-trackable-cache=true] form", r);
                ad.on("submit", "form[name=login-form]", N);
                ad.on("submit", "form[name=registration]", P);
                ad.on("submit", "form[name=contact-concierge-form]", am);
                ad.on("submit", "form[name=checkout-payment]", Q);
                ad.on("submit", "form[data-trackable=true]", n);
                ad.on("submit", "form[data-trackable-cache=true]", r);
                ad.on("basketUpdated", af);
                ad.on("wishlistUpdated", af);
                ad.on("engravingLightboxClose", B);
                h(".fyp").on(o, j);
                ad.on("collectionsViewFilter", af);
                h(".cta-nightview").on(o, Y);
                h(".cta-print").on(o, Y);
                ad.on(o, ".newWishList", Y);
                h("#js-product-details li").find("a").on(o, Y);
                h(".eboutique-filter").find("input[type=checkbox]").on(o, Y);
                ad.on(o, ".cta-purchase", Y);
                h(".view-all").on(o, T);
                ad.on(o, "button[data-trackable=true]", af);
                h(".product-detail .cta-gallery").on(o, af);
                h(".accMoreFilters").find("input[type=checkbox]").on(o, Y);
                h("#accFilters").find("input[type=radio]").on(o, af);
                ad.on("strapsBraceSelector", af);
                ad.on("specialEditionClick", af);
                h(".comparator-btn").on(o, Y);
                h(".view-comparator-btn").on(o, Y);
                ad.on(o, ".product-list-item-compare-btn", Y);
                ad.on(o, ".view-comparison", function(az) {
                    Y(az)
                });
                ad.on(o, ".removeProduct", Y);
                ad.on(o, ".edit-compare-list", Y);
                h.pubsub("subscribe", v.tabClicked, A);
                h(".saveIcon, .socialShare, .printWishlistSlide").on(o, Y);
                ad.on(o, ".image-wrapper", Y);
                setTimeout(function() {
                    h("#js-timeline-content-carousel > a").on(o, au)
                }, 1000);
                ad.on("change", ".news-filter select", af);
                ad.on("change", ".accFilters select", ax);
                ad.on(o, ".proceed-checkout", E);
                ad.on(o, ".ecom-highlight-item", E);
                ad.on(o, ".quick-checkout-cn", E);
                ad.on("submit", "form[name=login-form]", E);
                h("a.sbag").on(o, ai);
                ad.on(o, ".cta-live-chat", function() {
                    var az = {
                        event: "liveChatOpen"
                    };
                    x(az)
                });
                ad.on("submit", "form[name=personal-msg-form]", V);
                h(".finalize-payment-section").on(o, "a.button-primary", E);
                h("form.filter").on(o, "button[type=submit]", E);
                ad.on(o, ".billingShippingTabs", W);
                ad.on("submit", "form[name=checkout-payment-step]", l);
                if (document.location.pathname.indexOf("zh-cn/boutique") !== -1) {
                    ad.on("change", "select.topic-picker", aa);
                    ad.find(".montblanc-accordion").find("dt").on(o, M)
                }
                if (aj) {
                    if (ah()) {
                        w();
                        af()
                    } else {
                        af()
                    }
                }
                return {
                    trackingValidation: H,
                    homepageTrackingSlideNumber: aw,
                    videoTracking: aq
                }
            };
            g.gdt.Tracking.PANtracking = new f();
            g.gdt.Tracking.trackingObject = g.trackingObject || {}
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.bmapWithMarker = function() {
                var d = f.BMap;
                return this.each(function(l, m) {
                    var k = g(m),
                        o = k.prop("id"),
                        j = k.siblings(".boutique-info").find(".china-maplinks a:first"),
                        p = j.attr("href");
                    if (k.hasClass("js-dealer-map")) {
                        j = g(this).siblings(".dealer-info").find(".multiMaps .china-maplinks a:first");
                        p = j.attr("href")
                    }

                    function n() {
                        var q = new d.Map(o);
                        var i = new d.Point(k.data("lng"), k.data("lat"));
                        d.Convertor.translate(i, 2, function(r) {
                            q.enableScrollWheelZoom();
                            q.centerAndZoom(r, 15);
                            q.addControl(new d.NavigationControl());
                            q.addControl(new d.ScaleControl());
                            q.addControl(new d.OverviewMapControl());
                            q.addControl(new d.MapTypeControl());
                            var t = r.lat + "," + r.lng;
                            var u = p.replace("latlng=&", "latlng=" + t + "&");
                            j.attr("href", u);
                            var s = new d.Marker(r);
                            q.addOverlay(s)
                        })
                    }
                    n()
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(d) {
            d.fn.columnize = function(f) {
                var g = {
                    width: 400,
                    columns: false,
                    buildOnce: false,
                    overflow: false,
                    doneFunc: function() {},
                    target: false,
                    ignoreImageLoading: true,
                    columnFloat: "left",
                    lastNeverTallest: false,
                    accuracy: false,
                    manualBreaks: false,
                    cssClassPrefix: ""
                };
                f = d.extend(g, f);
                if (typeof(f.width) == "string") {
                    f.width = parseInt(f.width, 10);
                    if (isNaN(f.width)) {
                        f.width = g.width
                    }
                }
                return this.each(function() {
                    var p = f.target ? d(f.target) : d(this);
                    var s = d(this).height();
                    var u = d("<div></div>");
                    var h = 0;
                    var n = false;
                    var v = f.manualBreaks;
                    var m = g.cssClassPrefix;
                    if (typeof(f.cssClassPrefix) == "string") {
                        m = f.cssClassPrefix
                    }
                    var t = 0;
                    u.append(d(this).contents().clone(true));
                    if (!f.ignoreImageLoading && !f.target) {
                        if (!p.data("imageLoaded")) {
                            p.data("imageLoaded", true);
                            if (d(this).find("img").length > 0) {
                                var k = function(w, x) {
                                    return function() {
                                        if (!w.data("firstImageLoaded")) {
                                            w.data("firstImageLoaded", "true");
                                            w.empty().append(x.children().clone(true));
                                            w.columnize(f)
                                        }
                                    }
                                }(d(this), u);
                                d(this).find("img").one("load", k);
                                d(this).find("img").one("abort", k);
                                return
                            }
                        }
                    }
                    p.empty();
                    r();
                    if (!f.buildOnce) {
                        d(window).resize(function() {
                            if (!f.buildOnce) {
                                if (p.data("timeout")) {
                                    clearTimeout(p.data("timeout"))
                                }
                                p.data("timeout", setTimeout(r, 200))
                            }
                        })
                    }

                    function o(x, y) {
                        var w = y ? "." : "";
                        if (m.length) {
                            return w + m + "-" + x
                        }
                        return w + x
                    }

                    function l(y, G, I, C) {
                        while ((v || I.height() < C) && G[0].childNodes.length) {
                            var z = G[0].childNodes[0];
                            if (d(z).find(o("columnbreak", true)).length) {
                                return
                            }
                            if (d(z).hasClass(o("columnbreak"))) {
                                return
                            }
                            y.append(z)
                        }
                        if (y[0].childNodes.length === 0) {
                            return
                        }
                        var x = y[0].childNodes;
                        var B = x[x.length - 1];
                        y[0].removeChild(B);
                        var H = d(B);
                        if (H[0].nodeType == 3) {
                            var E = H[0].nodeValue;
                            var D = f.width / 18;
                            if (f.accuracy) {
                                D = f.accuracy
                            }
                            var w;
                            var F = null;
                            while (I.height() < C && E.length) {
                                var A = E.indexOf(" ", D);
                                if (A != -1) {
                                    w = E.substring(0, E.indexOf(" ", D))
                                } else {
                                    w = E
                                }
                                F = document.createTextNode(w);
                                y.append(F);
                                if (E.length > D && A != -1) {
                                    E = E.substring(A)
                                } else {
                                    E = ""
                                }
                            }
                            if (I.height() >= C && F !== null) {
                                y[0].removeChild(F);
                                E = F.nodeValue + E
                            }
                            if (E.length) {
                                H[0].nodeValue = E
                            } else {
                                return false
                            }
                        }
                        if (G.contents().length) {
                            G.prepend(H)
                        } else {
                            G.append(H)
                        }
                        return H[0].nodeType == 3
                    }

                    function q(y, B, A, w) {
                        if (y.contents(":last").find(o("columnbreak", true)).length) {
                            return
                        }
                        if (y.contents(":last").hasClass(o("columnbreak"))) {
                            return
                        }
                        if (B.contents().length) {
                            var x = B.contents(":first");
                            if (x.get(0).nodeType != 1) {
                                return
                            }
                            var z = x.clone(true);
                            if (x.hasClass(o("columnbreak"))) {
                                y.append(z);
                                x.remove()
                            } else {
                                if (v) {
                                    y.append(z);
                                    x.remove()
                                } else {
                                    if (z.get(0).nodeType == 1 && !z.hasClass(o("dontend"))) {
                                        y.append(z);
                                        if (z.is("img") && A.height() < w + 20) {
                                            x.remove()
                                        } else {
                                            if (!x.hasClass(o("dontsplit")) && A.height() < w + 20) {
                                                x.remove()
                                            } else {
                                                if (z.is("img") || x.hasClass(o("dontsplit"))) {
                                                    z.remove()
                                                } else {
                                                    z.empty();
                                                    if (!l(z, x, A, w)) {
                                                        x.addClass(o("split"));
                                                        if (x.children().length) {
                                                            q(z, x, A, w)
                                                        }
                                                    } else {
                                                        x.addClass(o("split"))
                                                    }
                                                    if (z.get(0).childNodes.length === 0) {
                                                        z.remove()
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }

                    function i() {
                        if (p.data("columnized") && p.children().length == 1) {
                            return
                        }
                        p.data("columnized", true);
                        p.data("columnizing", true);
                        p.empty();
                        p.append(d("<div class='" + o("first") + " " + o("last") + " " + o("column") + " ' style='width:100%; float: " + f.columnFloat + ";'></div>"));
                        $col = p.children().eq(p.children().length - 1);
                        $destroyable = u.clone(true);
                        if (f.overflow) {
                            targetHeight = f.overflow.height;
                            l($col, $destroyable, $col, targetHeight);
                            if (!$destroyable.contents().find(":first-child").hasClass(o("dontend"))) {
                                q($col, $destroyable, $col, targetHeight)
                            }
                            while ($col.contents(":last").length && j($col.contents(":last").get(0))) {
                                var z = $col.contents(":last");
                                z.remove();
                                $destroyable.prepend(z)
                            }
                            var y = "";
                            var B = document.createElement("DIV");
                            while ($destroyable[0].childNodes.length > 0) {
                                var w = $destroyable[0].childNodes[0];
                                if (w.attributes) {
                                    for (var x = 0; x < w.attributes.length; x++) {
                                        if (w.attributes[x].nodeName.indexOf("jQuery") === 0) {
                                            w.removeAttribute(w.attributes[x].nodeName)
                                        }
                                    }
                                }
                                B.innerHTML = "";
                                B.appendChild($destroyable[0].childNodes[0]);
                                y += B.innerHTML
                            }
                            var A = d(f.overflow.id)[0];
                            A.innerHTML = y
                        } else {
                            $col.append($destroyable)
                        }
                        p.data("columnizing", false);
                        if (f.overflow && f.overflow.doneFunc) {
                            f.overflow.doneFunc()
                        }
                    }

                    function j(w) {
                        if (w.nodeType == 3) {
                            if (/^\s+$/.test(w.nodeValue)) {
                                if (!w.previousSibling) {
                                    return false
                                }
                                return j(w.previousSibling)
                            }
                            return false
                        }
                        if (w.nodeType != 1) {
                            return false
                        }
                        if (d(w).hasClass(o("dontend"))) {
                            return true
                        }
                        if (w.childNodes.length === 0) {
                            return false
                        }
                        return j(w.childNodes[w.childNodes.length - 1])
                    }

                    function r() {
                        t = 0;
                        if (h == p.width()) {
                            return
                        }
                        h = p.width();
                        var z = Math.round(p.width() / f.width);
                        var M = f.width;
                        var C = f.height;
                        if (f.columns) {
                            z = f.columns
                        }
                        if (v) {
                            z = u.find(o("columnbreak", true)).length + 1;
                            M = false
                        }
                        if (z <= 1) {
                            return i()
                        }
                        if (p.data("columnizing")) {
                            return
                        }
                        p.data("columnized", true);
                        p.data("columnizing", true);
                        p.empty();
                        p.append(d("<div style='width:" + (Math.floor(100 / z)) + "%; float: " + f.columnFloat + ";'></div>"));
                        N = p.children(":last");
                        N.append(u.clone());
                        s = N.height();
                        p.empty();
                        var B = s / z;
                        var D = true;
                        var E = 3;
                        var U = false;
                        if (f.overflow) {
                            E = 1;
                            B = f.overflow.height
                        } else {
                            if (C && M) {
                                E = 1;
                                B = C;
                                U = true
                            }
                        }
                        for (var I = 0; I < E && I < 20; I++) {
                            p.empty();
                            var J, w, N, x;
                            try {
                                J = u.clone(true)
                            } catch (W) {
                                J = u.clone()
                            }
                            J.css("visibility", "hidden");
                            for (var T = 0; T < z; T++) {
                                w = (T === 0) ? o("first") : "";
                                w += " " + o("column");
                                w = (T == z - 1) ? (o("last") + " " + w) : w;
                                p.append(d("<div class='" + w + "' style='width:" + (Math.floor(100 / z)) + "%; float: " + f.columnFloat + ";'></div>"))
                            }
                            T = 0;
                            while (T < z - (f.overflow ? 0 : 1) || U && J.contents().length) {
                                if (p.children().length <= T) {
                                    p.append(d("<div class='" + w + "' style='width:" + (Math.floor(100 / z)) + "%; float: " + f.columnFloat + ";'></div>"))
                                }
                                N = p.children().eq(T);
                                if (U) {
                                    N.width(M + "px")
                                }
                                l(N, J, N, B);
                                q(N, J, N, B);
                                while (N.contents(":last").length && j(N.contents(":last").get(0))) {
                                    x = N.contents(":last");
                                    x.remove();
                                    J.prepend(x)
                                }
                                T++;
                                if (N.contents().length === 0 && J.contents().length) {
                                    N.append(J.contents(":first"))
                                } else {
                                    if (T == z - (f.overflow ? 0 : 1) && !f.overflow) {
                                        if (J.find(o("columnbreak", true)).length) {
                                            z++
                                        }
                                    }
                                }
                            }
                            if (f.overflow && !U) {
                                var R = false;
                                var Q = (document.all) && (navigator.appVersion.indexOf("MSIE 7.") != -1);
                                if (R || Q) {
                                    var G = "";
                                    var L = document.createElement("DIV");
                                    while (J[0].childNodes.length > 0) {
                                        var V = J[0].childNodes[0];
                                        for (T = 0; T < V.attributes.length; T++) {
                                            if (V.attributes[T].nodeName.indexOf("jQuery") === 0) {
                                                V.removeAttribute(V.attributes[T].nodeName)
                                            }
                                        }
                                        L.innerHTML = "";
                                        L.appendChild(J[0].childNodes[0]);
                                        G += L.innerHTML
                                    }
                                    var O = d(f.overflow.id)[0];
                                    O.innerHTML = G
                                } else {
                                    d(f.overflow.id).empty().append(J.contents().clone(true))
                                }
                            } else {
                                if (!U) {
                                    N = p.children().eq(p.children().length - 1);
                                    J.contents().each(function() {
                                        N.append(d(this))
                                    });
                                    var y = N.height();
                                    var H = y - B;
                                    var X = 0;
                                    var P = 10000000;
                                    var S = 0;
                                    var F = false;
                                    var K = 0;
                                    p.children().each(function(Y) {
                                        return function(Z) {
                                            var ab = Y.children().eq(Z);
                                            var ac = ab.children(":last").find(o("columnbreak", true)).length;
                                            if (!ac) {
                                                var aa = ab.height();
                                                F = false;
                                                X += aa;
                                                if (aa > S) {
                                                    S = aa;
                                                    F = true
                                                }
                                                if (aa < P) {
                                                    P = aa
                                                }
                                                K++
                                            }
                                        }
                                    }(p));
                                    var A = X / K;
                                    if (X === 0) {
                                        I = E
                                    } else {
                                        if (f.lastNeverTallest && F) {
                                            t += 30;
                                            B = B + 30;
                                            if (I == E - 1) {
                                                E++
                                            }
                                        } else {
                                            if (S - P > 30) {
                                                B = A + 30
                                            } else {
                                                if (Math.abs(A - B) > 20) {
                                                    B = A
                                                } else {
                                                    I = E
                                                }
                                            }
                                        }
                                    }
                                } else {
                                    p.children().each(function(Y) {
                                        N = p.children().eq(Y);
                                        N.width(M + "px");
                                        if (Y === 0) {
                                            N.addClass(o("first"))
                                        } else {
                                            if (Y == p.children().length - 1) {
                                                N.addClass(o("last"))
                                            } else {
                                                N.removeClass(o("first"));
                                                N.removeClass(o("last"))
                                            }
                                        }
                                    });
                                    p.width(p.children().length * M + "px")
                                }
                            }
                            p.append(d("<br style='clear:both;'>"))
                        }
                        p.find(o("column", true)).find(":first" + o("removeiffirst", true)).remove();
                        p.find(o("column", true)).find(":last" + o("removeiflast", true)).remove();
                        p.data("columnizing", false);
                        if (f.overflow) {
                            f.overflow.doneFunc()
                        }
                        f.doneFunc()
                    }
                })
            }
        })(jQuery);
        (function(h, f, g) {
            g.fn.creditcard = function(d) {
                var i = {
                        AMEX: "amex",
                        MAST: "mast",
                        DISC: "discover",
                        DINE: "dine",
                        JCB: "jcb",
                        VISA: "visa"
                    },
                    j = {
                        amex: "AMEX",
                        mastercard: "MAST",
                        diners_club_international: "DINE",
                        diners_club_carte_blanche: "DINE",
                        discover: "DISC",
                        jcb: "JCB",
                        visa: "VISA",
                        visa_electron: "VISA"
                    };
                return this.each(function(o, p) {
                    var n = g(p),
                        m = g(d),
                        l = m.closest("label").find(".cc-icon"),
                        k = l.data("src") || "";
                    n.on("change paste keyup", function() {
                        var q = f.gdt.Validate.ext.CreditCards.getValidity(n.val());
                        n.val(g(this).val().replace(/\s+/g, ""));
                        if (q && q.length) {
                            m.val(j[q]).trigger("change")
                        } else {
                            m.val("").trigger("change");
                            l.removeClass("show")
                        }
                    });
                    m.on("change", function() {
                        if (this.value && this.value.length && i[this.value]) {
                            l.attr("src", k.replace("{{cardtype}}", i[this.value])).addClass("show")
                        } else {
                            l.removeClass("show")
                        }
                    })
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.lazyloadContent = function(i) {
                var j, d;
                j = {
                    contentSelector: ".content",
                    loadingHeight: "50px"
                };
                d = g.extend(j, i);
                return this.each(function(m, n) {
                    var l = g(n),
                        k = l.find(d.contentSelector),
                        q = n.id,
                        p = l.data("href"),
                        o = location.protocol + "//" + location.host + p;
                    l.one("click", function() {
                        k.parent().css("min-height", d.loadingHeight).addClass("loading");
                        f.gdt.Utils.ajaxCall({
                            type: "GET",
                            url: o,
                            callback: function(t) {
                                var r = g(t),
                                    s = g("#" + q + " .content", r);
                                if (s.length) {
                                    k.html(s.html());
                                    k.parent().css({
                                        height: k.height(),
                                        "min-height": 0
                                    }).removeClass("loading");
                                    if (d.callback) {
                                        d.callback(k)
                                    }
                                } else {
                                    f.console.error("no contentFragment");
                                    f.location.href = o
                                }
                            },
                            error: function(r) {
                                if (r.status === 403) {
                                    f.console.warn("Authentication error");
                                    f.location.href = f.gdt.loginURL + "?resource=" + window.location.pathname.split(".html")[0]
                                } else {
                                    f.console.error("XHR Error");
                                    f.location.href = o
                                }
                            }
                        })
                    })
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.mapWithMarker = function() {
                return this.each(function(m, d) {
                    var r = g(d),
                        o = new google.maps.LatLng(r.data("lat"), r.data("lng")),
                        j = {
                            zoom: 14,
                            mapTypeControl: true,
                            center: o,
                            panControl: false,
                            zoomControl: true,
                            zoomControlOptions: {
                                style: google.maps.ZoomControlStyle.SMALL,
                                position: google.maps.ControlPosition.LEFT_TOP
                            },
                            minZoom: 3,
                            scaleControl: false,
                            streetViewControl: true,
                            mapTypeId: google.maps.MapTypeId.ROADMAP
                        },
                        p = [{
                            stylers: [{
                                saturation: -100
                            }]
                        }],
                        k, n, l = f.gdt.Utils.google.mapIcon;

                    function q() {
                        k = new google.maps.Map(r.get(0), j);
                        k.setOptions({
                            styles: p
                        });
                        n = new google.maps.Marker({
                            position: o,
                            icon: l,
                            map: k
                        })
                    }
                    q()
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.modal = function() {
                return this.each(function(B, j) {
                    var n = "click",
                        E = f.gdt.Utils.PubSub.UI_EVENTS,
                        d = g(j),
                        y = g("body"),
                        G = g("#gdt .navp header"),
                        D = g("#gdt .navp footer"),
                        v = g("#gdt .navp"),
                        z, m, l, C, s = {
                            bgElementId: "js-modal-bg",
                            displayMode: "all",
                            triggerMode: "button"
                        },
                        F = g.parseJSON(d.attr("data-config")),
                        k = {},
                        t = {
                            close: "modal-close",
                            wrap: "modal-wrap",
                            bgVisible: "modal-bg-visible",
                            wrapVisible: "modal-wrap-visible",
                            wrapScroll: "modal-wrap-scroll",
                            vCentre: "modal-vcentre",
                            bodyClass: "modal-opened"
                        },
                        u = f.gdt.Utils.scrollWidth,
                        r = g(".cq-wcm-edit");

                    function o() {
                        var i = l.height() > g(f).height() ? true : false;
                        return i
                    }

                    function q(H) {
                        var i = {
                            $el: l,
                            config: H
                        };
                        y.addClass(t.bodyClass).css("margin-right", u + "px");
                        G.add(D).css("right", u + "px");
                        z.addClass(t.bgVisible);
                        v.css("z-index", -1);
                        m.scrollTop(0).addClass(t.wrapVisible);
                        if (!o()) {
                            l.addClass(t.vCentre)
                        } else {
                            setTimeout(function() {
                                m.addClass(t.wrapScroll)
                            }, 1000)
                        }
                        g.pubsub("publish", E.modal.opening);
                        if (k.eventGroup) {
                            g.pubsub("publish", E.modal[k.eventGroup].opening, i)
                        }
                        if (g("#checkout").length) {
                            m.find("form textarea").focus()
                        }
                    }

                    function p() {
                        y.removeClass(t.bodyClass).css("margin-right", 0);
                        G.add(D).css("right", 0);
                        z.removeClass(t.bgVisible);
                        v.removeAttr("style");
                        m.removeClass(t.wrapVisible + " " + t.wrapScroll);
                        l.removeClass(t.vCentre);
                        y.find(".modal-wrap").removeClass(t.wrapVisible);
                        g.pubsub("publish", E.modal.closing);
                        if (k.eventGroup) {
                            g.pubsub("publish", E.modal[k.eventGroup].closing)
                        }
                        if (m.has("#languageSelectorOverlay").length) {
                            g.pubsub("publish", E.languageSelectorPopupClose)
                        }
                        if (m.has("#js-subscription-msg-wrapper")) {
                            g.pubsub("publish", E.catalogueMsgClosed)
                        }
                    }

                    function x() {
                        switch (k.triggerMode) {
                            case "list":
                                d.on(n, "li", function(H) {
                                    var i = {
                                        index: g(this).index()
                                    };
                                    q(i);
                                    H.preventDefault()
                                });
                                break;
                            case "error":
                                g.pubsub("subscribe", E[k.eventGroup], function() {
                                    q()
                                });
                                break;
                            default:
                                d.on(n, function(i) {
                                    q();
                                    i.preventDefault()
                                });
                                break
                        }
                        m.on("click", function(i) {
                            if (m.children(".bsoad-overlay").length) {
                                f.console.log("")
                            } else {
                                if (!g(i.target).parents("#" + k.contentId).length) {
                                    p()
                                }
                            }
                        });
                        C.on(n, function() {
                            p()
                        });
                        g(f).smartresize(function() {
                            if (!o() && y.hasClass(t.bodyClass)) {
                                l.addClass(t.vCentre);
                                m.removeClass(t.wrapScroll)
                            } else {
                                l.removeClass(t.vCentre);
                                m.addClass(t.wrapScroll)
                            }
                        })
                    }

                    function w() {
                        z = g("#" + k.bgElementId);
                        l = g("#" + k.contentId);
                        if (!l.parent().hasClass(t.wrap)) {
                            l.wrap('<div class="' + t.wrap + '">')
                        }
                        m = l.closest("." + t.wrap);
                        C = l.find("." + t.close)
                    }

                    function A() {
                        k = g.extend(s, F);
                        w();
                        if (k.displayMode === "desktopOnly") {
                            if (!f.matchMedia("only screen and (max-width: 699px)").matches) {
                                x()
                            }
                        } else {
                            if (k.displayMode === "all") {
                                x()
                            }
                        }
                        g.pubsub("subscribe", E.modal.close, p);
                        g.pubsub("subscribe", E.modal.open, q)
                    }
                    if (!r.length) {
                        A()
                    }
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.paginatedList = function(j, i) {
                var m, d;
                m = {
                    scrollTopOffset: 20
                };
                d = g.extend(m, j);
                var k = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    l = f.gdt.Utils.PubSub.UI_EVENTS;
                return this.each(function(w, p) {
                    var x = g(p),
                        q = x.find("li"),
                        r = x.parent().find(".pagination"),
                        y, u = parseInt(x.attr("data-pageitems"), 10);
                    x.attr(("data-ordernumber"), i);

                    function A() {
                        g("html,body").scrollTop(x.position().top - d.scrollTopOffset)
                    }

                    function n(C) {
                        r.each(function() {
                            var D = g(this);
                            D.find("li").removeClass("active");
                            D.find("li").eq(C - 1).addClass("active");
                            D.find("li").removeClass("visible")
                        }).find("button").prop("disabled", false);
                        if (C === y) {
                            r.find('[rel="next"]').prop("disabled", true)
                        }
                        if (C === 1) {
                            r.find('[rel="prev"]').prop("disabled", true)
                        }
                        if (C === 1 || C === 2 || C === 3) {
                            r.each(function() {
                                g(this).find("li").slice(0, 5).addClass("visible")
                            })
                        } else {
                            if (C === y || C === y - 1 || C === y - 2) {
                                r.each(function() {
                                    g(this).find("li").slice(y - 5, y).addClass("visible")
                                })
                            } else {
                                r.each(function() {
                                    g(this).find("li").eq(C - 1).prev().addClass("visible").prev().addClass("visible");
                                    g(this).find("li").eq(C - 1).next().addClass("visible").next().addClass("visible")
                                })
                            }
                        }
                    }

                    function v(D) {
                        var C = x.find('[data-page="' + D + '"]');
                        x.removeClass("paginated-list-visible").find("li").hide();
                        C.show();
                        n(D);
                        setTimeout(function() {
                            t()
                        }, 100);
                        g.pubsub("publish", l.paginatedList.navigate, C);
                        if (d.eventGroup) {
                            g.pubsub("publish", l.paginatedList[d.eventGroup].navigate, C)
                        }
                    }

                    function t() {
                        x.addClass("paginated-list-visible")
                    }

                    function o() {
                        var E = 0,
                            C = g("<ol></ol>"),
                            D = r.find("ol");
                        q.each(function(F) {
                            if (F % u === 0) {
                                E++;
                                C.append(g('<li data-page="' + E + '"><a href="#">' + E + "</a></li>"))
                            }
                            g(this).attr("data-page", E)
                        });
                        r.find("ol").empty().append(C.html());
                        y = E;
                        if (f.matchMedia("only screen and (min-width: 668px)").matches) {
                            v(1)
                        } else {
                            t()
                        }
                        if (!D.find("li").size()) {
                            r.hide()
                        }
                    }

                    function z() {
                        r.on(k, "a", function(C) {
                            v(parseInt(g(this).closest("li").attr("data-page"), 10));
                            A();
                            C.preventDefault()
                        }).on(k, "button:enabled", function() {
                            var D = r.eq(0).find(".active").index() + 1,
                                C = D;
                            switch (g(this).attr("rel")) {
                                case "next":
                                    C++;
                                    break;
                                case "prev":
                                    C--;
                                    break
                            }
                            v(C);
                            A()
                        });
                        g.pubsub("subscribe", l.paginatedList.reinitialise, s)
                    }

                    function s(D, C) {
                        if (C.$listEl.attr("id") === x.attr("id")) {
                            x.html(C.$newList.html());
                            q = x.find("li");
                            o()
                        }
                    }

                    function B() {
                        o();
                        z()
                    }
                    B();
                    return {
                        reinitialise: s,
                        init: B
                    }
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            function g(l, k) {
                var p = (typeof f.ontouchstart === "undefined") ? "click" : "touchend",
                    q = f.gdt.Utils.PubSub.UI_EVENTS,
                    d, j = [],
                    o = h(k),
                    n = o.attr("class");

                function m() {
                    if (d) {
                        if (j.length) {
                            o.attr("class", j.pop())
                        } else {
                            o.attr("class", n);
                            d = false;
                            h.pubsub("publish", q.shade.closing)
                        }
                    }
                }

                function r(t, s) {
                    if (!d) {
                        h.pubsub("publish", q.shade.opening);
                        o.attr("class", n).addClass("open");
                        if (s.clsname) {
                            setTimeout(function() {
                                o.addClass(s.clsname)
                            }, 10)
                        }
                    } else {
                        j.push(o.attr("class"));
                        o.attr("class", n).addClass("open" + ((s.clsname) ? " " + s.clsname : ""))
                    }
                    d = true;
                    o.off();
                    if (s.clicktoclose) {
                        o.on(p, function(u) {
                            if (h(u.target).is(o)) {
                                m();
                                if (typeof s.clicktoclose === "function") {
                                    s.clicktoclose(u)
                                }
                            }
                        })
                    }
                }
                h.pubsub("subscribe", q.shade.open, r);
                h.pubsub("subscribe", q.shade.close, m);
                o.shade = {
                    openShade: r
                }
            }
            h.fn.shade = function(d, j) {
                if (!d) {
                    return this.each(g)
                }
                if (d === "open" && this.shade) {
                    this.shade.openShade(j)
                }
            };
            h("#js-modal-bg").shade()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.shippingInfo = function() {
                return this.each(function(m, k) {
                    var t = g(k),
                        d = t.find(".shipping-provider-content"),
                        q = t.data("trigger"),
                        j = location.protocol + "//" + location.host + t.data("href"),
                        l = g('[name="' + q + '"]'),
                        p = g('[name="shipping.state"]'),
                        n = g("[name=sameBillingAddress]");

                    function s(i) {
                        d.empty().parent().addClass("loading");
                        t.find(".error").prop("hidden", true).attr("hidden", "hidden");
                        f.gdt.Utils.ajaxCall({
                            type: "GET",
                            url: i,
                            callback: function(u, w, v) {
                                d.parent().removeClass("loading");
                                if (!v.responseURL || v.responseURL === i) {
                                    if (u.length) {
                                        d.html(u)
                                    } else {
                                        l.val("");
                                        t.find('.error[data-type="org.apache.sling.api.SlingException"]').prop("hidden", false).removeAttr("hidden")
                                    }
                                } else {
                                    if (v.responseURL) {
                                        l.val("");
                                        t.find('.error[data-type="' + v.responseURL.split("j_reason=")[1] + '"]').prop("hidden", false).removeAttr("hidden")
                                    }
                                }
                                t.css("background", "none")
                            }
                        })
                    }

                    function o() {
                        l.on("change", function() {
                            var i = n.prop("checked");
                            if (i) {
                                s(j + this.value)
                            }
                        });
                        p.on("change", function() {
                            s(j + this.value)
                        })
                    }

                    function r() {
                        var i = p[0].value;
                        if (i.length) {
                            s(j + i)
                        } else {
                            i = l[0].value;
                            if (i.length) {
                                s(j + i)
                            }
                        }
                        o()
                    }
                    r()
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(l, f, j) {
            f.gdt = f.gdt || {};
            var i = (typeof f.ontouchstart === "undefined") ? "click" : "touchend",
                k = f.gdt.Utils.PubSub.UI_EVENTS,
                h = j("#my-account .component-myactsubscription a.js-edit-btn"),
                g = j("#my-account .component-myactsubscription a.edit");
            j.fn.subscriptions = function() {
                return this.each(function(p, m) {
                    var w = j(m),
                        u = j(".subEdit", w),
                        d = j(".summary", w),
                        x = j("form", w),
                        o = j(".gdt-form", w),
                        v = j("input[name=newsletter]"),
                        s = j("#newsletter-language"),
                        t = s.closest("label");
                    u.on(i, function(y) {
                        y.preventDefault();
                        d.attr("hidden", "hidden").hide();
                        o.removeAttr("hidden").show();
                        u.hide();
                        j.pubsub("publish", f.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated)
                    });
                    v.on("change", function() {
                        if (this.value === "YES") {
                            t.removeAttr("hidden").show();
                            s.removeAttr("disabled")
                        } else {
                            t.attr("hidden", "hidden").hide();
                            s.attr("disabled", "disabled")
                        }
                        j.pubsub("publish", f.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated)
                    });

                    function r() {
                        if (j("input[name=newsletter]:checked", "#update-subscriptions").val() === "YES") {
                            t.removeAttr("hidden").show();
                            s.removeAttr("disabled")
                        } else {
                            t.attr("hidden", "hidden").hide();
                            s.attr("disabled", "disabled")
                        }
                    }

                    function n(y) {
                        j("#js-subscription-msg-wrapper .error-msg").append("<div>" + f.gdt.Utils.Console.log(y) + "<div>").show()
                    }

                    function q() {
                        j("#js-show-subscription-msg").modal();
                        j("#js-show-subscription-msg").trigger("click");
                        j("#js-subscription-msg-wrapper .success-msg").show();
                        j("#js-subscription-submit-btn").removeClass("loading")
                    }
                    r();
                    j("div.modal-subscription-msg .close-btn").on(i, function(y) {
                        j("div.modal-subscription-msg .modal-close").click();
                        y.preventDefault()
                    });
                    j.pubsub("subscribe", k.catalogueMsgClosed, function() {
                        d.removeAttr("hidden").show();
                        o.attr("hidden", "hidden").hide();
                        if (!f.gdt.Utils.Browser.isMobileLayout) {
                            g.show()
                        } else {
                            h.show()
                        }
                        j('#update-subscriptions .paneraiupdates input[type="radio"]:checked').each(function() {
                            j("div.summary p:first").find("strong").text(j(this).next("span").text())
                        });
                        j('#update-subscriptions .newsletter input[type="radio"]:checked').each(function() {
                            j("div.summary p:last").find("strong").text(j(this).next("span").text())
                        })
                    });
                    j("#js-subscription-submit-btn").on(i, function(y) {
                        j("#js-subscription-submit-btn").addClass("loading");
                        j.ajax({
                            type: x.attr("method"),
                            url: x.attr("action"),
                            data: x.serialize(),
                            success: q,
                            error: n,
                        });
                        y.preventDefault()
                    })
                })
            };
            j(".component-myactsubscription").subscriptions()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.tabAccordion = function(i) {
                var k, d;
                k = {
                    trigger: ".accordion-tabs-trigger",
                    closeOthers: false
                };
                d = g.extend(k, i);

                function j(l) {
                    l.parents(".accordion-tabs-content-active").each(function() {
                        var n = g(this).children(".accordion-tabs-inner"),
                            m = n.children(".mobile-height-calc").height();
                        n.css("height", m + "px")
                    })
                }
                return this.each(function(o, q) {
                    var n = g(q),
                        l = n.children(".accordion-tabs-nav"),
                        m = n.children(".accordion-tabs-content");

                    function p() {
                        l.on("click", "li", function(u) {
                            var t = g(this),
                                s = g(t.find("a").attr("href"));
                            u.preventDefault();
                            l.find(".accordion-tabs-nav-active").removeClass("accordion-tabs-nav-active");
                            t.addClass("accordion-tabs-nav-active");
                            m.children(".accordion-tabs-content-active").removeClass("accordion-tabs-content-active");
                            s.addClass("accordion-tabs-content-active");
                            j(n);
                            if (t.prop("id") === "boutiquePickTab") {
                                g.pubsub("publish", f.gdt.Utils.PubSub.UI_EVENTS.boutiqueTabClicked)
                            }
                            if (t.prop("id") === "shippingOptionsTab") {
                                g.pubsub("publish", f.gdt.Utils.PubSub.UI_EVENTS.shippingTabClicked)
                            }
                        });
                        m.on("click", d.trigger, function() {
                            g.pubsub("publish", f.gdt.Utils.PubSub.UI_EVENTS.orderTabClicked);
                            var w = g(this),
                                v = w.closest("section"),
                                x = v.children(".accordion-tabs-inner"),
                                s = x.children(".mobile-height-calc").height(),
                                t = w.hasClass("close"),
                                u = g(".accordion-tabs-content").find("section");
                            if (d.closeOthers) {
                                m.children("section").children(d.trigger).removeClass("close");
                                m.children("section").children(".accordion-tabs-inner").css("height", 0)
                            }
                            if (f.gdt.Utils.Browser.isMobileLayout) {
                                u.removeClass("accordion-tabs-content-active")
                            }
                            if (t) {
                                w.removeClass("close");
                                x.css("height", "0px")
                            } else {
                                w.addClass("close");
                                v.addClass("accordion-tabs-content-active");
                                x.css("height", s + "px")
                            }
                            j(n)
                        });
                        g.pubsub("subscribe", f.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated, function() {
                            j(n);
                            f.gdt.MyOrderHistory.addListeners()
                        })
                    }

                    function r() {
                        p();
                        m.children(".accordion-tabs-content-active").children(d.trigger + ".initial").trigger("click");
                        if (g(".boutique-details").length > 0) {
                            var v = g(".accordion-tabs-nav").find(".accordion-tabs-nav-active a").attr("href"),
                                s = v.substring(1),
                                u = g("section#" + s),
                                t = u.find(".accordion-tabs-inner").find(".mobile-height-calc").height();
                            u.addClass("accordion-tabs-content-active");
                            u.find(".accordion-tabs-inner").height(t);
                            u.find("h4").addClass("close")
                        }
                    }
                    r()
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            g.fn.verticalGallery = function() {
                var d = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    i = f.gdt.Utils.PubSub.UI_EVENTS;
                return this.each(function() {
                    var j, w, t, u = g(".video-js");

                    function o(x) {
                        var z = g.trim(x.html()),
                            y;
                        z = g.parseHTML(z);
                        y = g(z);
                        x.replaceWith(y);
                        f.picturefill()
                    }

                    function q() {
                        t.each(function() {
                            var x = g(this);
                            if (x.find('[type="text/x-tmpl"]').length) {
                                o(g(this).find('[type="text/x-tmpl"]'))
                            }
                        })
                    }

                    function r(x) {
                        j.find(".scroll").addClass("no-transition");
                        j.akcarousel("move", x);
                        setTimeout(function() {
                            j.find(".scroll").removeClass("no-transition")
                        }, 1000)
                    }

                    function k(x) {
                        j.akcarousel({
                            delay: 5000,
                            horizontal: true,
                            scrollNode: true,
                            autoSwitch: false,
                            scrollSpeed: 1000,
                            easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                            navarrows: true
                        });
                        r(x)
                    }

                    function n(z) {
                        var x = z.controlBar,
                            A = x.addChild("button").addClass("pan-volume");
                        for (var y = 0; y < 4; y++) {
                            A.addChild("button").addClass("volumelevel level" + (y + 1) + " active")
                        }
                        g(A.el_).on(d, ".volumelevel", function() {
                            var D = g(this),
                                B = ".volumelevel",
                                E = D.parent().find(B),
                                C = D.index(B) + 1 / E.size();
                            z.volume(C);
                            E.removeClass("active").filter(":lt(" + parseInt(D.index(B) + 1, 10) + ")").addClass("active")
                        });
                        z.on("play", function() {
                            g(z.el_).parent().addClass("video-playing");
                            x.show()
                        });
                        z.on("ended", function() {
                            g(z.el_).parent().removeClass("video-playing");
                            x.hide()
                        })
                    }

                    function p() {
                        u.each(function() {
                            f.videojs(g(this).get(0), {
                                nativeControlsForTouch: false
                            }).ready(function() {
                                n(this)
                            })
                        })
                    }

                    function s() {
                        w.on(d, function(A) {
                            var z = g(this),
                                y = z.index() - 1,
                                x = y === 0 ? "--" : "++";
                            j.akcarousel("move", x);
                            A.preventDefault()
                        })
                    }

                    function m(x) {
                        j = x.find(".js-vertical-gallery-carousel");
                        w = j.find(".carousel-hero-nav");
                        t = j.find("li")
                    }

                    function l(A, z) {
                        var y = {
                                message: A,
                                $modalContent: z.$el,
                                startIndex: z.config.index
                            },
                            x = y.$modalContent;
                        if (!x.attr("data-initialised")) {
                            m(x);
                            k(y.startIndex);
                            p();
                            q();
                            f.picturefill();
                            s();
                            x.attr("data-initialised", true)
                        } else {
                            r(y.startIndex)
                        }
                    }

                    function v() {
                        g.pubsub("subscribe", i.modal.verticalGallery.opening, l)
                    }
                    v()
                })
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            f.gdt = f.gdt || {};
            var i = function() {
                var z = /^[^@]+([@]{1})[0-9a-zA-Z\._-]+([\.]{1})[0-9a-zA-Z\._-]+$/,
                    q = /^[+]?[0-9\-.()\s]{1,}$/,
                    y = "error",
                    A = "has-error",
                    n = "has-error",
                    H = f.gdt.Utils.PubSub.UI_EVENTS;

                function F(L) {
                    return L && L.name && L.type !== "radio" && !g(L).is(":disabled")
                }

                function k(L) {
                    if (!L) {
                        return
                    }
                    g(L).prop("hidden", false);
                    g(L).removeAttr("hidden")
                }

                function s(L) {
                    if (!L) {
                        return
                    }
                    g(L).prop("hidden", true);
                    g(L).attr("hidden", "hidden")
                }

                function B(M) {
                    if (!M) {
                        return
                    }
                    var L = g(M);
                    if (!L.find("span." + y + ":not([hidden])").length) {
                        L.removeClass(n)
                    }
                }

                function m(O, N) {
                    if (!F(O)) {
                        return
                    }
                    var M = g(O),
                        L = M.closest("label");
                    L.find("span." + y + (N ? "." + N : "")).each(function(Q, P) {
                        s(P)
                    });
                    if (!L.find("span." + y + ":not([hidden])").length) {
                        M.removeClass(A);
                        L.removeClass(A);
                        B(O.form)
                    }
                }

                function o(M) {
                    if (!M) {
                        return
                    }
                    var L = g(M);
                    L.removeClass(n);
                    L.find("span." + y).each(function(O, N) {
                        s(N)
                    });
                    L.find("." + A).removeClass(A);
                    g.pubsub("publish", H.resetForm)
                }

                function I(P, O) {
                    if (!F(P) || !O) {
                        return
                    }
                    var M = g(P),
                        L = M.closest("label"),
                        N = L.find("span." + y + "." + O)[0];
                    m(P);
                    M.addClass(A);
                    L.addClass(A);
                    g(P.form).addClass(n);
                    k(N)
                }

                function x(L) {
                    return !F(L) || !f.gdt.Utils.Browser.isOldIE || L.value !== g(L).attr("placeholder")
                }

                function p(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L;
                    if (M.type === "checkbox") {
                        L = M.checked
                    } else {
                        L = M.value.length > 0
                    }
                    return L
                }

                function G(L) {
                    return !F(L) || cq5forms_regcheck(L.value, z)
                }

                function r(L) {
                    return !F(L) || cq5forms_regcheck(L.value, q)
                }

                function D(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L = parseInt(g(M).attr("minlength"), 10);
                    return M.value.length === 0 || M.value.length >= L
                }

                function v(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L = parseInt(g(M).attr("maxlength"), 10);
                    return (M.value.length <= L)
                }

                function E(M, L) {
                    if (!M || !L) {
                        return true
                    }
                    return M.value === L.value
                }

                function u(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L = !g(M).attr("required") || (x(M) && p(M));
                    m(M, "required");
                    if (!L) {
                        I(M, "required")
                    }
                    return L
                }

                function j(M) {
                    if (!F(M) || !M.name) {
                        return true
                    }
                    var L = (M.type !== "email" && M.name.indexOf("email") < 0 && M.className.indexOf("email") < 0) || G(M);
                    m(M, "email");
                    if (!L) {
                        I(M, "email")
                    }
                    return L
                }

                function K(M) {
                    if (!F(M) || !M.name) {
                        return true
                    }
                    var L = !g(M).attr("required") || (M.name.indexOf("phone") < 0 && M.name.indexOf("mobile") < 0) || r(M);
                    m(M, "phone");
                    if (!L) {
                        I(M, "phone")
                    }
                    return L
                }

                function w(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L = !g(M).attr("minlength") || D(M);
                    m(M, "minlength");
                    if (!L) {
                        I(M, "minlength")
                    }
                    return L
                }

                function C(M) {
                    if (!F(M)) {
                        return true
                    }
                    var L = !g(M).attr("maxlength") || v(M);
                    m(M, "maxlength");
                    if (!L) {
                        I(M, "maxlength")
                    }
                    return L
                }

                function t(P) {
                    if (!F(P)) {
                        return true
                    }
                    var O = true,
                        N;
                    if (P.name.indexOf("confirm-") === 0) {
                        N = P.form.elements[P.name.replace("confirm-", "")];
                        if (N.length) {
                            for (var M = 0; M < N.length; M++) {
                                var L = N[M];
                                if (F(L)) {
                                    O = E(P, L);
                                    break
                                }
                            }
                        } else {
                            if (F(N)) {
                                O = E(P, N)
                            }
                        }
                    }
                    m(P, "confirm");
                    if (!O) {
                        I(P, "confirm")
                    }
                    return O
                }

                function J(N) {
                    if (!F(N) || !N.value.length) {
                        return true
                    }
                    var L = f.gdt.Validate.ext || {},
                        O, M = true;
                    for (O in L) {
                        if (M && L.hasOwnProperty(O) && N.className.indexOf(L[O].type) >= 0 && !L[O].getValidity(N.value)) {
                            I(N, L[O].type);
                            M = false
                        }
                    }
                    return M
                }

                function d(M) {
                    var L = true;
                    if (M !== "undefined" && !g(M).prop("disabled") && !g(M).parents("[disabled]").length) {
                        L = u(M);
                        L = L ? j(M) : false;
                        L = L ? K(M) : false;
                        L = L ? w(M) : false;
                        L = L ? C(M) : false;
                        L = L ? t(M) : false;
                        L = L ? J(M) : false
                    }
                    return L
                }

                function l(Q) {
                    var P = document.getElementById(Q) || document.forms(Q),
                        O = [],
                        N = true,
                        M, L;
                    for (M = P.elements.length - 1; M >= 0; M--) {
                        if (P.elements[M].name && P.elements[M].type !== "hidden" && P.elements[M].style.display !== "none") {
                            O.push(P.elements[M])
                        }
                    }
                    for (L = O.length - 1; L >= 0; L--) {
                        if (!d(O[L], P)) {
                            N = false
                        }
                    }
                    return N
                }
                f.gdt.test = f.gdt.test || {};
                f.gdt.test.validate = {
                    getPlaceholderValidity: x,
                    getRequiredValidity: p,
                    getEmailValidity: G,
                    getPhoneNumberValidity: r,
                    getMinLengthValidity: D,
                    getMaxLengthValidity: v,
                    getConfirmValidity: E,
                    checkRequired: u,
                    checkEmail: j,
                    checkPhoneNumber: K,
                    checkMinLength: w,
                    checkMaxLength: C,
                    checkConfirm: t
                };
                return {
                    field: d,
                    form: l,
                    clear: o
                }
            };
            f.gdt.Validate = new i()
        }(document, window, window.jQuery || window.Zepto));
        (function(I, t, l) {
            t.gdt = t.gdt || {};
            t.gdt.snbFilteredResultsData = {};
            var p = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                z = l("#accMoreFilters"),
                r = l("#showHideFiltersBtn"),
                F = l("#openFiltersM"),
                q = z.find(".resetBtn"),
                k = l("#snb-selection"),
                j = k.find(".normSelection"),
                m = k.find(".refSelection"),
                f = t.location.search.indexOf("checkBoutique="),
                C = t.location.search.indexOf("wid="),
                o = l("#accFilters"),
                s = l("#soldOnlnie"),
                y = l("html"),
                D = location.href,
                H, E, G;
            if (!t.gdt.Utils.Browser.isMobileLayout) {
                z.find(".showHideFilters .fColumn").mCustomScrollbar({
                    scrollInertia: 0
                })
            }

            function B(w) {
                w = w.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var d = "[\\?&]" + w + "=([^&#]*)";
                var L = new RegExp(d);
                var K = L.exec(window.location.href);
                if (K === null) {
                    return ""
                } else {
                    return K[1]
                }
            }

            function u() {
                l(document).on(p, "#snb-selection .mView", function() {
                    l(this).parents("#snb-selection").toggleClass("active")
                });
                l(".accMoreFilters .fColumn h3").on(p, function() {
                    var ai = l(this).parents(".fColumn");
                    ai.siblings().removeClass("active");
                    l(this).parents(".fColumn").toggleClass("active")
                });
                l(".accMoreFilters .mView .closeMe").on(p, function(ai) {
                    ai.preventDefault();
                    y.removeClass("accMoreFiltersOpen");
                    z.removeClass("openMobile");
                    l(".section.navp").show()
                });
                F.on(p, function(ai) {
                    ai.preventDefault();
                    y.addClass("accMoreFiltersOpen");
                    z.addClass("openMobile");
                    l(".section.navp").hide()
                });
                r.on(p, function(ak) {
                    ak.preventDefault();
                    var aj = l(this).data("minimise"),
                        ai = l(this).text();
                    z.toggleClass("inactive");
                    l(this).data("minimise", ai);
                    r.text(aj)
                });
                q.on(p, function(ai) {
                    ai.preventDefault();
                    l(this).parents("form:first").trigger("reset");
                    z.find("fieldset").each(function() {
                        var aj = l(this);
                        aj.find('input[type="checkbox"]').prop("checked", false);
                        aj.find('input[type="checkbox"][id$="-all"]').prop("checked", true)
                    });
                    q.removeClass("visible")
                });
                z.find("fieldset").each(function() {
                    var aj = l(this),
                        ai = aj.find('input[type="checkbox"]');
                    ai.on("change", function() {
                        if (l(this).is('[id$="-all"]')) {
                            ai.filter(':not([id$="-all"]):checked').prop("checked", false);
                            q.removeClass("visible")
                        } else {
                            if (ai.filter(':not([id$="-all"]):checked').val()) {
                                aj.find('input[type="checkbox"][id$="-all"]').prop("checked", false)
                            } else {
                                aj.find('input[type="checkbox"][id$="-all"]').prop("checked", true);
                                q.removeClass("visible")
                            }
                        }
                        z.find('input[type="checkbox"]').not('input[value="0"]').each(function() {
                            if (l(this).prop("checked")) {
                                q.addClass("visible");
                                return false
                            }
                        })
                    })
                });
                var R = window.gdt.snbData.split(".json")[0] + "." + E + "-" + H + ".json",
                    d = B("case"),
                    aa = B("case-diameter"),
                    ac = B("buckle-type"),
                    M = B("buckle-size"),
                    U = ac.replace(/[&\/\\#,+()$~.'":*<>{}]/gi, " "),
                    Q = t.location.search,
                    w = B("wid"),
                    ab = B("bid"),
                    K = B("sid"),
                    N = B("ref"),
                    ag = Q.indexOf("wid="),
                    Z = Q.indexOf("ref=");
                d = d.replace(new RegExp("%7C", "g"), "|");
                aa = aa.replace(new RegExp("%7C", "g"), "|");
                U = U.replace(new RegExp("%7C", "g"), "|");
                M = M.replace(new RegExp("%7C", "g"), "|");
                var ah, ae, O, P;
                ah = d.substring(d.indexOf("|") + 1);
                d = d.substring(0, d.indexOf("|"));
                ae = U.substring(U.indexOf("|") + 1);
                U = U.substring(0, U.indexOf("|"));
                O = aa.substring(aa.indexOf("|") + 1);
                aa = aa.substring(0, aa.indexOf("|"));
                P = M.substring(M.indexOf("|") + 1);
                M = M.substring(0, M.indexOf("|"));
                if (K || ab) {
                    l("header").find("a.back:first").remove()
                }
                if (ag > 0 && Z > 0) {
                    var ad = l("header").find("a.back:first");
                    if (ad.length) {
                        var T = ad.attr("href"),
                            af = window.location.href.slice(window.location.href.indexOf("?") + 1),
                            V = T.replace(".html", ".REF-" + N + ".html?" + af);
                        ad.attr("href", V)
                    }
                } else {
                    if (d.length > 0 && aa.length > 0) {
                        var S = l("header").find("a.back:first");
                        if (S.length) {
                            var L = S.attr("href"),
                                X = window.location.href.slice(window.location.href.indexOf("?") + 1),
                                W = L.replace(".html", ".html?" + X);
                            S.attr("href", W)
                        }
                    }
                }
                l("#mobileAccCheckFilters").find("[name=mobile-acc-filter]").on("click", function() {
                    if (l(this).val() === "online") {
                        l("#accMoreFilters").find(".resetBtn").addClass("visible")
                    }
                });
                l("#accMoreFilters form button").on(p, function(aS) {
                    aS.preventDefault();
                    l("#openFiltersM").addClass("clicked");
                    l("#accMoreFilters").removeClass("openMobile");
                    y.removeClass("accMoreFiltersOpen");
                    l(".soldOnlnie").find("a").removeClass("active");
                    l(".soldOnlnie").find("a:first").addClass("active");
                    l(".section.navp").show();
                    var aN = l(this).parents("form:first");
                    var aK = "";
                    aN.find("input[type=checkbox]").each(function() {
                        if (l(this).is(":checked")) {
                            aK += l(this).attr("name") + "=" + l(this).val() + "&"
                        }
                    });
                    var ak = aK.split("&");
                    var aT = {};
                    for (var aR = ak.length; aR--;) {
                        var aQ = ak[aR].split("="),
                            aL = aQ[0].replace("[]", ""),
                            aj = aQ[1];
                        aT[aL] = aT[aL] || [];
                        aT[aL].push(aj)
                    }
                    var ao = aT["snb-material"],
                        aV = aT["snb-finishing"],
                        ap = aT["snb-color"],
                        av = aT["snb-size"];
                    if (ao !== undefined) {
                        for (var aY = 0; aY < ao.length; aY++) {
                            t.console.log(ao[aY])
                        }
                    }
                    if (aV !== undefined) {
                        for (var aX = 0; aX < aV.length; aX++) {
                            t.console.log(aV[aX])
                        }
                    }
                    if (ap !== undefined) {
                        for (var aW = 0; aW < ap.length; aW++) {
                            t.console.log(ap[aW])
                        }
                    }
                    if (av !== undefined) {
                        for (var aU = 0; aU < av.length; aU++) {
                            t.console.log(av[aU])
                        }
                    }
                    l("#resultsummary").each(function() {
                        var a6 = l(this),
                            bc = a6.find(".material"),
                            a8 = a6.find(".finishing"),
                            a1 = a6.find(".color"),
                            bb = a6.find(".size");
                        var ba = [];
                        if (ao !== undefined) {
                            for (var a9 = 0; a9 < ao.length; a9++) {
                                ba.push(aN.find('input[name="snb-material"][value="' + ao[a9] + '"]').next().text())
                            }
                        }
                        var a2 = [];
                        if (aV !== undefined) {
                            for (var a7 = 0; a7 < aV.length; a7++) {
                                a2.push(aN.find('input[name="snb-finishing"][value="' + aV[a7] + '"]').next().text())
                            }
                        }
                        var a4 = [];
                        if (ap !== undefined) {
                            for (var a5 = 0; a5 < ap.length; a5++) {
                                a4.push(aN.find('input[name="snb-color"][value="' + ap[a5] + '"]').next().text())
                            }
                        }
                        var a0 = [];
                        if (av !== undefined) {
                            for (var a3 = 0; a3 < av.length; a3++) {
                                a0.push(aN.find('input[name="snb-size"][value="' + av[a3] + '"]').next().text())
                            }
                        }
                        bc.text(ba);
                        a8.text(a2);
                        a1.text(a4);
                        bb.text(a0)
                    });
                    var aB = [];
                    var aG = {};
                    var aE;
                    aG.property = "material";
                    aG.data = ao;
                    if (aG.data !== undefined && aG.data.length === 1 && aG.data[0] === "0") {
                        aG.data = [];
                        aE = true
                    }
                    aB.push(aG);
                    var aq = {};
                    var ax;
                    aq.property = "finishing";
                    aq.data = aV;
                    if (aq.data !== undefined && aq.data.length === 1 && aq.data[0] === "0") {
                        aq.data = [];
                        ax = true
                    }
                    aB.push(aq);
                    var aD = {};
                    var aJ;
                    aD.property = "color";
                    aD.data = ap;
                    if (aD.data !== undefined && aD.data.length === 1 && aD.data[0] === "0") {
                        aD.data = [];
                        aJ = true
                    }
                    aB.push(aD);
                    var aH = {};
                    var al;
                    aH.property = "size";
                    aH.data = av;
                    if (aH.data !== undefined && aH.data.length === 1 && aH.data[0] === "0") {
                        aH.data = [];
                        al = true
                    }
                    aB.push(aH);
                    if (aE && ax || aE && aJ && al) {
                        l("#js-search-results").empty();
                        var aC = [],
                            aM = 0,
                            au;
                        l.each(t.gdt.snbFilteredResultsData.data, function(a0, a1) {
                            aM++;
                            au = h(a1);
                            aC.push(au)
                        });
                        var aO = l("#resultsummary");
                        aO.each(function() {
                            var a1 = l(this),
                                a0 = a1.find(".count");
                            a0.text(aM)
                        });
                        l("<div/>", {
                            "class": "my-new-list",
                            html: aC.join("")
                        }).appendTo("#js-search-results");
                        n()
                    } else {
                        l("#js-search-results").empty();
                        var at = t.gdt.snbFilteredResultsData.data;
                        var aI = 0;
                        var aP = [];
                        l.each(aB, function(a0, a1) {
                            aP = [];
                            if (a1.data !== undefined && a1.data.length > 0) {
                                l.each(at, function(a3, a4) {
                                    for (var a2 = 0; a2 < a1.data.length; a2++) {
                                        if (a1.data[a2] === a4[a1.property]) {
                                            aP.push(a4)
                                        }
                                    }
                                });
                                at = aP
                            }
                        });
                        var aA = [],
                            ay;
                        l.each(at, function(a0, a1) {
                            aI++;
                            ay = h(a1);
                            aA.push(ay);
                            n()
                        });
                        var aw = l("#resultsummary");
                        aw.each(function() {
                            var a1 = l(this),
                                a0 = a1.find(".count");
                            a0.text(aI)
                        });
                        l("<div/>", {
                            "class": "my-new-list",
                            html: aA.join("")
                        }).appendTo("#js-search-results");
                        n()
                    }
                    if (t.gdt.Utils.Browser.isMobileLayout) {
                        var an = l("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").val(),
                            az = l("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").next().text();
                        if (an === "online") {
                            var ar = l("#js-search-results"),
                                am = ar.find("a"),
                                aZ = am.length,
                                aF = ar.find(".sFALSE").length;
                            var ai = l("#resultsummary");
                            ai.each(function() {
                                var a1 = l(this),
                                    a0 = a1.find(".count");
                                a0.text(aZ - aF)
                            });
                            l(".soldOnlineAccessories").text(az);
                            l("#js-search-results").find(".sFALSE").hide()
                        }
                        t.gdt.ProdComparator.overlayPositionHandler()
                    }
                });
                l.getJSON(R, function(al) {
                    t.gdt.snbFilteredResultsData.data = [];
                    var aj = l("#mobileAccCheckFilters").find("[name=mobile-acc-filter]:checked").val();
                    var ap = [],
                        ax = [],
                        ao = 0,
                        aw;
                    if (C !== -1) {
                        l.each(al.productsDetail, function(ay, az) {
                            var aA = "";
                            if (az["product-family"] === "WBR" && t.gdt.Utils.Browser.isMobileLayout) {
                                aA = ""
                            }
                            ao++;
                            aw = h(az);
                            ap.push(aw);
                            n();
                            t.gdt.snbFilteredResultsData.data.push(az)
                        })
                    } else {
                        l.each(al.productsDetail, function(ay, az) {
                            if (az.collections[d] !== undefined && az.collections[d].length > 0) {
                                l.each(az.collections[d], function(aB, aA) {
                                    var aC = "";
                                    if (az["product-family"] === "WBR" && t.gdt.Utils.Browser.isMobileLayout) {
                                        aC = ""
                                    }
                                    if (f !== -1) {
                                        if (M === "" && U === "") {
                                            if (aA === aa.toString() && az["sold-online"] === "TRUE") {
                                                ao++;
                                                aw = h(az);
                                                ap.push(aw);
                                                t.gdt.snbFilteredResultsData.data.push(az)
                                            }
                                        } else {
                                            if (U === "") {
                                                if (aA === aa.toString() && az["buckle-width"] === M) {
                                                    ao++;
                                                    aw = h(az);
                                                    ap.push(aw);
                                                    t.gdt.snbFilteredResultsData.data.push(az)
                                                }
                                                if (aA === aa.toString() && az["buckle-width"] === M && az["sold-online"] === "TRUE") {
                                                    ao++;
                                                    aw = h(az);
                                                    ap.push(aw);
                                                    t.gdt.snbFilteredResultsData.data.push(az)
                                                }
                                            } else {
                                                if (M === "") {
                                                    if (aA === aa.toString() && az["buckle-type"] === U && az["sold-online"] === "TRUE") {
                                                        ao++;
                                                        aw = h(az);
                                                        ap.push(aw);
                                                        t.gdt.snbFilteredResultsData.data.push(az)
                                                    }
                                                } else {
                                                    if (aA === aa.toString() && az["buckle-type"] === U && az["buckle-width"] === M && az["sold-online"] === "TRUE") {
                                                        ao++;
                                                        aw = h(az);
                                                        ap.push(aw);
                                                        t.gdt.snbFilteredResultsData.data.push(az)
                                                    }
                                                }
                                            }
                                        }
                                        if (U !== "") {
                                            if (aA === aa.toString() && az["buckle-type"] !== U && az["sold-online"] === "TRUE") {
                                                aw = h(az);
                                                ax.push(aw)
                                            }
                                        }
                                    } else {
                                        if (s.length === 0) {
                                            if (M === "" && U === "") {
                                                if (aA === aa.toString() && az["sold-online"] === "FALSE") {
                                                    ao++;
                                                    aw = h(az);
                                                    ap.push(aw);
                                                    t.gdt.snbFilteredResultsData.data.push(az)
                                                }
                                            } else {
                                                if (U === "") {
                                                    if (aA === aa.toString() && az["buckle-width"] === M && az["sold-online"] === "FALSE") {
                                                        ao++;
                                                        aw = h(az);
                                                        ap.push(aw);
                                                        t.gdt.snbFilteredResultsData.data.push(az)
                                                    }
                                                } else {
                                                    if (M === "") {
                                                        if (aA === aa.toString() && az["buckle-type"] === U && az["sold-online"] === "FALSE") {
                                                            ao++;
                                                            aw = h(az);
                                                            ap.push(aw);
                                                            t.gdt.snbFilteredResultsData.data.push(az)
                                                        }
                                                    } else {
                                                        if (aA === aa.toString() && az["buckle-type"] === U && az["buckle-width"] === M && az["sold-online"] === "FALSE") {
                                                            ao++;
                                                            aw = h(az);
                                                            ap.push(aw);
                                                            t.gdt.snbFilteredResultsData.data.push(az)
                                                        }
                                                    }
                                                }
                                            }
                                            if (U !== "") {
                                                if (aA === aa.toString() && az["buckle-type"] !== U && az["sold-online"] === "FALSE") {
                                                    aw = h(az);
                                                    ax.push(aw)
                                                }
                                            }
                                        } else {
                                            if (M === "" && U === "") {
                                                if (aA === aa.toString()) {
                                                    aw = h(az);
                                                    ap.push(aw);
                                                    ao++;
                                                    t.gdt.snbFilteredResultsData.data.push(az)
                                                }
                                            } else {
                                                if (U === "") {
                                                    if (aA === aa.toString() && az["buckle-width"] === M) {
                                                        t.console.log(az.length);
                                                        aw = h(az);
                                                        ap.push(aw);
                                                        ao++;
                                                        t.gdt.snbFilteredResultsData.data.push(az)
                                                    }
                                                } else {
                                                    if (M === "") {
                                                        if (aA === aa.toString() && az["buckle-type"] === U) {
                                                            ao++;
                                                            aw = h(az);
                                                            ap.push(aw);
                                                            t.gdt.snbFilteredResultsData.data.push(az)
                                                        }
                                                    } else {
                                                        if (aA === aa.toString() && az["buckle-type"] === U && az["buckle-width"] === M) {
                                                            ao++;
                                                            aw = h(az);
                                                            ap.push(aw);
                                                            t.gdt.snbFilteredResultsData.data.push(az)
                                                        }
                                                    }
                                                }
                                            }
                                            if (U !== "") {
                                                if (aA === aa.toString() && az["buckle-type"] !== U) {
                                                    aw = h(az);
                                                    ax.push(aw)
                                                }
                                            }
                                        }
                                    }
                                })
                            }
                        })
                    }
                    var ai = l("#strapsWidhDiffBuckles");
                    if (!t.gdt.Utils.Browser.isMobileLayout && ai.length && ax.length) {
                        var at = ax,
                            an = '<ul class="product-list">';
                        for (var av = 0; av <= 2; av++) {
                            if (at.length > av) {
                                an += '<li class="product-list-item">' + at[av] + "</li>"
                            }
                        }
                        ai.append(an).show()
                    }
                    var ar = l("#resultsummary");
                    ar.each(function() {
                        var az = l(this),
                            ay = az.find(".count");
                        ay.text(ao);
                        if (f !== -1 && ao !== 0) {
                            l("#mobileAccCheckFilters").hide()
                        } else {
                            l("mobileAccCheckFilters").show()
                        }
                    });
                    l("<div/>", {
                        "class": "my-new-list",
                        html: ap.join("")
                    }).appendTo("#js-search-results");
                    l("#js-search-results").removeClass("loading");
                    if (aj === "online") {
                        var au = l("#js-search-results"),
                            am = au.find("a"),
                            aq = am.length,
                            ak = au.find(".sFALSE").length;
                        ar = l("#resultsummary");
                        ar.each(function() {
                            var az = l(this),
                                ay = az.find(".count");
                            ay.text(aq - ak)
                        });
                        l("#js-search-results").find(".sFALSE").hide()
                    }
                    n()
                });
                var Y = l("#snb-selection");
                Y.each(function() {
                    var ao = l(this),
                        ai = ao.find(".case"),
                        am = ao.find(".diameter"),
                        al = ao.find(".pin"),
                        an = ao.find(".ref"),
                        ak = ao.find(".bref"),
                        aj = ao.find(".sref");
                    if (P || ae) {
                        if (P === "" && ae !== "") {
                            al.text(ae.replace(/[+]/gi, " ")).parent().show()
                        } else {
                            if (P !== "" && ae === "") {
                                al.text(P.replace(/[+]/gi, " ")).parent().show()
                            } else {
                                al.text(ae.replace(/[+]/gi, " ") + "-" + P.replace(/[+]/gi, " ")).parent().show()
                            }
                        }
                    }
                    if (ab) {
                        ak.text(ab).parent().show()
                    }
                    if (K) {
                        aj.text(K).parent().show()
                    }
                    if (ah) {
                        ai.text(ah.replace(/[+]/gi, " ")).parent().show()
                    }
                    if (O) {
                        am.text(O.replace(/[+]/gi, " ")).parent().show()
                    }
                    an.text(w)
                });
                if (ag !== -1) {
                    m.addClass("show");
                    j.removeClass("show")
                } else {
                    m.removeClass("show");
                    j.addClass("show")
                }
            }

            function x() {
                l("#accFilters").find(".accFilters").each(function() {
                    var K = l(this),
                        w = K.find("label"),
                        N = w.find("input[type=text]"),
                        M = K.find("label.mandatory"),
                        L = M.find("select"),
                        d = K.find(".error");
                    K.on("submit", function(P) {
                        var O = false;
                        L.each(function() {
                            if (l(this).val() === "") {
                                O = true
                            }
                        });
                        if (O) {
                            P.preventDefault();
                            M.addClass("has-error");
                            N.addClass("has-error");
                            d.addClass("has-error")
                        }
                    })
                })
            }

            function i() {
                var w = t.location.search,
                    K = w.indexOf("checkBoutique=");
                k.each(function() {
                    var O = l(this),
                        N = O.find("a"),
                        M = N.attr("href"),
                        L = N.data("eboutique");
                    if (K !== -1) {
                        N.attr("href", L + w)
                    } else {
                        N.attr("href", M + w)
                    }
                });
                if (t.gdt.Utils.Browser.isMobileLayout) {
                    var d = k.clone(true);
                    l("main").prepend(d);
                    k.hide()
                }
            }
            l(".soldOnlnie").each(function() {
                var L = l(this),
                    K = L.find(".soldOnline"),
                    w = L.find(".viewAll"),
                    d = l("#resultsummary .count");
                K.on(p, function(O) {
                    O.preventDefault();
                    var N = l("#js-search-results"),
                        M = N.find(".sTRUE").length;
                    K.addClass("active");
                    w.removeClass("active");
                    l("#js-search-results").find(".sFALSE").hide();
                    d.text(M);
                    t.gdt.ProdComparator.overlayPositionHandler()
                });
                w.on(p, function(O) {
                    O.preventDefault();
                    var M = l("#js-search-results"),
                        N = M.find("div.list-item-detail-wrapper").length;
                    w.addClass("active");
                    K.removeClass("active");
                    l("#js-search-results").find(".sFALSE").show();
                    d.text(N);
                    t.gdt.ProdComparator.overlayPositionHandler()
                })
            });

            function v() {
                var d = o.find(".radio-list");
                d.find('input[type="radio"]').click(function() {
                    if (l(this).attr("value") === "REF") {
                        o.find(".refSection").addClass("show");
                        o.find(".watchDetailBox").removeClass("show")
                    } else {
                        o.find(".watchDetailBox").addClass("show");
                        o.find(".refSection").removeClass("show")
                    }
                })
            }

            function g() {
                var Q = B("case"),
                    K = B("case-diameter"),
                    R = B("buckle-type"),
                    w = B("buckle-size"),
                    d = B("wid"),
                    L = B("sid"),
                    O = B("bid"),
                    M = o.find(".accordion-tabs-nav"),
                    P = t.location.search.indexOf("ref="),
                    N = t.location.search.indexOf("found=");
                Q = Q.replace(new RegExp("%7C", "g"), "|");
                K = K.replace(new RegExp("%7C", "g"), "|");
                R = R.replace(new RegExp("%7C", "g"), "|");
                w = w.replace(new RegExp("%7C", "g"), "|");
                Q = Q.replace(/[+]/gi, " ");
                K = K.replace(/[+]/gi, " ");
                R = R.replace(/[+]/gi, " ");
                w = w.replace(/[+]/gi, " ");
                if (P === 1 || N > 0 || L || O) {
                    M.find("input").attr("checked", false);
                    M.find("input.refbutton").trigger("click");
                    if (d) {
                        l(".accFilters input[type=text]:first").val(d)
                    }
                    if (L) {
                        l(".accFilters input[type=text]:last").val(L)
                    } else {
                        l(".accFilters input[type=text]:last").val(O)
                    }
                    if (N > 0) {
                        o.find(".refSection").find("form").find("label:last input, span.error").addClass("has-error")
                    }
                }
                if (Q && K) {
                    o.find(".watchDetailBox").find(".accFilters").each(function() {
                        var U = l(this),
                            W = U.find("select:first"),
                            V = U.find("select:eq(1)"),
                            T = U.find("select:eq(2)"),
                            S = U.find("select:eq(3)");
                        W.val(Q);
                        V.val(K);
                        T.val(R);
                        S.val(w)
                    })
                }
            }

            function h(L) {
                var X, W, Z = l("#tpl-product-overlay").html(),
                    T = /{{ prodCode }}/gi,
                    d = /{{ prodPathValue }}/gi,
                    P = /{{ prodFamily }}/gi,
                    S = /{{ prodImgUrl }}/gi,
                    w = /{{ prodTitle }}/gi,
                    R = /{{ prodSubTitle }}/gi,
                    M = /{{ prodDetailUrl }}/gi,
                    U = /{{ prodPrice }}/gi,
                    Y = /{{ prodComparable }}/gi,
                    N = /{{ prodPurchasable }}/gi,
                    K = /{{ addTocartAllowed }}/gi,
                    O = /{{ productPath }}/gi,
                    aa = /{{ prodTitleEnglish }}/gi,
                    V = L.url,
                    Q;
                Q = V + "?" + G[1];
                X = Z.replace(T, L["global-reference"]).replace(P, L["product-family"]).replace(S, L["image-path"]).replace(w, L.title).replace(R, L.subtitle).replace(M, Q).replace(U, L.price).replace(d, L.productPath).replace(Y, L.isComparable).replace(N, L.isPurchasable).replace(K, L.isAddToCartAllowed).replace(O, Q).replace(aa, L["product-title-english"]);
                W = l(X);
                if (L.price !== "") {
                    W.find(".price-tag").removeClass("price-notfound")
                }
                if (L.inclusiveTax === "true") {
                    W.find(".price-tag").addClass("inclusive")
                }
                W.addClass("s" + L["sold-online"]);
                J(W);
                return W.prop("outerHTML")
            }

            function n() {
                t.gdt.ProdComparator.toggleProdInfo();
                t.gdt.ComparatorUtil.setComparatorItem();
                t.gdt.BasketAndWishlist.setWishlistOverlay(l("#mulipleWishList"));
                t.gdt.ProdComparator.overlayPositionHandler();
                l(".js-contact-concierge-btn").modal()
            }

            function J(K) {
                var L = K.data("prod-purchaseable"),
                    d = K.data("prod-comparable"),
                    w = K.data("prod-addtocart");
                if (d === "FALSE") {
                    K.find(".product-list-item-compare-btn").addClass("hide-prod-detail")
                }
                if (L === "FALSE") {
                    K.find(".price-tag").addClass("hide-prod-detail")
                }
                if (w === "FALSE") {
                    K.find(".save-product").addClass("hide-prod-detail")
                }
            }

            function A() {
                G = D.split("?");
                if (l("#accMoreFilters").length === 1) {
                    u()
                }
                if (k.length === 1) {
                    i()
                }
                if (l("#accFilters").length === 1) {
                    x();
                    v();
                    g()
                }
            }
            l.pubsub("subscribe", "country-currency-determined", function(d, w) {
                H = w.countryCode;
                E = w.salesCode;
                A()
            })
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var t = g("#backInStockRegistration"),
                    m = g(".cta-back-in-stock"),
                    p = t.find(".captchaID"),
                    r = p.prop("id"),
                    o = p.data("sitekey"),
                    q = g(".overlay-back-in-stock"),
                    n = q.find(".bis-success-msg").find(".button-primary");

                function l() {
                    g("#recaptcha_challenge_field_holder").remove();
                    g("#recaptcha_response_field").remove();
                    t.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />');
                    g.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                        g("#recaptcha_image").remove();
                        g('<div id="recaptcha_image"></div>').insertBefore(g("#" + r + " .recaptcha_only_if_incorrect_sol"));
                        window.Recaptcha.create(o, r, window.RecaptchaOptions)
                    })
                }

                function d(v, u) {
                    g.ajax({
                        type: v,
                        url: u,
                        data: t.serialize(),
                        dataType: "json",
                        beforeSend: function() {
                            if (g("html.logged-in").length) {
                                q.addClass("loading")
                            }
                            t.find(".form_button_submit").addClass("loading")
                        },
                        success: function(w) {
                            q.removeClass("loading");
                            if (w.Response === "success") {
                                q.addClass("success")
                            } else {
                                q.addClass("error")
                            }
                            t.find(".form_button_submit").removeClass("loading")
                        },
                        error: function() {
                            f.console.log("something went wrong")
                        },
                        complete: function() {
                            t.find(".form_button_submit").removeClass("loading")
                        }
                    })
                }

                function k() {
                    var v = f.location.href,
                        u = localStorage.getItem("bisPageInfo");
                    if (v === u) {
                        g.pubsub("subscribe", "loggedIn", function() {
                            m.trigger("click");
                            localStorage.removeItem("bisPageInfo")
                        })
                    }
                }

                function j() {
                    m.modal();
                    m.on("click", function(v) {
                        var w = g("html.logged-in").length,
                            u = g(v.currentTarget).attr("href");
                        l();
                        q.removeClass("error success");
                        if (w) {
                            d("get", u)
                        }
                    });
                    t.on("submit", function(v) {
                        v.preventDefault();
                        var u = t.attr("action");
                        d("post", u)
                    });
                    n.on("click", function(u) {
                        u.preventDefault();
                        q.find(".modal-close").trigger("click")
                    });
                    g(".bis-login-redirect-btn").on("click", function() {
                        var u = f.location.href;
                        localStorage.setItem("bisPageInfo", u)
                    })
                }

                function s() {
                    j();
                    k()
                }
                s()
            };
            f.gdt.BackInStockHandler = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(m, h, k) {
            var l = h.gdt.Utils.PubSub.UI_EVENTS,
                j = (h.gdt.boutiqueData || {}).storeData,
                g = (h.gdt.dealerData || {}).mapData,
                i = h.BMap;

            function f() {
                var d = new i.Map("coverMap");
                var w = new i.Point(104.195397, 35.86166);
                d.enableScrollWheelZoom();
                d.centerAndZoom(w, 4);
                var r = {
                    features: ["road", "building", "water", "land"],
                    style: "dark"
                };
                d.setMapStyle(r);
                d.addControl(new i.NavigationControl());
                d.addControl(new i.ScaleControl());
                d.addControl(new i.OverviewMapControl());
                d.addControl(new i.MapTypeControl());
                var q = [];
                var t = null;
                var A = null;
                if (j) {
                    for (var s = 0, n = j.length; s < n; s++) {
                        A = new i.Point(j[s].location.longitude, j[s].location.latitude);
                        t = new i.Marker(A, {
                            title: j[s].name
                        });
                        q.push(t);
                        t.addEventListener("click", u)
                    }
                    var z = new BMapLib.MarkerClusterer(d, {
                        markers: q
                    })
                }

                function u() {
                    var E = this,
                        D = k("body");
                    for (var B = 0, C = j.length; B < C; B++) {
                        if (j[B].name === E.getTitle()) {
                            h.location = j[B].pagePath
                        }
                    }
                    D.trigger("boutique:pin:clicked")
                }
                if (g) {
                    var y = [];
                    for (var v in h.gdt.dealerData.mapData.places) {
                        if (h.gdt.dealerData.mapData.places.hasOwnProperty(v)) {
                            y.push(v)
                        }
                    }
                    for (var p = 0; p < y.length; p++) {
                        for (var o = 0; o < h.countriesWithCapitals.length; o++) {
                            if (y[p] === h.countriesWithCapitals[o].CountryName.toUpperCase()) {
                                A = new i.Point(h.countriesWithCapitals[o].CapitalLongitude, h.countriesWithCapitals[o].CapitalLatitude);
                                t = new i.Marker(A, {
                                    title: y[p]
                                });
                                d.addOverlay(t);
                                t.addEventListener("click", x)
                            }
                        }
                    }
                }

                function x() {
                    var C = this,
                        B = k("body"),
                        D = C.getTitle();
                    if (h.gdt.dealerData.mapData.places[D]) {
                        window.location.href = h.gdt.dealerData.mapData.places[D]
                    }
                    B.trigger("boutique:pin:clicked")
                }
            }
            k.pubsub("subscribe", l.baiduMaps, function() {
                if (k("#coverMap").length) {
                    f()
                }
            })
        }(document, window, window.jQuery));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.BasketAndWishlist = f.gdt.BasketAndWishlist || {};
            var g = function() {
                var J = f.gdt.Utils.noWCM,
                    j = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    n = f.gdt.Utils.PubSub.UI_EVENTS,
                    D = h("body"),
                    q = h("#wishlist"),
                    N = h("#shoppingbag"),
                    C = h("#shopping-bag-overlay"),
                    S = {},
                    I = {},
                    s = h("#checkout-payment"),
                    d = h("#ifrm"),
                    O = h("#checkout-payment button.form_button_submit"),
                    G = h("#checkout-payment label.card-cvv input"),
                    r, E = f.gdt.Utils.Browser.isMobileLayout;
                G.on(j, function() {
                    G.select()
                });

                function H(V, X, T) {
                    var U = h(V).find("button[clicked=true]")[0],
                        W = h(V).serialize();
                    if (U) {
                        W += "&" + U.name + "=" + U.value
                    }
                    I = {
                        productCollection: h(V).find("input[name=productCollection]").val(),
                        productCategory: h(V).find("input[name=productCategory]").val(),
                        productSKU: h(V).find("input[name=productSKU]").val(),
                        refillSKU: h(V).find("input[name=refillsku]").val(),
                        event: h(V).find("input[name=event]").val(),
                        shoppingBagValue: h(V).find("input[name=shoppingbagvalue]").val()
                    };
                    return f.gdt.Utils.ajaxCall({
                        type: h(V).attr("method"),
                        url: h(V).attr("action"),
                        data: W,
                        callback: X,
                        error: T
                    })
                }

                function o(V) {
                    var U = V.height(),
                        W = N.offset(),
                        Y = W.top,
                        T = N.height(),
                        X = h(f).height();
                    var Z = (T - X) + (Y + U);
                    h(f).scroll(function() {
                        if (h(f).scrollTop() > Z) {
                            V.removeClass("shoppingbagFixedCTAs")
                        } else {
                            V.addClass("shoppingbagFixedCTAs")
                        }
                    })
                }
                h("#shoppingBagMobile").each(function() {
                    var U = h(this),
                        T = U.find(".sBMicon");
                    T.on(j, function() {
                        U.toggleClass("openIt")
                    })
                });
                h(".editWishlist").modal();
                h("#js-wishlist-caro li.slide").each(function() {
                    var V = h(this),
                        U = V.find(".product-list-item"),
                        T = V.find("h2").text();
                    U.each(function() {
                        h(this).find("input[name=wishlist-name]").val(T)
                    })
                });
                D.on(j, ".editWishlist", function() {
                    var X = h(this).parents(".slide:first").addClass("active").find("h2.editWishlist"),
                        T = h("#renameWishList"),
                        W = X.text(),
                        U = T.find("[name=old-wishlist-name]"),
                        V = T.find(".currentName");
                    U.val(W);
                    V.val(W)
                });
                h("#js-wishlist-caro").each(function() {
                    var T = h(this),
                        U = T.find("li.slide");
                    if (U.length === 1) {
                        U.addClass("active")
                    }
                });

                function L(T) {
                    h(".newWishList").modal();
                    var aa = T,
                        U = aa.find("form"),
                        Z = U.find("#wishlistName"),
                        Y = U.find("#defaultLabel"),
                        W = Y.find("input"),
                        X = Y.find("span.label-text"),
                        V = U.find(".cta-wishlist");
                    h(".newWishList").modal();
                    h(document).on("click", ".newWishList", function(ad) {
                        ad.preventDefault();
                        var ab = h(this).data("path"),
                            ac = h(this).data("id");
                        aa.find("[name=product-path]").val(ab);
                        if (S.wishlist.count === 0) {
                            W.val(S.wishlist.newWishlistName);
                            Z.val(S.wishlist.newWishlistName);
                            X.text(S.wishlist.messages.addto.label.replace("{0}", " ") + S.wishlist.newWishlistName);
                            V.find("span").text(S.wishlist.messages.save.label)
                        } else {
                            U.each(function() {
                                var af = U.find("fieldset");
                                h("#wishlistName").val(S.wishlist.newWishlistName);
                                V.find("span").text(S.wishlist.messages.addto.label.replace("{0}", " ") + S.wishlist.newWishlistName);
                                var ae = "";
                                h.each(S.wishlist.wishlists, function(ah, ag) {
                                    var ak = S.wishlist.messages.addto.label,
                                        aj = "",
                                        ai = "";
                                    h.each(this.items, function(al, am) {
                                        if (am.id === ac) {
                                            aj = " disabled";
                                            ai = " checked disabled"
                                        }
                                    });
                                    ae += "<label class='checkbox" + aj + "'><input type='checkbox' " + ai + " value='" + ag.name + "'><span class='label-text'>" + ak.replace("{0}", "<span>" + ag.name) + "</span></span></label>"
                                });
                                af.find("#newContent").html(ae)
                            })
                        }
                    })
                }
                h("#mulipleWishList").each(function() {
                    var U = h(this).find("form"),
                        V = U.find(".cta-wishlist"),
                        T = U.find("[name=wishlist-name]");
                    U.parents(".slide:first").addClass("active");
                    D.on(j, "#mulipleWishList .checkbox:not(.disabled)", function() {
                        var W = h(this).find("input:first").val();
                        T.val(W);
                        V.trigger("click")
                    })
                });

                function A() {
                    f.gdt.CommerceContent.update()
                }

                function t() {
                    S = f.gdt.CommerceContent.data();
                    var T = S.wishlist && S.wishlist.items ? S.wishlist.items : [];
                    S.wishlist.itemsArray = h.map(T, function(U) {
                        return U.id
                    });
                    P();
                    L(h("#mulipleWishList"))
                }

                function P() {
                    if (S.wishlist.count > 0) {
                        h(".ecom .wishlist span").addClass("show").text("(" + S.wishlist.count + ")");
                        h(".noEComm .wishlist span").addClass("show").text("(" + S.wishlist.count + ")")
                    } else {
                        h(".ecom .wishlist span").removeClass("show");
                        h(".noEComm .wishlist span").removeClass("show")
                    }
                    if (S.shoppingbag.count > 0) {
                        h(".ecom .sbag").addClass("show").find("span").text("(" + S.shoppingbag.count + ")");
                        h("#shopping-bag-overlay").find("div.h1:first span").text(S.shoppingbag.count);
                        h(".sBMicon sup").text(S.shoppingbag.count).addClass("show")
                    } else {
                        h(".ecom .sbag").removeClass("show");
                        h("#mobileCartCount").text("").removeClass("show")
                    }
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        K();
                        h.pubsub("subscribe", n.basketUpdated, function() {
                            var T = h("#shoppingBagMobile").find(".sBMicon").clone(true),
                                U = T.addClass("blink");
                            h("#top").before(U);
                            U.on("click", function() {
                                h("html, body").animate({
                                    scrollTop: 0
                                }, 300)
                            });
                            setTimeout(function() {
                                T.remove()
                            }, 5000)
                        })
                    }
                }

                function B(U) {
                    var T = h("<div>" + U + "</div>");
                    q.empty().html(T.find("#wishlist").html())
                }

                function z(U) {
                    var T = h("<div>" + U + "</div>");
                    N.empty().html(T.find("#shoppingbag").html())
                }

                function l(U) {
                    var T = h("<div>" + U + "</div>");
                    C.find(".basket-overlay-content").empty().removeClass("loading").html(T.find("#shoppingbag").html());
                    C.find(".basket-overlay-content .mcItems").mCustomScrollbar({
                        scrollInertia: 0
                    })
                }

                function M(U) {
                    var T = h(".shopping-nav .wishlist a").data("href");
                    if (T && J) {
                        f.gdt.Utils.ajaxCall({
                            type: "GET",
                            url: T + "?cachebust=" + new Date().getTime(),
                            callback: U
                        })
                    }
                }

                function p(U) {
                    var T;
                    if (N.length) {
                        T = f.gdt.shoppingBagFragment
                    } else {
                        T = f.gdt.shoppingMiniBagFragment
                    }
                    if (T && J) {
                        f.gdt.Utils.ajaxCall({
                            type: "GET",
                            url: T + "?cachebust=" + new Date().getTime(),
                            callback: U
                        })
                    }
                }

                function m(T) {
                    if (T) {
                        l(T)
                    }
                    C.addClass("show")
                }

                function F() {
                    C.removeClass("show")
                }
                h(".topnav .sbag").on(j, function(T) {
                    if (S.shoppingbag.count > 0) {
                        T.preventDefault()
                    }
                    if (S.shoppingbag && S.shoppingbag.count && !C.hasClass("show") && !i.getElementById("shoppingbag") && !i.getElementById("checkout")) {
                        if (C.find(".basket-overlay-content").html() === "") {
                            p(function(U) {
                                m(U);
                                C.find(".basket-overlay-content .mcItems").mCustomScrollbar({
                                    scrollInertia: 0
                                })
                            })
                        } else {
                            C.addClass("show")
                        }
                    } else {
                        C.removeClass("show")
                    }
                });
                D.on(j, "button[name]", function() {
                    h("button[clicked=true]").removeAttr("clicked");
                    h(this).attr("clicked", "true")
                });
                D.on("submit", ".save-product", function(Y) {
                    Y.preventDefault();
                    var ab = h(this),
                        V = h(".currentName").val(),
                        T = ab.find("button[clicked=true]"),
                        Z = T.length ? T.val() : this.elements["op:"].value,
                        W = Z === S.shoppingbag.actions.add.value,
                        aa = Z === S.wishlist.actions.add.value,
                        U = Z === S.wishlist.actions.remove.value,
                        X = Z === "rename-wishlist";
                    T.addClass("loading");
                    H(ab, function(ac, ae, ad) {
                        if (ad.getResponseHeader("x-error-message")) {
                            h("#js-basket-error").find(".error-message").html(decodeURIComponent(ad.getResponseHeader("x-error-message")));
                            h.pubsub("publish", n.basketError)
                        } else {
                            if (W) {
                                if (!f.gdt.Utils.Browser.isMobileLayout) {
                                    p(function(af) {
                                        m(af)
                                    })
                                }
                                h.pubsub("publish", n.basketUpdated)
                            } else {
                                if (aa || U) {
                                    h.pubsub("publish", n.wishlistUpdated);
                                    h.pubsub("publish", n.modal.close);
                                    h(".newWishList").removeClass("loading");
                                    h(".mySelection").addClass("opened")
                                } else {
                                    if (X) {
                                        h(".slide.active").find("h2.editWishlist").text(V);
                                        h(".slide.active").find(".product-list-item").each(function() {
                                            h(this).find("input[name=wishlist-name]").val(V)
                                        });
                                        h.pubsub("publish", n.modal.close)
                                    }
                                }
                            }
                        }
                        T.removeClass("loading")
                    }, function(ae) {
                        var ac, ad;
                        T.removeClass("loading");
                        if (ae.status === 409) {
                            ac = h("<div/>").html(ae.responseText);
                            ad = ac.find("h1").html();
                            h("#js-basket-error").find(".error-message").html(ad);
                            h.pubsub("publish", n.basketError)
                        }
                    })
                });
                D.on("submit", ".basket-remove", function(U) {
                    U.preventDefault();
                    var T = h(this);
                    T.find("button").addClass("loading");
                    H(T, function() {
                        T.find("button").removeClass("loading");
                        F();
                        h.pubsub("publish", n.basketUpdated);
                        if (S.shoppingbag.count === 1) {
                            S.shoppingbag.count = 0;
                            I.event = "removeFromShoppingBag";
                            D.trigger("basketUpdated", I)
                        } else {
                            I.event = "removeFromShoppingBag";
                            D.trigger("basketUpdated", I);
                            S.shoppingbag.count = S.shoppingbag.count - 1
                        }
                        P();
                        t()
                    })
                });
                D.on("submit", ".addAnother", function(U) {
                    U.preventDefault();
                    var T = h(this);
                    T.find("button").addClass("loading");
                    H(T, function(V, X, W) {
                        if (W.getResponseHeader("x-error-message")) {
                            h("#js-basket-error").find(".error-message").html(decodeURIComponent(W.getResponseHeader("x-error-message")));
                            h.pubsub("publish", n.basketError);
                            T.find("button").removeClass("loading")
                        } else {
                            F();
                            h.pubsub("publish", n.basketUpdated);
                            if (S.shoppingbag.count === 1) {
                                S.shoppingbag.count = 0;
                                D.trigger("basketUpdated", I)
                            }
                            P();
                            t()
                        }
                    })
                });

                function w(T, U) {
                    h("#js-wishlist-caro li.slide").each(function() {
                        var X = h(this),
                            V = X.find(".product-list-item"),
                            W = V.length;
                        if (W === 1) {
                            location.reload()
                        } else {
                            V.each(function() {
                                var Y = h(this),
                                    Z = Y.find("input[value=" + U + "]");
                                Z.parents(".product-list-item.noPlacement").remove()
                            })
                        }
                    })
                }
                D.on("submit", ".wishlist-remove", function(W) {
                    W.preventDefault();
                    var U = h(this),
                        T = U.find("[name=product-id]").val(),
                        V = U.find("[name=wishlist-name]").val();
                    U.find("button").addClass("loading");
                    H(U, function() {
                        h.pubsub("publish", n.wishlistUpdated);
                        t();
                        w(V, T);
                        D.trigger("wishlistUpdated", I);
                        U.find("button").removeClass("loading")
                    })
                });
                D.on(j, function(T) {
                    if (!h(T.target).parents("#shopping-bag-overlay").length) {
                        C.removeClass("show")
                    }
                });
                h("body").on(j, ".sbag", function(T) {
                    T.stopPropagation()
                });

                function x(T) {
                    return T.replace(/\s/g, "")
                }

                function Q() {
                    document.getElementById("card-number").value = x(document.getElementById("card-number").value);
                    r = h("#card-types option:selected").val();
                    d.contents().find("#Paymetric_CreditCardType").val(y(r));
                    d.contents().find("#Paymetric_CreditCardNumber").val(document.getElementById("card-number").value);
                    d.contents().find("#Paymetric_Exp_Month").val(document.getElementById("card-expiration-month").value);
                    d.contents().find("#Paymetric_Exp_Year").val(document.getElementById("card-expiration-year").value);
                    d.contents().find("#Paymetric_CVV").val(document.getElementById("card-cvv").value);
                    h("#sendCounter").val(parseInt(h("#sendCounter").val(), null) + 1)
                }
                O.on(j, function(T) {
                    T.preventDefault();
                    if (f.gdt.Validate.form(document.forms["checkout-payment"].name) === true) {
                        if (h("#creditCard").is(":checked")) {
                            Q();
                            h("#sendCounter").val(parseInt(h("#sendCounter").val(), null) + 1);
                            h("#PayNowButton", document.getElementById("ifrm").contentWindow.document).click()
                        } else {
                            h("form[name=checkout-payment]").submit()
                        }
                    }
                });

                function k() {
                    if (h("#sendCounter").val() > 0) {
                        var T = h.parseJSON(h("#ifrm").contents().find("#responseJson").text());
                        if (T.binRangeType === "0" || T.binRangeType === 0) {
                            h(".card-number.creditcard").addClass("has-error").find("input").addClass("has-error");
                            h(".card-number.creditcard").find("span.creditcard").removeAttr("hidden");
                            document.getElementById("ifrm").contentDocument.location.reload(true)
                        }
                        if (T.backendStatus === "true") {
                            r = h("#card-types option:selected").val();
                            document.getElementById("parsepaymreqdata[0]").value = "true";
                            document.getElementById("paytypekey[0]").value = "paytype1";
                            document.getElementById("paytype[0]").value = "3";
                            document.getElementById("nolog_cardtype[0]").value = T.binRangeType;
                            document.getElementById("nolog_cardno[0]").value = T.responseToken;
                            document.getElementById("CCToken").value = T.responseToken;
                            document.getElementById("nolog_cardholder[0]").value = "{dynamic from server}";
                            document.getElementById("nolog_cardmonth[0]").value = T.expirationMonth;
                            document.getElementById("nolog_cardyear[0]").value = T.expirationYear;
                            document.getElementById("cc_bin").value = document.getElementById("card-number").value.substring(0, 6);
                            document.getElementById("ECO_CreditCardText").value = u(r);
                            if (h.trim(document.getElementById("nolog_cardtype[0]").value).length > 0) {
                                if (u(r) === document.getElementById("nolog_cardtype[0]").value) {
                                    h("#card-number").attr("disabled", true);
                                    document.getElementById("nolog_cardtype[0]").value = r;
                                    document.getElementById("checkout-payment").submit()
                                }
                            }
                        } else {
                            h("#checkout-payment").prepend('<div class="form-errors"><h2>' + T.errorHeading + "</h2><p>" + T.errorMessage + "</p></div>")
                        }
                    } else {
                        if (h("#ifrm").contents().find("body").text().indexOf("Status") !== -1) {
                            var U = document.getElementById("ifrm");
                            U.src = U.src
                        }
                    }
                }
                if (s.length) {
                    d.on("load", k);
                    h("#checkout-payment").on("click", ".radio", function() {
                        var U = h(this),
                            T = h("#ccFormFieldset");
                        U.on("click", function() {
                            if (U.hasClass("paypal")) {
                                T.attr("disabled", true)
                            } else {
                                T.attr("disabled", false)
                            }
                        })
                    })
                }

                function y(T) {
                    if (T === "VISA") {
                        return "4000"
                    }
                    if (T === "DISC") {
                        return "6000"
                    }
                    if (T === "MAST") {
                        return "5000"
                    }
                    if (T === "AMEX") {
                        return "3000"
                    }
                    if (T === "DINE") {
                        return "PM_Cust_Card_Type_Header1000"
                    }
                    if (T === "JCB") {
                        return "PM_Cust_Card_Type_Header7000"
                    }
                }

                function u(T) {
                    if (T === "VISA") {
                        return "4000"
                    }
                    if (T === "DISC") {
                        return "6000"
                    }
                    if (T === "MAST") {
                        return "5000"
                    }
                    if (T === "AMEX") {
                        return "3000"
                    }
                    if (T === "DINE") {
                        return "1000"
                    }
                    if (T === "JCB") {
                        return "7000"
                    }
                }
                h.pubsub("subscribe", n.commerceContentJSON, function() {
                    t()
                });
                h.pubsub("subscribe", n.basketUpdated, function() {
                    if (i.getElementById("shoppingbag")) {
                        p(z)
                    } else {
                        p(l)
                    }
                    A()
                });
                h.pubsub("subscribe", n.wishlistUpdated, function() {
                    if (i.getElementById("wishlist")) {
                        M(B)
                    } else {
                        A()
                    }
                });
                h.pubsub("subscribe", n.wishlistTabUpdated, function() {
                    K()
                });

                function K() {
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        if (h("#emptyWishlist").length || h(".emptyComparisonList").length) {
                            var U = h(".equalTitle:first .rightLinks").find("a").removeClass("button-primary").clone(true);
                            h(".shoppingbag-ctas:first").prepend(U)
                        }
                        if (h("#js-wishlist-caro").length) {
                            var X = h(".equalTitle:first .leftIcons").clone(true);
                            for (var W = 0; W < h("#js-product-list li.slide").length; W++) {
                                h("#js-product-list li.slide").find(".shareIconsMobile").html(X)
                            }
                            for (var V = 0; V < h("#js-product-list li.slide").length; V++) {
                                var T = h("#js-product-list li.slide:eq(" + V + ")").find(".shareIconsMobile").data("pdf-url");
                                h("#js-product-list li.slide:eq(" + V + ")").find(".shareIconsMobile .printWishlistSlide").prop("href", T)
                            }
                        }
                    }
                }

                function R() {
                    if (f.gdt.CommerceContent) {
                        f.gdt.CommerceContent.update()
                    }
                    if (!i.getElementById("shoppingbag")) {
                        p(l)
                    }
                    return {
                        contents: function() {
                            return S
                        },
                        showOverlay: m,
                        hideOverlay: F
                    }
                }
                if (E && N.length) {
                    o(h("#shoppingbagFixedCTAs"))
                }
                var v = h(".press-header");
                if (!v) {
                    return R()
                }
                return {
                    setWishlistOverlay: L
                }
            };
            f.gdt.BasketAndWishlist = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var B = f.gdt.Utils.PubSub.UI_EVENTS,
                    A = g("#billingAddress"),
                    s = g("#shippingAddress"),
                    p = g("#shippingAddress").find("fieldset"),
                    C = g('[name="sameBillingAddress"]'),
                    D = g('[name="billing.country"]'),
                    E = g('[name="billing.state"]'),
                    o = g('[name="billing.zipcode"]'),
                    l = o.prev(".label-text").text(),
                    x = g("#checkout.billing-shipping"),
                    v = g("html").hasClass("cn"),
                    w = f.gdt.Utils.Browser.isMobileLayout;

                function r() {
                    A.removeAttr("disabled").prop("disabled", false).removeAttr("hidden").addClass("show")
                }

                function y() {
                    A.attr("disabled", "disabled").prop("disabled", true).attr("hidden", "hidden").removeClass("show")
                }

                function j() {
                    p.removeAttr("disabled").prop("disabled", false).removeAttr("hidden").addClass("show")
                }

                function u() {
                    p.attr("disabled", "disabled").prop("disabled", true).attr("hidden", "hidden").removeClass("show")
                }
                if (f.gdt.Utils.Browser.isMobileLayout) {
                    x.on("click", ".editable-richtext h2, h2.noLine, #contactInfo h2", function() {
                        var F = g(this);
                        if (F.parents(".editable-richtext").next().prop("id") !== undefined && F.parents(".editable-richtext").next().prop("id") === "billingAddress" && F.parents("div.form").hasClass("openBillingAddress")) {
                            F.parents("div.form").removeClass("openNewShippingOptions openContactInfo openBillingAddress").addClass("nothingOpened")
                        } else {
                            if (F.parents(".editable-richtext").next().prop("id") !== undefined && F.parents(".editable-richtext").next().prop("id") === "billingAddress") {
                                F.parents("div.form").removeClass("openNewShippingOptions openContactInfo nothingOpened").addClass("openBillingAddress")
                            } else {
                                if (F.prop("class") !== "" && F.prop("class") === "noLine" && F.parents("div.form").hasClass("openNewShippingOptions")) {
                                    F.parents("div.form").removeClass("openBillingAddress openContactInfo openNewShippingOptions").addClass("nothingOpened")
                                } else {
                                    if (F.prop("class") !== "" && F.prop("class") === "noLine") {
                                        F.parents("div.form").removeClass("openBillingAddress openContactInfo nothingOpened").addClass("openNewShippingOptions")
                                    } else {
                                        if (F.parents("#contactInfo").prop("id") !== undefined && F.parents("#contactInfo").prop("id") === "contactInfo" && F.parents("div.form").hasClass("openContactInfo")) {
                                            F.parents("div.form").removeClass("openBillingAddress openNewShippingOptions openContactInfo").addClass("nothingOpened")
                                        } else {
                                            if (F.parents("#contactInfo").prop("id") !== undefined && F.parents("#contactInfo").prop("id") === "contactInfo") {
                                                F.parents("div.form").removeClass("openBillingAddress openNewShippingOptions nothingOpened").addClass("openContactInfo")
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    })
                }

                function k(G) {
                    var F = o.prev(".label-text"),
                        H = F.text();
                    if (G === "IE" || G === "HK" || G === "MO" || G === "AE" || G === "QA") {
                        E.find("option:eq(0)").prop("selected", true);
                        E.prop("disabled", true);
                        E.parents("label").addClass("disabled");
                        o.prop("required", false);
                        C.prop("checked", false);
                        C.prop("disabled", true);
                        j();
                        F.text(H.replace("*", ""))
                    } else {
                        if (G !== "" && G !== "US") {
                            E.find("option:eq(0)").prop("selected", true);
                            E.prop("disabled", true);
                            E.parents("label").addClass("disabled");
                            o.prop("required", true);
                            C.prop("checked", false);
                            C.prop("disabled", true);
                            j();
                            F.text(l)
                        } else {
                            E.prop("disabled", false);
                            E.parents("label").removeClass("disabled");
                            o.prop("required", true);
                            C.prop("checked", true);
                            C.prop("disabled", false);
                            u();
                            F.text(l)
                        }
                    }
                }
                var t = D.val();
                if (g("#checkout").length) {
                    k(t)
                }
                D.on("change", function(F) {
                    var G = this.options[F.target.selectedIndex].value;
                    k(G)
                });

                function n() {
                    var F = true;
                    A.find("input, select, textarea").each(function() {
                        if (this.getAttribute("type") === "hidden") {
                            return
                        }
                        var G = g(this),
                            I = this.name.replace("billing", "shipping"),
                            H;
                        if (this.type === "radio") {
                            H = s.find('[name="' + I + '"][value="' + this.value + '"]').first();
                            if (G.prop("checked") !== H.prop("checked")) {
                                F = false
                            }
                        } else {
                            H = s.find('[name="' + I + '"]').first();
                            if (G.val() !== H.val()) {
                                F = false
                            }
                        }
                    });
                    if (g("#shippingAddress input[type=text]:first").val() === "") {
                        F = true
                    }
                    return F
                }

                function q() {
                    C.on("change", function(F) {
                        F.preventDefault();
                        if (v) {
                            if (C.prop("checked") && f.gdt.Utils.noWCM) {
                                y()
                            } else {
                                r()
                            }
                        } else {
                            if (C.prop("checked") && f.gdt.Utils.noWCM) {
                                u()
                            } else {
                                j()
                            }
                        }
                    });
                    if (!f.gdt.Utils.Browser.isMobileLayout) {
                        g(".order-summary-component .order-summary-list").mCustomScrollbar({
                            scrollInertia: 0
                        })
                    }
                    g(".toggle-info-cta").on("click", function(F) {
                        var G = g(this).parents(".order-summary-component").find(".order-summary-list");
                        F.preventDefault();
                        G.toggleClass("hide-summary");
                        if (g(this).parents(".order-summary-heading").hasClass("detail-visible")) {
                            g(this).parents(".order-summary-heading").removeClass("detail-visible")
                        } else {
                            g(this).parents(".order-summary-heading").addClass("detail-visible");
                            g(".order-summary-component").removeClass("sticky-summary")
                        }
                    });
                    g(window).on("scroll", function() {
                        var H = g(".order-summary-component").find(".order-summary-list");
                        if (!w && H.length) {
                            var G = g(".breakUps").offset().top,
                                F = g(".two-col-wrapper").offset().top;
                            if (g(window).scrollTop() >= G) {
                                H.addClass("hide-summary");
                                g(".order-summary-heading").removeClass("detail-visible");
                                g(".order-summary-component").addClass("sticky-summary")
                            } else {
                                if (g(window).scrollTop() <= F) {
                                    g(".order-summary-component").removeClass("sticky-summary")
                                }
                            }
                        }
                    });
                    g(".order-summary-component .modal-close").on("click", function(F) {
                        F.preventDefault();
                        g(this).parents(".order-summary-component").removeClass("show-overlay")
                    });
                    g(".order-summary-overlay-cta").on("click", function(F) {
                        F.preventDefault();
                        g(".order-summary-component").addClass("show-overlay")
                    })
                }

                function d() {
                    var G = g("#order-review .component-orderreview .personalise .checkbox"),
                        H = g("#order-review .component-orderreview .personalise .resourcePath").val(),
                        F = g("#order-review .component-orderreview .personalise .entryIndexValue").val();
                    G.find('input[type="checkbox"]').change(function() {
                        if (this.checked) {
                            g.ajax({
                                url: H + ".gift-wrap.html",
                                type: "POST",
                                data: {
                                    strID: F,
                                    strState: "checked",
                                }
                            })
                        }
                    })
                }

                function m(F, G) {
                    F.change(function() {
                        var H = g(this).val();
                        if (H) {
                            g(G).find(".city:not(:contains(" + H + "))").parents("li").slideUp();
                            g(G).find(".city:contains(" + H + ")").parents("li").slideDown()
                        } else {
                            g(G).find("li").slideDown()
                        }
                    }).keyup(function() {
                        g(this).change()
                    })
                }

                function z() {
                    var F, G, H = window.location.hash;
                    if (v) {
                        F = g("#checkboxState").data("same-billing")
                    } else {
                        F = n()
                    }
                    q();
                    d();
                    C.prop("checked", F);
                    if (v) {
                        if (F) {
                            y();
                            A.prop("disabled", true)
                        } else {
                            r()
                        }
                    } else {
                        if (F) {
                            u()
                        } else {
                            j();
                            if (f.gdt.Utils.Browser.isMobileLayout) {
                                x.find("div.form").addClass("openNewShippingOptions")
                            }
                        }
                    }
                    m(g("#filterResults"), g("#boutiquePick ul"));
                    G = H.substring(1);
                    if (G === "btqp") {
                        setTimeout(function() {
                            g("#boutiquePickTab").trigger("click")
                        }, 500)
                    }
                }
                g.pubsub("subscribe", B.shippingTabClicked, function() {
                    if (D.val() !== "US") {
                        j();
                        C.prop("checked", false);
                        C.prop("disabled", true)
                    }
                });
                z();
                return {
                    show: r,
                    hide: y
                }
            };
            f.gdt.billingAddress = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var m = "click touchend",
                    B = f.gdt.Utils.PubSub.UI_EVENTS,
                    u = h("#js-carousel-boutique"),
                    p = h("#js-splash-promo"),
                    r = h("#js-show-promo"),
                    z = h("#js-boutique-select").find("select"),
                    l = h("#js-boutique-map"),
                    d = h("#js-boutique-details"),
                    q = h("#js-boutique-hours"),
                    x = h("body"),
                    s = h(".boutique-info > .boutique-maplink"),
                    n = h(".boutique-info .china-maplinks .boutique-maplink"),
                    C = {},
                    k = r.text(),
                    j = r.data("closetext");

                function D() {
                    r.on(m, function(H) {
                        H.preventDefault();
                        H.stopPropagation();
                        var G = "promo-open",
                            E = p.hasClass(G) ? k : j,
                            F = p.hasClass(G) ? 0 : p.find("ul").outerHeight();
                        if (!p.hasClass(G)) {
                            p.addClass(G)
                        } else {
                            if (p.hasClass(G)) {
                                p.removeClass(G)
                            }
                        }
                        p.toggleClass(G).css("max-height", F + "px");
                        r.text(E);
                        C = {
                            event: "specialEditionClicked",
                            boutique: h(this).data("tracking-boutique")
                        };
                        x.trigger("specialEditionClick", C)
                    })
                }

                function o() {
                    z.on("change", function() {
                        if (this.selectedIndex !== 0) {
                            f.location.replace(h(this).val())
                        }
                    })
                }

                function t() {
                    h.pubsub("subscribe", B.mapApiLoaded, function() {
                        l.mapWithMarker();
                        l.show();
                        s.addClass("visible")
                    });
                    h.pubsub("subscribe", B.baiduMaps, function() {
                        l.bmapWithMarker();
                        l.show();
                        n.addClass("visible")
                    })
                }

                function A() {
                    d.tabAccordion({
                        trigger: "h4"
                    })
                }

                function w() {
                    u.akcarousel({
                        delay: 6000,
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: true,
                        scrollSpeed: 5,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        navarrows: false
                    })
                }

                function v() {
                    h(f).smartresize(function() {
                        if (f.matchMedia("only screen and (min-width: 668px)").matches) {
                            l.insertBefore(q)
                        } else {
                            l.insertAfter(q)
                        }
                    });
                    h(f).trigger("resize")
                }

                function y() {
                    if (u.length) {
                        if (!f.matchMedia("only screen and (min-width: 668px)").matches) {
                            d.find(".accordion-tabs-content-active").removeClass("accordion-tabs-content-active")
                        }
                        w();
                        D();
                        t();
                        A();
                        o();
                        v()
                    }
                }
                y()
            };
            f.gdt.Boutique = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var q = g("#checkoutMap").data("center-lat"),
                    s = g("#checkoutMap").data("center-long"),
                    G = g("html").hasClass("touch"),
                    H = [],
                    y = g(".list"),
                    t = f.gdt.Utils.Browser.isMobileLayout,
                    n = g("#boutiquePick"),
                    x = n.find(".checkoutBoutiques"),
                    v = n.find(".numBoutiques"),
                    j = f.BMap,
                    F, C = f.BMapLib,
                    E = [],
                    u, o, w = {
                        ZOOMLEVEL: 4,
                        SEARCHZOOM: 7
                    };

                function p() {
                    var I = new j.Point(s, q);
                    j.Convertor.translate(I, 2, function(J) {
                        F = new j.Map("checkoutMap");
                        E = [];
                        F.centerAndZoom(J, w.ZOOMLEVEL);
                        F.addControl(new j.NavigationControl());
                        F.enableScrollWheelZoom(true);
                        F.setMapStyle({
                            style: "dark"
                        });
                        r(F);
                        g.pubsub("subscribe", "mapCenter", function(L, K) {
                            F.centerAndZoom(K, w.ZOOMLEVEL)
                        });
                        F.addEventListener("moveend", function() {
                            f.console.log("moveend event fired");
                            m(F)
                        });
                        F.addEventListener("tilesloaded", function() {
                            f.console.log("tilesloaded event fired");
                            m(F)
                        });
                        F.addEventListener("zoomend", function() {
                            f.console.log("zoomend event fired");
                            m(F)
                        })
                    })
                }

                function m(N) {
                    var M = N.getBounds(),
                        L = 0;
                    for (var K = 0; K < E.length; K++) {
                        var I = E[K];
                        var J = y.find("ul").find("#" + I.getTitle());
                        if (M.containsPoint(I.getPosition()) === true) {
                            J.removeClass("opacityZero");
                            L++
                        } else {
                            J.addClass("opacityZero")
                        }
                    }
                    d(L);
                    B(L)
                }

                function r(K) {
                    var I = window.gdt.btqpData.boutiqueData.boutiques,
                        J = new j.Icon(f.gdt.Utils.google.mapIcon, new j.Size(30, 35), {
                            anchor: new j.Size(10, 30),
                            infoWindowAnchor: new j.Size(10, 0)
                        });
                    u = new C.MarkerClusterer(K, {
                        markers: E
                    });
                    g.each(I, function(Q, N) {
                        var M = N.latitude,
                            P = N.longitude,
                            L = N.deliveryBoutiqueCode,
                            O = new j.Point(P, M);
                        j.Convertor.translate(O, 2, function(R) {
                            var S = new j.Marker(R, {
                                    icon: J,
                                    title: L,
                                }),
                                T = [];
                            K.addOverlay(S);
                            T.push(S);
                            E.push(S);
                            if (!G) {
                                u.addMarkers(T);
                                u.setStyles(o)
                            }
                            S.addEventListener("click", function() {
                                g.pubsub("publish", "markerClicked", L)
                            })
                        })
                    })
                }

                function l() {
                    for (var M = 0; M < window.gdt.btqpData.boutiqueData.boutiques.length; M++) {
                        var L = window.gdt.btqpData.boutiqueData.boutiques[M],
                            K, I;
                        if (L.imageURL !== "" && L.imageURL !== undefined) {
                            K = '<img src="' + L.imageURL + '">'
                        } else {
                            K = ""
                        }
                        if (L.storeURL !== "" && L.storeURL !== undefined) {
                            I = '<a href="' + L.storeURL + '" target="_blank">' + L.moreInfoLabel + "</a>"
                        } else {
                            I = ""
                        }
                        var J = '<li data-details=\'{"name":"' + L.name + '", "streetNumber": "' + L.streetNumber + '", "streetName": "' + L.streetName + '", "city": "' + L.city + '", "state": "' + L.state + '", "district": "' + L.district + '", "additionalAddress": "' + L.additionalAddress + '", "country": "' + L.country + '", "countryName": "' + L.countryName + '", "zipcode": "' + L.zipcode + '"}\' id="' + L.deliveryBoutiqueCode + '"><label class="radio">' + K;
                        J += '<input type="radio" name="btqpCode">';
                        J += '<span class="name">' + L.name + '</span> <span class="firstLine">' + L.streetName + "</br>" + L.state + ", " + L.zipcode + "<br />" + L.countryName + "</span></label>";
                        J += I + "</li>";
                        H.push(J)
                    }
                    y.find("ul").empty();
                    y.find("ul").html(H);
                    if (!t) {
                        y.mCustomScrollbar()
                    }
                    d()
                }

                function d(J) {
                    var L = y.find("li:not(.opacityZero)"),
                        K = L.length,
                        I = g("#chooseBoutiqueId").find("input").val();
                    if (J) {
                        K = J
                    }
                    v.find(".count").text(K);
                    if (K === 1) {
                        v.find(".boutiques").addClass("hide");
                        v.find(".boutique").removeClass("hide")
                    } else {
                        v.find(".boutiques").removeClass("hide");
                        v.find(".boutique").addClass("hide")
                    }
                    if (K) {
                        g(".noBoutiqueErrorMessage").removeClass("show-msg")
                    } else {
                        g(".noBoutiqueErrorMessage").addClass("show-msg")
                    }
                    if (I) {
                        g("#" + I).find("label").trigger("click")
                    } else {
                        y.find("li:first").not(".opacityZero").find("label").trigger("click")
                    }
                }

                function D(I) {
                    var K = new j.Geocoder(),
                        L = g("#boutiquePick"),
                        J = L.find('[type="reset"]');
                    J.addClass("visible");
                    K.getPoint(I, function(M) {
                        F.centerAndZoom(M, w.SEARCHZOOM)
                    }, I)
                }

                function B(I) {
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        if (I <= 3) {
                            x.find(".viewMore a").hide()
                        } else {
                            if (I > 3) {
                                x.find(".viewMore a").show()
                            }
                        }
                        x.find("div.list").data("count", 3);
                        x.find("div.list li").removeClass("tempHidden");
                        x.find("div.list li:not(.opacityZero):gt(2)").addClass("tempHidden")
                    }
                    x.on("click", ".viewMore a", function(N) {
                        N.preventDefault();
                        var M = g(this),
                            K = x.find("div.list"),
                            P = K.data("count"),
                            L = x.find("div.list li:not(.opacityZero)"),
                            O = L.length,
                            J;
                        if (P <= O) {
                            K.data("count", P + 3);
                            J = K.data("count")
                        }
                        if (J <= O) {
                            x.find("div.list li:not(.opacityZero):lt(" + J + ")").removeClass("tempHidden")
                        } else {
                            if (J >= O) {
                                x.find("div.list li:not(.opacityZero):lt(" + J + ")").removeClass("tempHidden");
                                M.hide()
                            }
                        }
                        if (J >= O) {
                            x.find("div.list li:not(.opacityZero):lt(" + J + ")").removeClass("tempHidden");
                            M.hide()
                        } else {
                            x.find("div.list li:not(.opacityZero):lt(" + J + ")").removeClass("tempHidden")
                        }
                    })
                }

                function k() {
                    g("#searchInputButtonPins").on("click", function(J) {
                        J.preventDefault();
                        var I = g("#searchInput").val();
                        D(I)
                    });
                    g("#boutiquePick").find('[type="reset"]').on("click", function() {
                        g(this).removeClass("visible");
                        var I = new j.Point(s, q);
                        j.Convertor.translate(I, 2, function(J) {
                            F.centerAndZoom(J, w.ZOOMLEVEL);
                            m(F)
                        })
                    });
                    A();
                    n.on("click", ".showMapIcon", function(J) {
                        J.preventDefault();
                        var I = g(this);
                        if (!I.hasClass("hideMapIcon")) {
                            n.find(".checkoutBoutiques").addClass("showMap");
                            I.addClass("hideMapIcon")
                        } else {
                            n.find(".checkoutBoutiques").removeClass("showMap");
                            I.removeClass("hideMapIcon")
                        }
                    })
                }

                function A() {
                    y.on("click", "label", function(J) {
                        J.preventDefault();
                        var I = g(this).parents("li").attr("id");
                        g.pubsub("publish", "markerClicked", I)
                    })
                }

                function z() {
                    p();
                    k();
                    l();
                    o = [{
                        url: f.gdt.Utils.google.clusterIcon,
                        size: new j.Size(36, 36),
                        opt_anchor: [0, 0],
                        textColor: "#FFFFFF",
                        opt_textSize: 16,
                        textSize: 12
                    }, {
                        url: f.gdt.Utils.google.clusterIcon,
                        size: new j.Size(36, 36),
                        opt_anchor: [0, 0],
                        textColor: "#FFFFFF",
                        opt_textSize: 16,
                        textSize: 12
                    }, {
                        url: f.gdt.Utils.google.clusterIcon,
                        size: new j.Size(36, 36),
                        opt_anchor: [0, 0],
                        textColor: "#FFFFFF",
                        opt_textSize: 16,
                        textSize: 12
                    }]
                }
                return {
                    init: z,
                    generateBoutiqueListMarkup: l,
                    bindingBoutiqueListEvent: A
                }
            };
            f.gdt.BtqpMapLoader = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var l = window.location.href.slice(window.location.href.indexOf("?") + 1),
                    d = f.location.search.indexOf("ref="),
                    p = f.location.search.indexOf("wid="),
                    m = f.location.search.indexOf("bid=");

                function o(t) {
                    t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var u = "[\\?&]" + t + "=([^&#]*)";
                    var s = new RegExp(u);
                    var r = s.exec(window.location.href);
                    if (r === null) {
                        return ""
                    } else {
                        return r[1]
                    }
                }

                function n() {
                    var r = o("case"),
                        t = o("case-diameter");
                    r = r.replace(new RegExp("%7C", "g"), "|");
                    t = t.replace(new RegExp("%7C", "g"), "|");
                    r = r.substring(0, r.indexOf("|"));
                    t = t.substring(0, t.indexOf("|"));
                    var x = window.location.protocol,
                        u = window.location.host,
                        w = window.location.pathname;
                    w = w.substring(0, w.indexOf("."));
                    var v = g("input.strapsVariantsPath").data("path"),
                        s = g("input.bucklesVariantsPath").data("path");
                    g("input.strapsVariantsPath").val(x + "//" + u + w + v + r + "." + t + ".html");
                    g("input.bucklesVariantsPath").val(x + "//" + u + w + s + r + "." + t + ".html")
                }

                function k() {
                    var r = g("input.strapsVariantsPath").val();
                    if (d > 0 && p > 0) {
                        var s = o("ref");
                        r = r.slice(0, -6);
                        r = r + "REF-" + s + ".html"
                    }
                    g.ajax({
                        type: "GET",
                        url: r,
                        dataType: "html",
                        success: function(w) {
                            var v = g("div.related-straps");
                            v.html(w);
                            if (g("main div.related-straps ul li").length < 1) {
                                g("div.related-straps").remove()
                            }
                            g("div.related-straps a").attr("href", function(x, y) {
                                return y + "?" + l
                            });
                            var t = v.find("a.view-all").attr("href"),
                                u;
                            if (t !== undefined) {
                                u = t.replace("BOUCLE_", "")
                            }
                            v.find("a.view-all").attr("href", u)
                        }
                    })
                }

                function j() {
                    var r = g("input.bucklesVariantsPath").val();
                    if (d > 0 && p > 0) {
                        var s = o("ref");
                        r = r.slice(0, -6);
                        r = r + "REF-" + s + ".html"
                    }
                    g.ajax({
                        type: "GET",
                        url: r,
                        dataType: "html",
                        success: function(t) {
                            g("div.related-buckle").html(t);
                            g("div.related-buckle a").attr("href", function(u, v) {
                                return v + "?" + l
                            });
                            if (g("main div.related-buckle ul li").length < 1) {
                                g("div.related-buckle").remove()
                            }
                        }
                    })
                }

                function q() {
                    if (g("main #bucklesDetailPage").length > 0) {
                        n();
                        if (m !== 1) {
                            k();
                            j()
                        }
                        g("nav.product-crumb span a").attr("href", function(s, t) {
                            return t + "?" + l
                        });
                        var r = document.URL.split("?")[1];
                        if (r !== undefined) {
                            g("#snb-selection .selectionView").show();
                            g("#snb-selection .selectionView p a").attr("href", function(s, t) {
                                return t + "?" + l
                            })
                        } else {
                            g("#snb-selection .selectionView").hide()
                        }
                    }
                }
                q()
            };
            f.gdt.Buckles = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(n, q, k) {
            q.gdt = q.gdt || {};
            q.gdt.Utils = q.gdt.Utils || {};
            var t = k("#catalogs"),
                g = k("#paper_catalog"),
                m = k("#catalogs_catalogType"),
                h = t.find("label.streetNumber"),
                r = h.parent(),
                i = k('[name="catalogRequested"]'),
                l = k('[name="catalogRequested"]:checked').val(),
                s = k("#catalogs_catalogRequested"),
                j = k("#catalogs_catalogType"),
                p = k("#catalogs_catalogLanguage"),
                o = q.gdt.catalogJson;
            k("#catalogs").submit(function() {
                k.cookie("catalogs_catalogRequested", "", {
                    path: "/"
                });
                k.cookie("catalogs_catalogType", "", {
                    path: "/"
                });
                k.cookie("catalogs_catalogLanguage", "", {
                    path: "/"
                });
                k.cookie("catalogs_catalogRequested", s.val(), {
                    path: "/"
                });
                k.cookie("catalogs_catalogType", j.val(), {
                    path: "/"
                });
                k.cookie("catalogs_catalogLanguage", p.val(), {
                    path: "/"
                })
            });

            function f() {
                function v() {
                    var w = k.cookie("catalogs_catalogRequested");
                    if (w === null || w === "") {
                        if (o) {
                            var D = k(".dynamic-dropdown[name=" + o.field + "]"),
                                E = k(".dynamic-dropdown[name=" + o.field + "] option:first").text();
                            d(o.values, D, E)
                        }
                    } else {
                        var B = k("#catalogs_catalogRequested option:first").text();
                        d(o.values, s, B);
                        u()
                    }
                    if (o && g.length === 1) {
                        var y = k("#paper_catalog_catalogLanguage"),
                            x = k("#paper_catalog_catalogLanguage option:first").text();
                        F(o.values, y, l, x);
                        i.on("click", function() {
                            var G = k(this).val();
                            F(o.values, y, G, x)
                        })
                    }

                    function F(G, J, H, I) {
                        H = H.toUpperCase();
                        k.each(G, function(M, N) {
                            var K = N.value.toUpperCase();
                            if (H === K) {
                                var L = "";
                                k.each(N.values, function(O, P) {
                                    L += "<option value='" + P.value + "'>" + P.label + "</option>"
                                });
                                J.html("<option value=''>" + I + "</option>" + L)
                            }
                        })
                    }
                    m.on("change", function() {
                        if (k(this).val() === "paper") {
                            A()
                        } else {
                            z()
                        }
                    });
                    var C = k("#catalogs_catalogType").val();
                    if (C === "paper") {
                        A()
                    } else {
                        z()
                    }

                    function z() {
                        r.hide().prop({
                            disabled: "disabled",
                            hidden: "hidden"
                        })
                    }

                    function A() {
                        r.show().prop({
                            disabled: false,
                            hidden: false
                        })
                    }
                }

                function d(z, y, x) {
                    if (y) {
                        var w = "";
                        k.each(z, function(A, B) {
                            var C = B["cookie-name"] ? 'data-cookie-name="' + B["cookie-name"] + '"' : "";
                            w += "<option value='" + B.value + "' " + C + ">" + B.label + "</option>"
                        });
                        y.html("<option value=''>" + x + "</option>" + w)
                    }
                    if (y && y.val() !== undefined && y.val() !== "") {
                        k.each(z, function(A, B) {
                            if (y.val() === B.value && B.field !== undefined) {
                                var D = k(".dynamic-dropdown[name=" + B.field + "]"),
                                    C = k(".dynamic-dropdown[name=" + B.field + "] option:first").text();
                                d(B.values, D, C)
                            }
                        })
                    }
                    y.on("change", function() {
                        if (y.val() !== undefined && y.val() !== "") {
                            k.each(z, function(A, B) {
                                if (y.val() === B.value && B.field !== undefined) {
                                    var D = k(".dynamic-dropdown[name=" + B.field + "]"),
                                        C = k(".dynamic-dropdown[name=" + B.field + "] option:first").text();
                                    d(B.values, D, C)
                                }
                            })
                        }
                    })
                }

                function u() {
                    var B = k("#catalogs_catalogRequested option:first").text(),
                        w = k.cookie("catalogs_catalogRequested"),
                        x = k("#catalogs_catalogType option:first").text(),
                        E = k.cookie("catalogs_catalogType"),
                        y = k("#catalogs_catalogLanguage option:first").text(),
                        D = k.cookie("catalogs_catalogLanguage");
                    if (o) {
                        var C = "",
                            A = "",
                            z = "";
                        k.each(o.values, function(F, G) {
                            var H = G["cookie-name"] ? 'data-cookie-name="' + G["cookie-name"] + '"' : "";
                            C += "<option value='" + G.value + "' " + H + ">" + G.label + "</option>";
                            if (w === G.value) {
                                k.each(G.values, function(J, I) {
                                    A += "<option value='" + I.value + "'>" + I.label + "</option>";
                                    if (E === I.value) {
                                        k.each(I.values, function(K, L) {
                                            z += "<option value='" + L.value + "'>" + L.label + "</option>"
                                        })
                                    }
                                })
                            }
                        });
                        s.html("<option value=''>" + B + "</option>" + C);
                        j.html("<option value=''>" + x + "</option>" + A);
                        p.html("<option value=''>" + y + "</option>" + z)
                    }
                    s.val(w);
                    j.val(E);
                    p.val(D)
                }
                if (t.length === 1 || g.length === 1 && Object.keys(o).length) {
                    v()
                }
                k("#my-account section.lazy").on("click", function() {
                    k(document).ajaxComplete(function() {
                        t = k("#catalogs");
                        g = k("#paper_catalog");
                        m = k("#catalogs_catalogType");
                        h = t.find("label.streetNumber");
                        r = h.parent();
                        i = k('[name="catalogRequested"]');
                        l = k('[name="catalogRequested"]:checked').val();
                        s = k("#catalogs_catalogRequested");
                        j = k("#catalogs_catalogType");
                        p = k("#catalogs_catalogLanguage");
                        o = q.gdt.catalogJson;
                        v()
                    })
                })
            }
            q.gdt.CatalogueConfig = new f()
        }(document, window, window.jQuery || window.Zepto));
        (function(aa, O, J) {
            var o = O.gdt.Utils.PubSub.UI_EVENTS,
                C = J("#newShippingOptions"),
                u = J("#boutiquePick"),
                S = u.find('[type="reset"]'),
                r = C.find(".component-shippinginfo"),
                K = J(".search"),
                p = u.find(".numBoutiques"),
                M = O.gdt.Utils.google.mapIcon,
                Y = O.gdt.Utils.google.clusterIcon,
                l = J("#searchInput"),
                g = J(".list"),
                q = J("html").hasClass("cn"),
                v = J("#submitBoutique"),
                G = v.find('input[name="shipping.deliveryBoutiqueCode"]'),
                Q = v.find('input[name="shipping.firstname"]'),
                F = v.find('input[name="shipping.lastname"]'),
                H = v.find('input[name="shipping.streetNumber"]'),
                h = v.find('input[name="shipping.streetName"]'),
                B = v.find('input[name="shipping.zipcode"]'),
                V = v.find('input[name="shipping.state"]'),
                y = v.find('input[name="shipping.city"]'),
                ac = v.find('input[name="shipping.district"]'),
                z = v.find('input[name="shipping.additionalAddress"]'),
                U = v.find('input[name="shipping.country"]'),
                k = J("#shippingAddress"),
                n = k.find('input[name="shipping.firstname"]'),
                I = k.find('input[name="shipping.lastname"]'),
                R = k.find('input[name="shipping.streetNumber"]'),
                A = k.find('input[name="shipping.streetName"]'),
                X = k.find('input[name="shipping.additionalAddress"]'),
                W = k.find('input[name="shipping.zipcode"]'),
                m = k.find('input[name="shipping.state"]'),
                N = k.find('input[name="shipping.city"]'),
                ad = k.find('input[name="shipping.district"]'),
                Z = u.find(".checkoutBoutiques"),
                f = G.val(),
                L, D, ab = [],
                P = [],
                t = [],
                E = [{
                    elementType: "geometry",
                    stylers: [{
                        invert_lightness: true
                    }, {
                        visibility: "simplified"
                    }, {
                        saturation: -100
                    }, {
                        lightness: -40
                    }]
                }, {
                    featureType: "poi.park",
                    stylers: [{
                        lightness: -100
                    }]
                }, {
                    featureType: "administrative.country",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#fff0d2"
                    }, {
                        weight: "0.5"
                    }]
                }, {
                    featureType: "administrative.locality",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "water"
                }, {
                    featureType: "road.highway.controlled_access",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "water",
                    elementType: "geometry",
                    stylers: [{
                        visibility: "off"
                    }, {
                        color: "#454545"
                    }]
                }, {
                    stylers: [{
                        visibility: "simplified"
                    }]
                }, {
                    elementType: "labels",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape",
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "simplified"
                    }]
                }, {
                    featureType: "administrative.country",
                    stylers: [{
                        visibility: "on"
                    }]
                }, {
                    featureType: "administrative.locality",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.country",
                    elementType: "labels.text.stroke",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.country",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "water",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.province",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape.natural",
                    stylers: [{
                        color: "#000000"
                    }]
                }, {
                    featureType: "road.highway.controlled_access",
                    elementType: "labels",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "poi",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "poi",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.line",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "administrative.land_parcel",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.neighborhood",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.arterial",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#333333"
                    }]
                }, {
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.arterial",
                    elementType: "labels.text",
                    stylers: [{
                        color: "#FFFFFF"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road.arterial",
                    elementType: "labels.text.fill",
                    stylers: [{
                        weight: 0.1
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "labels.text",
                    stylers: [{
                        color: "#808080"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape",
                    elementType: "labels.text.fill",
                    stylers: [{
                        weight: 0.1
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "road",
                    stylers: [{
                        visibility: "on"
                    }]
                }, {
                    featureType: "road.highway.controlled_access",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#808080"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road",
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "geometry",
                    stylers: [{
                        weight: 0.8
                    }, {
                        color: "#343435"
                    }]
                }];

            function j() {
                var af = J("#checkoutMap"),
                    w;
                if (af) {
                    var ak = af.data("center-lat"),
                        ap = af.data("center-long");
                    if (ak && ap) {
                        O.console.log(ak + " : " + ap);
                        w = new google.maps.LatLng(ak, ap)
                    } else {
                        w = new google.maps.LatLng(37.09024, -95.712891)
                    }
                }
                var ah = [
                    [{
                        url: Y,
                        height: 36,
                        width: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }, {
                        url: Y,
                        height: 36,
                        width: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }, {
                        url: Y,
                        width: 36,
                        height: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }]
                ];
                D = new google.maps.Map(document.getElementById("checkoutMap"), {
                    zoom: 3,
                    center: w,
                    styles: E,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });
                for (var am = 0; am < window.gdt.btqpData.boutiqueData.boutiques.length; am++) {
                    var ae = window.gdt.btqpData.boutiqueData.boutiques[am];
                    var ag = new google.maps.LatLng(ae.latitude, ae.longitude);
                    var al = new google.maps.Marker({
                        position: ag,
                        icon: M,
                        deliveryBoutiqueCode: ae.deliveryBoutiqueCode,
                        name: ae.name,
                        streetNumber: ae.streetNumber,
                        streetName: ae.streetName,
                        city: ae.city,
                        state: ae.state,
                        district: ae.district,
                        additionalAddress: ae.additionalAddress,
                        country: ae.country,
                        countryName: ae.countryName,
                        zipcode: ae.zipcode
                    });
                    var an, ai;
                    if (ae.imageURL !== "" && ae.imageURL !== undefined) {
                        an = '<img src="' + ae.imageURL + '">'
                    } else {
                        an = ""
                    }
                    if (ae.storeURL !== "" && ae.storeURL !== undefined) {
                        ai = '<a href="' + ae.storeURL + '" target="_blank">' + ae.moreInfoLabel + "</a>"
                    } else {
                        ai = ""
                    }
                    var ar = '<li class="getIndex' + am + '" data-details=\'{"name":"' + ae.name + '", "streetNumber": "' + ae.streetNumber + '", "streetName": "' + ae.streetName + '", "city": "' + ae.city + '", "state": "' + ae.state + '", "district": "' + ae.district + '", "additionalAddress": "' + ae.additionalAddress + '", "country": "' + ae.country + '", "countryName": "' + ae.countryName + '", "zipcode": "' + ae.zipcode + '"}\' id="' + ae.deliveryBoutiqueCode + '"><label class="radio">' + an;
                    ar += '<input type="radio" name="btqpCode">';
                    if (q) {
                        ar += '<span class="name">' + ae.name + '</span> <span class="firstLine">' + ae.streetName + "</br>" + ae.city + ", " + ae.district + "</br>" + ae.state + ", " + ae.zipcode + "<br />" + ae.countryName + "</span></label>"
                    } else {
                        ar += '<span class="name">' + ae.name + '</span> <span class="firstLine">' + ae.streetNumber + ", " + ae.streetName + "</br>" + ae.state + ", " + ae.zipcode + "<br />" + ae.countryName + "</span></label>"
                    }
                    ar += ai + "</li>";
                    ab.push(al);
                    t.push(al);
                    P.push(ar);
                    google.maps.event.addListener(al, "click", ao)
                }
                g.find("ul").html(P);
                if (!O.gdt.Utils.Browser.isMobileLayout) {
                    g.mCustomScrollbar()
                }
                p.find(".count").text(window.gdt.btqpData.boutiqueData.boutiques.length);
                if (window.gdt.btqpData.boutiqueData.boutiques.length === 1) {
                    p.find(".boutiques").addClass("hide");
                    p.find(".boutique").removeClass("hide")
                } else {
                    p.find(".boutiques").removeClass("hide");
                    p.find(".boutique").addClass("hide")
                }
                var aq = new MarkerClusterer(D, ab, {
                    gridSize: 20,
                    styles: ah[0]
                });
                g.find("li").on("click", function() {
                    var au = J(this),
                        at = au.index();
                    g.find("li").removeClass("boutique-selected");
                    au.addClass("boutique-selected");
                    google.maps.event.trigger(t[at], "click")
                });
                if (f.length) {
                    J("#shippingAddress").attr("disabled", true);
                    r.attr("disabled", true);
                    J("#submitBoutique").removeAttr("disabled");
                    J("#newShippingOptions").find(".accordion-tabs-nav li").removeClass("accordion-tabs-nav-active");
                    J("#newShippingOptions").find(".accordion-tabs-content > section").removeClass("accordion-tabs-content-active");
                    J("#boutiquePickTab").addClass("accordion-tabs-nav-active");
                    J("#boutiquePick").addClass("accordion-tabs-content-active");
                    n.val("");
                    I.val("");
                    R.val("");
                    A.val("");
                    W.val("");
                    m.val("");
                    N.val("");
                    if (ad) {
                        ad.val("")
                    }
                    if (X) {
                        X.val("")
                    }
                    k.find("select").val("");
                    J('input[name="sameBillingAddress"]').prop("checked", true);
                    J("#shippingAddress").find("fieldset").prop({
                        hidden: true,
                        disabled: true
                    });
                    var d = g.find("ul").find("li#" + f).index();
                    google.maps.event.trigger(ab[d], "click")
                } else {
                    google.maps.event.trigger(ab[0], "click")
                }
                S.on("click", function(ax) {
                    ax.preventDefault();
                    var at = J("#checkoutMap"),
                        au = at.data("center-lat"),
                        av = at.data("center-long");
                    D.setZoom(3);
                    D.setCenter(new google.maps.LatLng(au, av));
                    J("#searchInput").val("");
                    J("#searchInput").focus();
                    S.removeClass("visible");
                    u.find(".errorMsg").removeClass("visible");
                    ab = [];
                    aq.clearMarkers();
                    g.find("li").each(function() {
                        var aA = J(this),
                            az = aA.index();
                        aA.removeClass("opacityZero");
                        ab.push(t[az])
                    });
                    aq = new MarkerClusterer(D, ab, {
                        gridSize: 20,
                        styles: ah[0]
                    });
                    var ay = g.find("ul").find("li:not(.opacityZero):first").index(),
                        aw = g.find("ul").find("li:not(.opacityZero)").length;
                    p.find(".count").html(aw);
                    if (aw === 1) {
                        p.find(".boutiques").addClass("hide");
                        p.find(".boutique").removeClass("hide")
                    } else {
                        p.find(".boutiques").removeClass("hide");
                        p.find(".boutique").addClass("hide")
                    }
                    google.maps.event.trigger(ab[0], "click")
                });

                function ao() {
                    J.pubsub("publish", "markerClicked", this.deliveryBoutiqueCode)
                }
                google.maps.event.addListener(D, "idle", function() {
                    i()
                });
                Z.on("click", ".showMapIcon", function(au) {
                    au.preventDefault();
                    var at = J(this);
                    if (!at.hasClass("hideMapIcon")) {
                        Z.addClass("showMap");
                        at.addClass("hideMapIcon")
                    } else {
                        Z.removeClass("showMap");
                        at.removeClass("hideMapIcon")
                    }
                });
                Z.on("click", ".viewMore a", function(ax) {
                    ax.preventDefault();
                    var aw = J(this),
                        au = Z.find("div.list"),
                        az = au.data("count"),
                        av = Z.find("div.list li:not(.opacityZero)"),
                        ay = av.length,
                        at;
                    if (az <= ay) {
                        au.data("count", az + 2);
                        at = au.data("count")
                    }
                    if (at <= ay) {
                        Z.find("div.list li:not(.opacityZero):lt(" + at + ")").removeClass("tempHidden")
                    } else {
                        if (at >= ay) {
                            Z.find("div.list li:not(.opacityZero):lt(" + at + ")").removeClass("tempHidden");
                            aw.hide()
                        }
                    }
                    if (at >= ay) {
                        Z.find("div.list li:not(.opacityZero):lt(" + at + ")").removeClass("tempHidden");
                        aw.hide()
                    } else {
                        Z.find("div.list li:not(.opacityZero):lt(" + at + ")").removeClass("tempHidden")
                    }
                });
                var aj = new google.maps.Geocoder();
                document.getElementById("searchInputButtonPins").addEventListener("click", function(at) {
                    at.preventDefault();
                    s(aj, D)
                })
            }
            var T = false;

            function i() {
                var af = D.getBounds(),
                    ae = 0;
                for (var w = 0; w < ab.length; w++) {
                    var d = ab[w],
                        ag = J(".getIndex" + (w));
                    if (af.contains(d.getPosition()) === true) {
                        ag.removeClass("opacityZero");
                        ae++
                    } else {
                        ag.addClass("opacityZero")
                    }
                }
                p.find(".count").html(ae);
                if (ae === 0) {
                    u.find(".errorMsg").addClass("visible");
                    u.find(".results").addClass("noBoutiqueError")
                } else {
                    var ah = g.find("li:not(.opacityZero):first").prop("id");
                    if (!T) {
                        T = true
                    } else {
                        J("#" + ah).find("input").trigger("click")
                    }
                    u.find(".errorMsg").removeClass("visible");
                    u.find(".results").removeClass("noBoutiqueError")
                }
                if (O.gdt.Utils.Browser.isMobileLayout) {
                    if (ae <= 2) {
                        Z.find(".viewMore a").hide()
                    } else {
                        if (ae > 2) {
                            Z.find(".viewMore a").show()
                        }
                    }
                    Z.find("div.list").data("count", 2);
                    Z.find("div.list li").removeClass("tempHidden");
                    Z.find("div.list li:not(.opacityZero):gt(1)").addClass("tempHidden")
                }
            }

            function s(ae, w) {
                S.addClass("visible");
                var d = document.getElementById("searchInput").value;
                ae.geocode({
                    address: d
                }, function(ag, af) {
                    if (af === google.maps.GeocoderStatus.OK) {
                        w.setZoom(10);
                        w.setCenter(ag[0].geometry.location)
                    } else {
                        u.find(".errorMsg").addClass("visible")
                    }
                })
            }
            J.pubsub("subscribe", o.mapApiLoaded, function() {
                if (!L) {
                    L = true;
                    if (u.length) {
                        j()
                    }
                }
            });
            J.pubsub("subscribe", o.mapApiNotLoaded, function() {
                if (u.length) {
                    J("#boutiquePick").find(".checkoutBoutiques").addClass("fullView");
                    O.gdt.BtqpMapLoader.generateBoutiqueListMarkup();
                    O.gdt.BtqpMapLoader.bindingBoutiqueListEvent();
                    J(".searchBoutique, .map-toggle-btn").hide()
                }
            });
            J.pubsub("subscribe", o.baiduMaps, function() {
                if (u.length) {
                    O.gdt.BtqpMapLoader.init()
                }
            });
            J.pubsub("subscribe", "markerClicked", function(ae, af) {
                var w = af;
                var d = g.find("ul").find("#" + w),
                    ah = d.data("details"),
                    ag = J("#" + w).position().top;
                d.find("input").prop("checked", true);
                g.mCustomScrollbar("scrollTo", ag);
                G.val(w);
                Q.val(ah.name);
                F.val(ah.name);
                H.val(ah.streetNumber);
                h.val(ah.streetName);
                B.val(ah.zipcode);
                V.val(ah.state);
                y.val(ah.city);
                if (z) {
                    z.val(ah.additionalAddress)
                }
                if (ac) {
                    ac.val(ah.district)
                }
                U.val(ah.country)
            });
            J.pubsub("subscribe", o.boutiqueTabClicked, function() {
                if (q) {
                    J("#ShippingOptions").find("fieldset, fieldset input").prop("disabled", true);
                    J("#boutiquePick").find("fieldset, fieldset input").prop("disabled", false)
                } else {
                    J("#shippingAddress").attr("disabled", true);
                    J("#newShippingOptions .component-shippinginfo").prop("disabled", true)
                }
                J("#submitBoutique").removeAttr("disabled");
                J("#submitBoutique input").removeAttr("disabled");
                J("[name=sameBillingAddress]").prop("disabled", true)
            });
            J.pubsub("subscribe", o.shippingTabClicked, function() {
                if (q) {
                    J("#ShippingOptions").find("fieldset, fieldset input").prop("disabled", false);
                    J("#boutiquePick").find("fieldset, fieldset input").prop("disabled", true)
                } else {
                    J("#shippingAddress").removeAttr("disabled");
                    J("#newShippingOptions .component-shippinginfo").removeAttr("disabled")
                }
                J("[name=sameBillingAddress]").prop("disabled", false);
                J("#submitBoutique").attr("disabled", true);
                J("#chooseBoutiqueId").find("input").val("");
                if (q) {
                    var d = J("#billingAddress").hasClass("show");
                    if (!d) {
                        J("[name=sameBillingAddress]").prop("checked", true);
                        J("#billingAddress").prop("disabled", true)
                    }
                }
            });
            if (J("#checkout-billing-shipping").length) {
                var x = J(".accordion-tabs-nav-active").attr("id");
                if (x === "shippingOptionsTab") {
                    J("#boutiquePick").find("fieldset, fieldset input").prop("disabled", true);
                    J("#ShippingOptions").find("fieldset, fieldset input").prop("disabled", false);
                    if (J('input[name="sameBillingAddress"]').is(":checked")) {
                        if (q) {
                            J("#billingAddress").prop("disabled", true)
                        } else {
                            J("#shippingAddress fieldset").prop("disabled", true)
                        }
                    }
                } else {
                    if (x === "boutiquePickTab") {
                        J("#boutiquePick").find("fieldset, fieldset input").prop("disabled", false);
                        J("#ShippingOptions").find("fieldset, fieldset input").prop("disabled", true)
                    }
                }
            }
        }(document, window, window.jQuery));
        (function(k, n, i) {
            var o = n.gdt.Utils.PubSub.UI_EVENTS,
                g, l = true,
                j = i("html").hasClass("logged-in"),
                m = i("#js-wishlist-caro").length;

            function h() {
                var d = n.gdt.Utils.ajaxCall({
                    type: "GET",
                    url: n.gdt.commerceContenUrl + "?cachebust=" + new Date().getTime(),
                    callback: function(p) {
                        g = p;
                        if (l) {
                            if (m && !j && g.wishlist.count !== 0) {
                                i("#loginOverlay").modal();
                                i.pubsub("publish", o.loginOverlay)
                            }
                        }
                        l = false;
                        i.pubsub("publish", o.commerceContentJSON)
                    }
                });
                return d
            }

            function f() {
                if (i(".press-header").length === 0) {
                    h();
                    return {
                        update: h,
                        data: function() {
                            return g
                        }
                    }
                }
            }
            n.gdt = n.gdt || {};
            n.gdt.CommerceContent = new f()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var k = {
                        comparatorFull: "comparator.full",
                        prodExist: "comparator.prod.exist",
                        prodAdded: "comparator.prod.added",
                        prodRemoved: "comparator.prod.removed"
                    },
                    B = f.gdt.Utils.PubSub.UI_EVENTS,
                    z = {
                        productCard: "li.product-list-item",
                        compareBtn: ".product-list-item-compare-btn",
                        showResultBtn: ".product-list-show-comparison"
                    },
                    y = {
                        COMPARECOOKIE: "compare-product",
                        MAXPRODCOMPARESIZE: 3,
                        TIMEDELAY: 4000,
                        OPADDTOCOMPARE: "add-to-comparelist",
                        OPREMOVEFROMCOMPARE: "delete-from-comparelist"
                    },
                    p, x = {},
                    q = {},
                    C = "{}",
                    r = f.gdt.Utils.Browser.isMobileLayout;

                function s(E, D) {
                    var H = x[D],
                        F = h("html").hasClass("logged-in");
                    if (H && l(H, D, E)) {
                        H.itemList.push(E);
                        if (!H.listName) {
                            if (!f.gdt.CommerceContent.data().comparelist[D]) {
                                H.listName = f.gdt.CommerceContent.data().comparelist[D]
                            } else {
                                H.listName = q[D]
                            }
                        }
                        if (F) {
                            var G = o(E, D, H.listName, y.OPADDTOCOMPARE);
                            G.success(function() {
                                t(p);
                                h.pubsub("publish", k.prodAdded, H.itemList.length);
                                w(E, D);
                                f.console.log("product added")
                            })
                        } else {
                            t(p);
                            h.pubsub("publish", k.prodAdded, H.itemList.length);
                            w(E, D);
                            f.console.log("product added")
                        }
                    }
                }

                function u(H, E, F, L) {
                    if (x[E]) {
                        var I = x[E].itemList,
                            D = h.inArray(H, I),
                            G = h("html").hasClass("logged-in"),
                            J = {
                                tdIndex: L,
                                prodType: E
                            };
                        if (D !== -1) {
                            if (G) {
                                var K = o(H, E, F, y.OPREMOVEFROMCOMPARE);
                                K.success(function() {
                                    x[E].itemList.splice(D, 1);
                                    t(p);
                                    h.pubsub("publish", k.prodRemoved, J)
                                })
                            } else {
                                x[E].itemList.splice(D, 1);
                                t(p);
                                h.pubsub("publish", k.prodRemoved, J)
                            }
                            j();
                            f.console.log("product removed")
                        }
                    }
                }

                function d() {
                    return p
                }

                function m() {
                    h.each(p, function(D, F) {
                        var E = D;
                        h.each(F.itemList, function(H, G) {
                            w(G, E)
                        })
                    })
                }

                function w(E, D) {
                    if (h(".product-detail").length > 0) {
                        var F = h(".product-detail").find(".cta-primary .comparator-btn"),
                            H = F.data("prod-code"),
                            G = F.data("prod-family");
                        if ((H === E) && (G === D)) {
                            h(".product-detail").find(".cta-primary .comparator-btn").hide();
                            h(".product-detail").find(".cta-primary .view-comparator-btn").css("display", "inline-block");
                            j()
                        }
                    } else {
                        h(".product-list").each(function() {
                            h(this).find("li").each(function() {
                                var I = h(this),
                                    J = I.closest(z.productCard).data("prod-code"),
                                    K = I.closest(z.productCard).data("product-family");
                                if ((J === E) && (K === D)) {
                                    h.pubsub("subscribe", k.prodAdded, function(M, N) {
                                        n(I, N);
                                        j();
                                        h(".mySelection").addClass("opened");
                                        if (h("#js-wishlist-caro").length && f.gdt.Utils.Browser.isMobileLayout) {
                                            h("#wishlistComparatorOverlay").modal();
                                            var L = I.find(".product-list-show-comparison");
                                            h(".wishlistCompareMsgContent").empty();
                                            L.appendTo(".wishlistCompareMsgContent");
                                            h.pubsub("publish", B.comparatorwishlist)
                                        }
                                        if (!r || !h("#js-wishlist-caro").length) {
                                            I.find(".prod-item-right-content").addClass("list-item-added").delay(y.TIMEDELAY).queue(function() {
                                                I.find(".prod-item-right-content").removeClass("list-item-added").dequeue()
                                            })
                                        }
                                    });
                                    I.find(".view-comparison").css("display", "inline-block");
                                    I.find(".product-list-item-compare-btn").css("display", "none");
                                    I.find(".product-list-item-compare-btn").removeClass("loading");
                                    return false
                                }
                            })
                        })
                    }
                }

                function n(D, H) {
                    var E = D.find(".product-list-show-comparison .comparator-msg"),
                        G = E.text(),
                        F;
                    F = G.replace("{}", H);
                    E.text(F)
                }

                function t(D) {
                    C = JSON.stringify(D);
                    h.cookie(y.COMPARECOOKIE, C, {
                        path: "/",
                        domain: f.gdt.Utils.getCookieDomain()
                    })
                }

                function l(H, E, F) {
                    var D = x[E].itemList,
                        G = h.inArray(F, D);
                    if (D.length === y.MAXPRODCOMPARESIZE) {
                        h.pubsub("publish", k.comparatorFull, F);
                        f.console.log("Comparator already full for " + E);
                        return false
                    } else {
                        if (G >= 0) {
                            h.pubsub("publish", k.prodExist + "." + E);
                            f.console.log("Product " + F + " already exist in " + E + " comparator");
                            return false
                        }
                    }
                    return true
                }

                function v(D) {
                    h(".product-list li").each(function() {
                        var E = h(this),
                            G = E.data("prod-code");
                        if ((G === D)) {
                            E.find(".product-list-item-compare-btn").removeClass("loading");
                            if (h("#js-wishlist-caro").length && r) {
                                h("#wishlistComparatorOverlay").modal();
                                var F = E.find(".list-item-comparator-full");
                                h(".wishlistCompareMsgContent").empty();
                                F.appendTo(".wishlistCompareMsgContent");
                                h.pubsub("publish", B.comparatorwishlist)
                            }
                            if (!r || !h("#js-wishlist-caro").length) {
                                E.find(".prod-item-right-content").addClass("comparator-full").delay(y.TIMEDELAY).queue(function() {
                                    h(this).removeClass("comparator-full").dequeue()
                                })
                            }
                            return false
                        }
                    })
                }

                function j() {
                    var D = 0;
                    for (var F in p) {
                        if (p.hasOwnProperty(F)) {
                            var E = p[F].itemList.length;
                            D += E
                        }
                    }
                    if (D > 0) {
                        h(".mySelection .comparelist").find("span").text("(" + D + ")")
                    }
                    return D
                }

                function o(H, G, F, D) {
                    var J = location.pathname.split("."),
                        E = location.pathname.split(".").pop(-1),
                        I = J[0] + ".commerce-op." + E;
                    return h.post(I, {
                        "op:": D,
                        "product-category": G,
                        product: H,
                        "comparelist-name": F
                    })
                }

                function A() {
                    if (h.cookie(y.COMPARECOOKIE)) {
                        p = h.parseJSON(h.cookie(y.COMPARECOOKIE))
                    }
                    if (!p) {
                        p = {
                            WMF: {
                                listName: "",
                                itemList: []
                            },
                            WBR: {
                                listName: "",
                                itemList: []
                            },
                            WBU: {
                                listName: "",
                                itemList: []
                            }
                        }
                    }
                    x = {
                        WMF: p.WMF,
                        WBU: p.WBU,
                        WBR: p.WBR
                    };
                    q = {
                        WMF: "Name #1",
                        WBU: "Name #1",
                        WBR: "Name #1"
                    };
                    if (h(".product-list").length > 0 || h(".product-detail").length > 0) {
                        m()
                    }
                    j()
                }
                A();
                return {
                    getItems: d,
                    addItems: s,
                    removeItems: u,
                    setComparatorItem: m,
                    showComparatorFullMsg: v,
                    getTotalCount: j,
                    updateCompareCookie: t
                }
            };
            f.gdt.ComparatorUtil = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(j, f, h) {
            f.gdt = f.gdt || {};
            var i = f.gdt.Utils.PubSub.UI_EVENTS;
            var g = function() {
                var u = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    p = h("#compareListTableWrapper"),
                    t = p.find(".compareSlide"),
                    d = t.find("tr:first"),
                    n = h("html"),
                    l = h("#stickyHeader"),
                    m = {
                        title: ".title",
                        subTitle: ".subTitle",
                        sticky: ".sticky",
                        next: ".next",
                        prev: ".prev"
                    },
                    x = {
                        activeClass: "active"
                    },
                    s = {
                        next: "next",
                        prev: "prev"
                    };

                function k() {
                    t.prepend('<div class="next">Next</div><div class="prev">Previous</div>');
                    d.find("td:first").addClass(x.activeClass);
                    r()
                }

                function v(E, y, C) {
                    var B = C,
                        z, G, F, A = E.parents(".compareSlide").find(".translate"),
                        D = A.find(".product td").length;
                    if (y === s.next && B !== D) {
                        B = B + 1;
                        if (B !== D) {
                            z = A.find(".product td:eq(" + B + ")");
                            A.removeClass("show-" + (B - 1)).addClass("show-" + B);
                            A.find(".product td").removeClass(x.activeClass).eq(B).addClass(x.activeClass);
                            G = z.find(m.title).length ? z.find(m.title).clone(true) : "";
                            F = z.find(m.subTitle).length ? z.find(m.subTitle).clone(true) : "";
                            l.html("").append(G).append(F)
                        } else {
                            if (B === D) {
                                z = A.find(".product td:eq(0)");
                                A.removeClass("show-" + (B - 1));
                                A.find(".product td").removeClass(x.activeClass).eq(0).addClass(x.activeClass);
                                G = z.find(m.title).length ? z.find(m.title).clone(true) : "";
                                F = z.find(m.subTitle).length ? z.find(m.subTitle).clone(true) : "";
                                l.html("").append(G).append(F)
                            }
                        }
                    } else {
                        if (y === s.prev) {
                            if (B !== 0) {
                                z = A.find(".product td").eq(B - 1);
                                A.removeClass("show-" + B).addClass("show-" + (B - 1));
                                A.find(".product td").removeClass(x.activeClass).eq(B - 1).addClass(x.activeClass);
                                G = z.find(m.title).length ? z.find(m.title).clone(true) : "";
                                F = z.find(m.subTitle).length ? z.find(m.subTitle).clone(true) : "";
                                l.html("").append(G).append(F)
                            } else {
                                if (B === 0) {
                                    z = A.find(".product td").eq(D - 1);
                                    A.removeClass("show-" + B).addClass("show-" + (D - 1));
                                    A.find(".product td").removeClass(x.activeClass).eq(B - 1).addClass(x.activeClass);
                                    G = z.find(m.title).length ? z.find(m.title).clone(true) : "";
                                    F = z.find(m.subTitle).length ? z.find(m.subTitle).clone(true) : "";
                                    l.html("").append(G).append(F)
                                }
                            }
                        }
                    }
                }

                function r() {
                    h(document).on(u, m.next, function() {
                        var z = h(this),
                            A = s.next,
                            y = p.find(".compareSlide.active").find("td.active").index();
                        v(z, A, y)
                    });
                    h(document).on(u, m.prev, function() {
                        var z = h(this),
                            A = s.prev,
                            y = p.find(".compareSlide.active").find("td.active").index();
                        v(z, A, y)
                    })
                }

                function q() {
                    h(".compareSlide.active .translate, #stickyHeader").on("swipeleft", function(z) {
                        z.stopImmediatePropagation();
                        var A = p.find(".compareSlide.active").find(m.next),
                            B = s.next,
                            y = p.find(".compareSlide.active").find("td.active").index();
                        v(A, B, y)
                    });
                    h(".compareSlide.active .translate, #stickyHeader").on("swiperight", function(A) {
                        A.stopImmediatePropagation();
                        var z = p.find(".compareSlide.active").find(m.next),
                            B = s.prev,
                            y = p.find(".compareSlide.active").find("td.active").index();
                        v(z, B, y)
                    })
                }

                function o(B) {
                    var E = p.find(".compareSlide.active").find(".product:first .active"),
                        C = E.find(".title"),
                        D = C.length ? C.offset().top : 0,
                        y = D - 40,
                        F = y + B,
                        z = C.clone(true),
                        A = E.find(".subTitle").clone(true);
                    l.html("").append(z).append(A);
                    h(window).scroll(function() {
                        if (h(window).scrollTop() > F) {
                            n.addClass("stickyTitle")
                        } else {
                            n.removeClass("stickyTitle")
                        }
                    })
                }

                function w() {
                    if (f.gdt.Utils.Browser.isMobileLayout && p.length) {
                        k()
                    }
                }
                w();
                return {
                    stickyHeader: o,
                    swipeFunction: q
                }
            };
            f.gdt.ComparelistCarousel = new g();
            h.pubsub("subscribe", i.compareTabUpdated, function() {
                f.gdt.ComparelistCarousel = new g()
            })
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                function j(k) {
                    var m = k.split("||"),
                        l = h("main div.country-telephone");
                    if (m[1].length) {
                        l.find("span").text(m[1]);
                        l.find(".dail-number").attr("href", "tel:" + m[1]);
                        l.addClass("icon-telephone")
                    } else {
                        l.find("span").text("");
                        l.removeClass("icon-telephone")
                    }
                }

                function d() {
                    if (h("#contact-us").length) {
                        var l = h("#contact-us").find("#contact-us_country"),
                            k = h("#contact-us_country option:selected").val();
                        j(k);
                        l.on("change", function() {
                            k = h("#contact-us_country option:selected").val();
                            j(k)
                        })
                    }
                }
                d()
            };
            f.gdt.ContactUs = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(m, g, j) {
            g.gdt = g.gdt || {};
            var h = j("div.countryBtn:first"),
                i = h.find("label.select"),
                k = i.find("select");
            j(".js-contact-concierge-btn").modal();
            j("body").on("click", ".js-contact-concierge-btn", function() {
                var d = j("#js-contact-concierge"),
                    p = d.find(".captchaID"),
                    o = p.prop("id"),
                    n = p.data("sitekey");
                d.find(".gdt-message").hide().prev(".gdt-form").show();
                f();
                j("#recaptcha_challenge_field_holder").remove();
                j("#recaptcha_response_field").remove();
                d.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />');
                j.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                    j("#recaptcha_image").remove();
                    j('<div id="recaptcha_image"></div>').insertBefore(j("#" + o + " .recaptcha_only_if_incorrect_sol"));
                    window.Recaptcha.create(n, o, window.RecaptchaOptions)
                })
            });

            function f() {
                var q = j("#selectedCountry").val(),
                    p = j("main div.country-telephone"),
                    d = j("div.countryBtn:first select option[value^='" + q + "||']").val(),
                    o, n;
                if (q !== "") {
                    k.val(d)
                }
                o = j("div.countryBtn:first select option:selected").val();
                if (o) {
                    n = o.split("||");
                    if (n[1].length) {
                        p.addClass("visible").find("a").text(n[1]).attr("href", "tel:" + n[1])
                    }
                    if (n[0].length) {
                        j("#contact-concierge-form_country").val(n[0])
                    }
                    if (n[2].length) {
                        j("#contact-concierge-form_country-email").val(n[2])
                    }
                }
                k.on("change", function() {
                    var s = j("div.countryBtn:first select option:selected").val(),
                        r = s.split("||");
                    if (s === "") {
                        p.removeClass("visible").find("a").text("").attr("href", "#")
                    } else {
                        if (r[1].length) {
                            i.removeClass("has-error").find(".error").prop("hidden", true);
                            p.addClass("visible").find("a").text(r[1]).attr("href", "tel:" + r[1])
                        } else {
                            i.removeClass("has-error").find(".error").prop("hidden", true);
                            p.removeClass("visible").find("a").text("").attr("href", "#")
                        }
                    }
                    if (r.length && r.length > 0) {
                        j("#contact-concierge-form_country").val(r[0])
                    }
                    if (r.length && r.length > 2) {
                        j("#contact-concierge-form_country-email").val(r[2])
                    }
                })
            }

            function l(d) {
                j("#contact-concierge-form").find(".form_button_submit").addClass("loading");
                j("#contact-concierge-form_share-url").val(g.location);
                var n = j("div.countryBtn:first select option:selected").val();
                if (n === "") {
                    d.preventDefault();
                    i.addClass("has-error").find(".error").removeAttr("hidden");
                    j("#contact-concierge-form").find(".form_button_submit").removeClass("loading");
                    j("#gdt .modal-wrap.modal-wrap-scroll").animate({
                        scrollTop: 0
                    }, 300);
                    return false
                }
                j.ajax({
                    type: "post",
                    url: j("#contact-concierge-form").attr("action"),
                    data: j("#contact-concierge-form").serialize(),
                    dataType: "json",
                    success: function(p) {
                        var o = j("#contact-concierge-form");
                        if (p.status === true) {
                            o.parents(".gdt-form").hide().after("<div class='gdt-message'>" + p.message + "</div>");
                            g.Recaptcha.reload();
                            o.find("[type=reset]").trigger("click");
                            o.find(".captchaDiv").removeClass("captchaError")
                        } else {
                            if (p.status === false && p.validCaptcha !== undefined && p.validCaptcha === false) {
                                o.find(".captchaDiv").addClass("captchaError");
                                g.Recaptcha.reload()
                            } else {
                                o.parents(".gdt-form").after("<div class='gdt-message'>" + p.message + "</div>");
                                g.Recaptcha.reload();
                                o.find("[type=reset]").trigger("click");
                                o.find(".captchaDiv").removeClass("captchaError")
                            }
                        }
                        j("#contact-concierge-form").find(".form_button_submit").removeClass("loading")
                    },
                    error: function(o, q, p) {
                        j("#js-contact-concierge").find(".gdt-form").hide().after("<div class='gdt-message'>" + p + "</div>");
                        j("#contact-concierge-form").find(".form_button_submit").removeClass("loading")
                    }
                });
                d.preventDefault()
            }
            j("#contact-concierge-form").submit(l)
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var q = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    n = f.localStorage.cookieMessage ? JSON.parse(f.localStorage.cookieMessage) : undefined,
                    m = h("body"),
                    l = h("#js-cookies-bar"),
                    s = l.find(".cookies-bar-inner"),
                    d = h("#js-cookies-bar-accept"),
                    k = "cookies-bar-visible";

                function j() {
                    var u = f.getComputedStyle ? parseInt(f.getComputedStyle(l[0], ":after").getPropertyValue("height"), 10) : 0;
                    l.css("max-height", s.height() + u + "px");
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        m.css("margin-top", s.height() + u + "px")
                    }
                }

                function t() {
                    l.show();
                    m.addClass(k);
                    j()
                }

                function p() {
                    l.css({
                        "max-height": 0,
                        "margin-bottom": 0
                    });
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        m.css("margin-top", 0)
                    }
                    setTimeout(function() {
                        m.removeClass(k)
                    }, 500);
                    try {
                        f.localStorage.setItem("cookieMessage", JSON.stringify({
                            hide: true
                        }))
                    } catch (u) {}
                }

                function o() {
                    d.on(q, function(u) {
                        p();
                        u.preventDefault()
                    });
                    h(f).smartresize(function() {
                        if (m.hasClass(k)) {
                            j()
                        }
                    });
                    h('footer .cookies[href$="#cookies"]').on("click", function(u) {
                        u.preventDefault();
                        u.stopPropagation();
                        if (typeof cookieconsent !== "undefined") {
                            f.cookieconsent("show")
                        }
                        if (l.length) {
                            t()
                        }
                    })
                }

                function r() {
                    if (l.length) {
                        if (!(n && n.hide)) {
                            t()
                        }
                    }
                    o()
                }
                r()
            };
            f.gdt.CookiesBar = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(g, f) {
            f.countriesWithCapitals = [{
                CountryName: "Somaliland",
                CapitalName: "Hargeisa",
                CapitalLatitude: "9.55",
                CapitalLongitude: "44.050000",
                CountryCode: "NULL",
                ContinentName: "Africa"
            }, {
                CountryName: "South Georgia and South Sandwich Islands",
                CapitalName: "King Edward Point",
                CapitalLatitude: "-54.283333",
                CapitalLongitude: "-36.500000",
                CountryCode: "GS",
                ContinentName: "Antarctica"
            }, {
                CountryName: "French Southern and Antarctic Lands",
                CapitalName: "Port-aux-FranÃƒÂ§ais",
                CapitalLatitude: "-49.35",
                CapitalLongitude: "70.216667",
                CountryCode: "TF",
                ContinentName: "Antarctica"
            }, {
                CountryName: "PALESTINIAN TERRITORY, OCCUPIED",
                CapitalName: "Jerusalem",
                CapitalLatitude: "31.766666666666666",
                CapitalLongitude: "35.233333",
                CountryCode: "PS",
                ContinentName: "Asia"
            }, {
                CountryName: "Aland Islands",
                CapitalName: "Mariehamn",
                CapitalLatitude: "60.116667",
                CapitalLongitude: "19.900000",
                CountryCode: "AX",
                ContinentName: "Europe"
            }, {
                CountryName: "Nauru",
                CapitalName: "Yaren",
                CapitalLatitude: "-0.5477",
                CapitalLongitude: "166.920867",
                CountryCode: "NR",
                ContinentName: "Australia"
            }, {
                CountryName: "Saint Martin",
                CapitalName: "Marigot",
                CapitalLatitude: "18.0731",
                CapitalLongitude: "-63.082200",
                CountryCode: "MF",
                ContinentName: "North America"
            }, {
                CountryName: "Tokelau",
                CapitalName: "Atafu",
                CapitalLatitude: "-9.166667",
                CapitalLongitude: "-171.833333",
                CountryCode: "TK",
                ContinentName: "Australia"
            }, {
                CountryName: "Western Sahara",
                CapitalName: "El-AaiÃƒÂºn",
                CapitalLatitude: "27.153611",
                CapitalLongitude: "-13.203333",
                CountryCode: "EH",
                ContinentName: "Africa"
            }, {
                CountryName: "Afghanistan",
                CapitalName: "Kabul",
                CapitalLatitude: "34.516666666666666",
                CapitalLongitude: "69.183333",
                CountryCode: "AF",
                ContinentName: "Asia"
            }, {
                CountryName: "Albania",
                CapitalName: "Tirana",
                CapitalLatitude: "41.31666666666667",
                CapitalLongitude: "19.816667",
                CountryCode: "AL",
                ContinentName: "Europe"
            }, {
                CountryName: "Algeria",
                CapitalName: "Algiers",
                CapitalLatitude: "36.75",
                CapitalLongitude: "3.050000",
                CountryCode: "DZ",
                ContinentName: "Africa"
            }, {
                CountryName: "American Samoa",
                CapitalName: "Pago Pago",
                CapitalLatitude: "-14.266666666666667",
                CapitalLongitude: "-170.700000",
                CountryCode: "AS",
                ContinentName: "Australia"
            }, {
                CountryName: "Andorra",
                CapitalName: "Andorra la Vella",
                CapitalLatitude: "42.5",
                CapitalLongitude: "1.516667",
                CountryCode: "AD",
                ContinentName: "Europe"
            }, {
                CountryName: "Angola",
                CapitalName: "Luanda",
                CapitalLatitude: "-8.833333333333334",
                CapitalLongitude: "13.216667",
                CountryCode: "AO",
                ContinentName: "Africa"
            }, {
                CountryName: "Anguilla",
                CapitalName: "The Valley",
                CapitalLatitude: "18.216666666666665",
                CapitalLongitude: "-63.050000",
                CountryCode: "AI",
                ContinentName: "North America"
            }, {
                CountryName: "ANTIGUA AND BARBUDA",
                CapitalName: "Saint John's",
                CapitalLatitude: "17.116666666666667",
                CapitalLongitude: "-61.850000",
                CountryCode: "AG",
                ContinentName: "North America"
            }, {
                CountryName: "ARGENTINA",
                CapitalName: "Buenos Aires",
                CapitalLatitude: "-34.583333333333336",
                CapitalLongitude: "-58.666667",
                CountryCode: "AR",
                ContinentName: "South America"
            }, {
                CountryName: "ARMENIA",
                CapitalName: "Yerevan",
                CapitalLatitude: "40.166666666666664",
                CapitalLongitude: "44.500000",
                CountryCode: "AM",
                ContinentName: "Europe"
            }, {
                CountryName: "ARUBA",
                CapitalName: "Oranjestad",
                CapitalLatitude: "12.516666666666667",
                CapitalLongitude: "-70.033333",
                CountryCode: "AW",
                ContinentName: "North America"
            }, {
                CountryName: "AUSTRALIA",
                CapitalName: "Canberra",
                CapitalLatitude: "-35.266666666666666",
                CapitalLongitude: "149.133333",
                CountryCode: "AU",
                ContinentName: "Australia"
            }, {
                CountryName: "AUSTRIA",
                CapitalName: "Vienna",
                CapitalLatitude: "48.2",
                CapitalLongitude: "16.366667",
                CountryCode: "AT",
                ContinentName: "Europe"
            }, {
                CountryName: "Azerbaijan",
                CapitalName: "Baku",
                CapitalLatitude: "40.38333333333333",
                CapitalLongitude: "49.866667",
                CountryCode: "AZ",
                ContinentName: "Europe"
            }, {
                CountryName: "Bahamas",
                CapitalName: "Nassau",
                CapitalLatitude: "25.083333333333332",
                CapitalLongitude: "-77.350000",
                CountryCode: "BS",
                ContinentName: "North America"
            }, {
                CountryName: "Bahrain",
                CapitalName: "Manama",
                CapitalLatitude: "26.233333333333334",
                CapitalLongitude: "50.566667",
                CountryCode: "BH",
                ContinentName: "Asia"
            }, {
                CountryName: "Bangladesh",
                CapitalName: "Dhaka",
                CapitalLatitude: "23.716666666666665",
                CapitalLongitude: "90.400000",
                CountryCode: "BD",
                ContinentName: "Asia"
            }, {
                CountryName: "Barbados",
                CapitalName: "Bridgetown",
                CapitalLatitude: "13.1",
                CapitalLongitude: "-59.616667",
                CountryCode: "BB",
                ContinentName: "North America"
            }, {
                CountryName: "Belarus",
                CapitalName: "Minsk",
                CapitalLatitude: "53.9",
                CapitalLongitude: "27.566667",
                CountryCode: "BY",
                ContinentName: "Europe"
            }, {
                CountryName: "Belgium",
                CapitalName: "Brussels",
                CapitalLatitude: "50.833333333333336",
                CapitalLongitude: "4.333333",
                CountryCode: "BE",
                ContinentName: "Europe"
            }, {
                CountryName: "Belize",
                CapitalName: "Belmopan",
                CapitalLatitude: "17.25",
                CapitalLongitude: "-88.766667",
                CountryCode: "BZ",
                ContinentName: "Central America"
            }, {
                CountryName: "Benin",
                CapitalName: "Porto-Novo",
                CapitalLatitude: "6.483333333333333",
                CapitalLongitude: "2.616667",
                CountryCode: "BJ",
                ContinentName: "Africa"
            }, {
                CountryName: "Bermuda",
                CapitalName: "Hamilton",
                CapitalLatitude: "32.28333333333333",
                CapitalLongitude: "-64.783333",
                CountryCode: "BM",
                ContinentName: "North America"
            }, {
                CountryName: "Bhutan",
                CapitalName: "Thimphu",
                CapitalLatitude: "27.466666666666665",
                CapitalLongitude: "89.633333",
                CountryCode: "BT",
                ContinentName: "Asia"
            }, {
                CountryName: "BOLIVIA, PLURINATIONAL STATE OF",
                CapitalName: "La Paz",
                CapitalLatitude: "-16.5",
                CapitalLongitude: "-68.150000",
                CountryCode: "BO",
                ContinentName: "South America"
            }, {
                CountryName: "Bosnia and Herzegovina",
                CapitalName: "Sarajevo",
                CapitalLatitude: "43.86666666666667",
                CapitalLongitude: "18.416667",
                CountryCode: "BA",
                ContinentName: "Europe"
            }, {
                CountryName: "Botswana",
                CapitalName: "Gaborone",
                CapitalLatitude: "-24.633333333333333",
                CapitalLongitude: "25.900000",
                CountryCode: "BW",
                ContinentName: "Africa"
            }, {
                CountryName: "Brazil",
                CapitalName: "Brasilia",
                CapitalLatitude: "-15.783333333333333",
                CapitalLongitude: "-47.916667",
                CountryCode: "BR",
                ContinentName: "South America"
            }, {
                CountryName: "VIRGIN ISLANDS-BRITISH",
                CapitalName: "Road Town",
                CapitalLatitude: "18.416666666666668",
                CapitalLongitude: "-64.616667",
                CountryCode: "VG",
                ContinentName: "North America"
            }, {
                CountryName: "Brunei Darussalam",
                CapitalName: "Bandar Seri Begawan",
                CapitalLatitude: "4.883333333333333",
                CapitalLongitude: "114.933333",
                CountryCode: "BN",
                ContinentName: "Asia"
            }, {
                CountryName: "Bulgaria",
                CapitalName: "Sofia",
                CapitalLatitude: "42.68333333333333",
                CapitalLongitude: "23.316667",
                CountryCode: "BG",
                ContinentName: "Europe"
            }, {
                CountryName: "Burkina Faso",
                CapitalName: "Ouagadougou",
                CapitalLatitude: "12.366666666666667",
                CapitalLongitude: "-1.516667",
                CountryCode: "BF",
                ContinentName: "Africa"
            }, {
                CountryName: "Myanmar",
                CapitalName: "Rangoon",
                CapitalLatitude: "16.8",
                CapitalLongitude: "96.150000",
                CountryCode: "MM",
                ContinentName: "Asia"
            }, {
                CountryName: "Burundi",
                CapitalName: "Bujumbura",
                CapitalLatitude: "-3.3666666666666667",
                CapitalLongitude: "29.350000",
                CountryCode: "BI",
                ContinentName: "Africa"
            }, {
                CountryName: "Cambodia",
                CapitalName: "Phnom Penh",
                CapitalLatitude: "11.55",
                CapitalLongitude: "104.916667",
                CountryCode: "KH",
                ContinentName: "Asia"
            }, {
                CountryName: "Cameroon",
                CapitalName: "Yaounde",
                CapitalLatitude: "3.8666666666666667",
                CapitalLongitude: "11.516667",
                CountryCode: "CM",
                ContinentName: "Africa"
            }, {
                CountryName: "Canada",
                CapitalName: "Ottawa",
                CapitalLatitude: "45.416666666666664",
                CapitalLongitude: "-75.700000",
                CountryCode: "CA",
                ContinentName: "Central America"
            }, {
                CountryName: "Cape Verde",
                CapitalName: "Praia",
                CapitalLatitude: "14.916666666666666",
                CapitalLongitude: "-23.516667",
                CountryCode: "CV",
                ContinentName: "Africa"
            }, {
                CountryName: "Cayman Islands",
                CapitalName: "George Town",
                CapitalLatitude: "19.3",
                CapitalLongitude: "-81.383333",
                CountryCode: "KY",
                ContinentName: "North America"
            }, {
                CountryName: "Central African Republic",
                CapitalName: "Bangui",
                CapitalLatitude: "4.366666666666666",
                CapitalLongitude: "18.583333",
                CountryCode: "CF",
                ContinentName: "Africa"
            }, {
                CountryName: "Chad",
                CapitalName: "N'Djamena",
                CapitalLatitude: "12.1",
                CapitalLongitude: "15.033333",
                CountryCode: "TD",
                ContinentName: "Africa"
            }, {
                CountryName: "Chile",
                CapitalName: "Santiago",
                CapitalLatitude: "-33.45",
                CapitalLongitude: "-70.666667",
                CountryCode: "CL",
                ContinentName: "South America"
            }, {
                CountryName: "China",
                CapitalName: "Beijing",
                CapitalLatitude: "39.916666666666664",
                CapitalLongitude: "116.383333",
                CountryCode: "CN",
                ContinentName: "Asia"
            }, {
                CountryName: "Christmas Island",
                CapitalName: "The Settlement",
                CapitalLatitude: "-10.416666666666666",
                CapitalLongitude: "105.716667",
                CountryCode: "CX",
                ContinentName: "Australia"
            }, {
                CountryName: "Cocos Islands",
                CapitalName: "West Island",
                CapitalLatitude: "-12.166666666666666",
                CapitalLongitude: "96.833333",
                CountryCode: "CC",
                ContinentName: "Australia"
            }, {
                CountryName: "Colombia",
                CapitalName: "Bogota",
                CapitalLatitude: "4.6",
                CapitalLongitude: "-74.083333",
                CountryCode: "CO",
                ContinentName: "South America"
            }, {
                CountryName: "Comoros",
                CapitalName: "Moroni",
                CapitalLatitude: "-11.7",
                CapitalLongitude: "43.233333",
                CountryCode: "KM",
                ContinentName: "Africa"
            }, {
                CountryName: "CONGO, THE DEMOCRATIC REPUBLIC OF THE",
                CapitalName: "Kinshasa",
                CapitalLatitude: "-4.316666666666666",
                CapitalLongitude: "15.300000",
                CountryCode: "CD",
                ContinentName: "Africa"
            }, {
                CountryName: "Republic of Congo",
                CapitalName: "Brazzaville",
                CapitalLatitude: "-4.25",
                CapitalLongitude: "15.283333",
                CountryCode: "CG",
                ContinentName: "Africa"
            }, {
                CountryName: "Cook Islands",
                CapitalName: "Avarua",
                CapitalLatitude: "-21.2",
                CapitalLongitude: "-159.766667",
                CountryCode: "CK",
                ContinentName: "Australia"
            }, {
                CountryName: "Costa Rica",
                CapitalName: "San Jose",
                CapitalLatitude: "9.933333333333334",
                CapitalLongitude: "-84.083333",
                CountryCode: "CR",
                ContinentName: "Central America"
            }, {
                CountryName: "Cote d'Ivoire",
                CapitalName: "Yamoussoukro",
                CapitalLatitude: "6.816666666666666",
                CapitalLongitude: "-5.266667",
                CountryCode: "CI",
                ContinentName: "Africa"
            }, {
                CountryName: "Croatia",
                CapitalName: "Zagreb",
                CapitalLatitude: "45.8",
                CapitalLongitude: "16.000000",
                CountryCode: "HR",
                ContinentName: "Europe"
            }, {
                CountryName: "Cuba",
                CapitalName: "Havana",
                CapitalLatitude: "23.116666666666667",
                CapitalLongitude: "-82.350000",
                CountryCode: "CU",
                ContinentName: "North America"
            }, {
                CountryName: "CURACAO",
                CapitalName: "Willemstad",
                CapitalLatitude: "12.1",
                CapitalLongitude: "-68.916667",
                CountryCode: "CW",
                ContinentName: "North America"
            }, {
                CountryName: "Cyprus",
                CapitalName: "Nicosia",
                CapitalLatitude: "35.166666666666664",
                CapitalLongitude: "33.366667",
                CountryCode: "CY",
                ContinentName: "Europe"
            }, {
                CountryName: "Czech Republic",
                CapitalName: "Prague",
                CapitalLatitude: "50.083333333333336",
                CapitalLongitude: "14.466667",
                CountryCode: "CZ",
                ContinentName: "Europe"
            }, {
                CountryName: "Denmark",
                CapitalName: "Copenhagen",
                CapitalLatitude: "55.666666666666664",
                CapitalLongitude: "12.583333",
                CountryCode: "DK",
                ContinentName: "Europe"
            }, {
                CountryName: "Djibouti",
                CapitalName: "Djibouti",
                CapitalLatitude: "11.583333333333334",
                CapitalLongitude: "43.150000",
                CountryCode: "DJ",
                ContinentName: "Africa"
            }, {
                CountryName: "Dominica",
                CapitalName: "Roseau",
                CapitalLatitude: "15.3",
                CapitalLongitude: "-61.400000",
                CountryCode: "DM",
                ContinentName: "North America"
            }, {
                CountryName: "Dominican Republic",
                CapitalName: "Santo Domingo",
                CapitalLatitude: "18.466666666666665",
                CapitalLongitude: "-69.900000",
                CountryCode: "DO",
                ContinentName: "North America"
            }, {
                CountryName: "Ecuador",
                CapitalName: "Quito",
                CapitalLatitude: "-0.21666666666666667",
                CapitalLongitude: "-78.500000",
                CountryCode: "EC",
                ContinentName: "South America"
            }, {
                CountryName: "Egypt",
                CapitalName: "Cairo",
                CapitalLatitude: "30.05",
                CapitalLongitude: "31.250000",
                CountryCode: "EG",
                ContinentName: "Africa"
            }, {
                CountryName: "El Salvador",
                CapitalName: "San Salvador",
                CapitalLatitude: "13.7",
                CapitalLongitude: "-89.200000",
                CountryCode: "SV",
                ContinentName: "Central America"
            }, {
                CountryName: "Equatorial Guinea",
                CapitalName: "Malabo",
                CapitalLatitude: "3.75",
                CapitalLongitude: "8.783333",
                CountryCode: "GQ",
                ContinentName: "Africa"
            }, {
                CountryName: "Eritrea",
                CapitalName: "Asmara",
                CapitalLatitude: "15.333333333333334",
                CapitalLongitude: "38.933333",
                CountryCode: "ER",
                ContinentName: "Africa"
            }, {
                CountryName: "Estonia",
                CapitalName: "Tallinn",
                CapitalLatitude: "59.43333333333333",
                CapitalLongitude: "24.716667",
                CountryCode: "EE",
                ContinentName: "Europe"
            }, {
                CountryName: "Ethiopia",
                CapitalName: "Addis Ababa",
                CapitalLatitude: "9.033333333333333",
                CapitalLongitude: "38.700000",
                CountryCode: "ET",
                ContinentName: "Africa"
            }, {
                CountryName: "Falkland Islands",
                CapitalName: "Stanley",
                CapitalLatitude: "-51.7",
                CapitalLongitude: "-57.850000",
                CountryCode: "FK",
                ContinentName: "South America"
            }, {
                CountryName: "Faroe Islands",
                CapitalName: "Torshavn",
                CapitalLatitude: "62",
                CapitalLongitude: "-6.766667",
                CountryCode: "FO",
                ContinentName: "Europe"
            }, {
                CountryName: "Fiji",
                CapitalName: "Suva",
                CapitalLatitude: "-18.133333333333333",
                CapitalLongitude: "178.416667",
                CountryCode: "FJ",
                ContinentName: "Australia"
            }, {
                CountryName: "Finland",
                CapitalName: "Helsinki",
                CapitalLatitude: "60.166666666666664",
                CapitalLongitude: "24.933333",
                CountryCode: "FI",
                ContinentName: "Europe"
            }, {
                CountryName: "France",
                CapitalName: "Paris",
                CapitalLatitude: "48.86666666666667",
                CapitalLongitude: "2.333333",
                CountryCode: "FR",
                ContinentName: "Europe"
            }, {
                CountryName: "French Polynesia",
                CapitalName: "Papeete",
                CapitalLatitude: "-17.533333333333335",
                CapitalLongitude: "-149.566667",
                CountryCode: "PF",
                ContinentName: "Australia"
            }, {
                CountryName: "Gabon",
                CapitalName: "Libreville",
                CapitalLatitude: "0.38333333333333336",
                CapitalLongitude: "9.450000",
                CountryCode: "GA",
                ContinentName: "Africa"
            }, {
                CountryName: "The Gambia",
                CapitalName: "Banjul",
                CapitalLatitude: "13.45",
                CapitalLongitude: "-16.566667",
                CountryCode: "GM",
                ContinentName: "Africa"
            }, {
                CountryName: "Georgia",
                CapitalName: "Tbilisi",
                CapitalLatitude: "41.68333333333333",
                CapitalLongitude: "44.833333",
                CountryCode: "GE",
                ContinentName: "Europe"
            }, {
                CountryName: "Germany",
                CapitalName: "Berlin",
                CapitalLatitude: "52.516666666666666",
                CapitalLongitude: "13.400000",
                CountryCode: "DE",
                ContinentName: "Europe"
            }, {
                CountryName: "Ghana",
                CapitalName: "Accra",
                CapitalLatitude: "5.55",
                CapitalLongitude: "-0.216667",
                CountryCode: "GH",
                ContinentName: "Africa"
            }, {
                CountryName: "Gibraltar",
                CapitalName: "Gibraltar",
                CapitalLatitude: "36.13333333333333",
                CapitalLongitude: "-5.350000",
                CountryCode: "GI",
                ContinentName: "Europe"
            }, {
                CountryName: "Greece",
                CapitalName: "Athens",
                CapitalLatitude: "37.983333333333334",
                CapitalLongitude: "23.733333",
                CountryCode: "GR",
                ContinentName: "Europe"
            }, {
                CountryName: "Greenland",
                CapitalName: "Nuuk",
                CapitalLatitude: "64.18333333333334",
                CapitalLongitude: "-51.750000",
                CountryCode: "GL",
                ContinentName: "Central America"
            }, {
                CountryName: "Grenada",
                CapitalName: "Saint George's",
                CapitalLatitude: "12.05",
                CapitalLongitude: "-61.750000",
                CountryCode: "GD",
                ContinentName: "North America"
            }, {
                CountryName: "Guam",
                CapitalName: "Hagatna",
                CapitalLatitude: "13.466666666666667",
                CapitalLongitude: "144.733333",
                CountryCode: "GU",
                ContinentName: "Australia"
            }, {
                CountryName: "Guatemala",
                CapitalName: "Guatemala City",
                CapitalLatitude: "14.616666666666667",
                CapitalLongitude: "-90.516667",
                CountryCode: "GT",
                ContinentName: "Central America"
            }, {
                CountryName: "Guernsey",
                CapitalName: "Saint Peter Port",
                CapitalLatitude: "49.45",
                CapitalLongitude: "-2.533333",
                CountryCode: "GG",
                ContinentName: "Europe"
            }, {
                CountryName: "Guinea",
                CapitalName: "Conakry",
                CapitalLatitude: "9.5",
                CapitalLongitude: "-13.700000",
                CountryCode: "GN",
                ContinentName: "Africa"
            }, {
                CountryName: "Guinea-Bissau",
                CapitalName: "Bissau",
                CapitalLatitude: "11.85",
                CapitalLongitude: "-15.583333",
                CountryCode: "GW",
                ContinentName: "Africa"
            }, {
                CountryName: "Guyana",
                CapitalName: "Georgetown",
                CapitalLatitude: "6.8",
                CapitalLongitude: "-58.150000",
                CountryCode: "GY",
                ContinentName: "South America"
            }, {
                CountryName: "Haiti",
                CapitalName: "Port-au-Prince",
                CapitalLatitude: "18.533333333333335",
                CapitalLongitude: "-72.333333",
                CountryCode: "HT",
                ContinentName: "North America"
            }, {
                CountryName: "Vatican City",
                CapitalName: "Vatican City",
                CapitalLatitude: "41.9",
                CapitalLongitude: "12.450000",
                CountryCode: "VA",
                ContinentName: "Europe"
            }, {
                CountryName: "Honduras",
                CapitalName: "Tegucigalpa",
                CapitalLatitude: "14.1",
                CapitalLongitude: "-87.216667",
                CountryCode: "HN",
                ContinentName: "Central America"
            }, {
                CountryName: "Hungary",
                CapitalName: "Budapest",
                CapitalLatitude: "47.5",
                CapitalLongitude: "19.083333",
                CountryCode: "HU",
                ContinentName: "Europe"
            }, {
                CountryName: "Iceland",
                CapitalName: "Reykjavik",
                CapitalLatitude: "64.15",
                CapitalLongitude: "-21.950000",
                CountryCode: "IS",
                ContinentName: "Europe"
            }, {
                CountryName: "India",
                CapitalName: "New Delhi",
                CapitalLatitude: "28.6",
                CapitalLongitude: "77.200000",
                CountryCode: "IN",
                ContinentName: "Asia"
            }, {
                CountryName: "Indonesia",
                CapitalName: "Jakarta",
                CapitalLatitude: "-6.166666666666667",
                CapitalLongitude: "106.816667",
                CountryCode: "ID",
                ContinentName: "Asia"
            }, {
                CountryName: "IRAN. ISLAMIC REPUBLIC OF",
                CapitalName: "Tehran",
                CapitalLatitude: "35.7",
                CapitalLongitude: "51.416667",
                CountryCode: "IR",
                ContinentName: "Asia"
            }, {
                CountryName: "Iraq",
                CapitalName: "Baghdad",
                CapitalLatitude: "33.333333333333336",
                CapitalLongitude: "44.400000",
                CountryCode: "IQ",
                ContinentName: "Asia"
            }, {
                CountryName: "Ireland",
                CapitalName: "Dublin",
                CapitalLatitude: "53.31666666666667",
                CapitalLongitude: "-6.233333",
                CountryCode: "IE",
                ContinentName: "Europe"
            }, {
                CountryName: "Isle of Man",
                CapitalName: "Douglas",
                CapitalLatitude: "54.15",
                CapitalLongitude: "-4.483333",
                CountryCode: "IM",
                ContinentName: "Europe"
            }, {
                CountryName: "Israel",
                CapitalName: "Jerusalem",
                CapitalLatitude: "31.766666666666666",
                CapitalLongitude: "35.233333",
                CountryCode: "IL",
                ContinentName: "Asia"
            }, {
                CountryName: "Italy",
                CapitalName: "Rome",
                CapitalLatitude: "41.9",
                CapitalLongitude: "12.483333",
                CountryCode: "IT",
                ContinentName: "Europe"
            }, {
                CountryName: "Jamaica",
                CapitalName: "Kingston",
                CapitalLatitude: "18",
                CapitalLongitude: "-76.800000",
                CountryCode: "JM",
                ContinentName: "North America"
            }, {
                CountryName: "Japan",
                CapitalName: "Tokyo",
                CapitalLatitude: "35.68333333333333",
                CapitalLongitude: "139.750000",
                CountryCode: "JP",
                ContinentName: "Asia"
            }, {
                CountryName: "Jersey",
                CapitalName: "Saint Helier",
                CapitalLatitude: "49.18333333333333",
                CapitalLongitude: "-2.100000",
                CountryCode: "JE",
                ContinentName: "Europe"
            }, {
                CountryName: "Jordan",
                CapitalName: "Amman",
                CapitalLatitude: "31.95",
                CapitalLongitude: "35.933333",
                CountryCode: "JO",
                ContinentName: "Asia"
            }, {
                CountryName: "Kazakhstan",
                CapitalName: "Astana",
                CapitalLatitude: "51.166666666666664",
                CapitalLongitude: "71.416667",
                CountryCode: "KZ",
                ContinentName: "Asia"
            }, {
                CountryName: "Kenya",
                CapitalName: "Nairobi",
                CapitalLatitude: "-1.2833333333333332",
                CapitalLongitude: "36.816667",
                CountryCode: "KE",
                ContinentName: "Africa"
            }, {
                CountryName: "Kiribati",
                CapitalName: "Tarawa",
                CapitalLatitude: "-0.8833333333333333",
                CapitalLongitude: "169.533333",
                CountryCode: "KI",
                ContinentName: "Australia"
            }, {
                CountryName: "KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF",
                CapitalName: "Pyongyang",
                CapitalLatitude: "39.016666666666666",
                CapitalLongitude: "125.750000",
                CountryCode: "KP",
                ContinentName: "Asia"
            }, {
                CountryName: "KOREA. REPUBLIC OF",
                CapitalName: "Seoul",
                CapitalLatitude: "37.55",
                CapitalLongitude: "126.983333",
                CountryCode: "KR",
                ContinentName: "Asia"
            }, {
                CountryName: "Kosovo",
                CapitalName: "Pristina",
                CapitalLatitude: "42.666666666666664",
                CapitalLongitude: "21.166667",
                CountryCode: "KO",
                ContinentName: "Europe"
            }, {
                CountryName: "Kuwait",
                CapitalName: "Kuwait City",
                CapitalLatitude: "29.366666666666667",
                CapitalLongitude: "47.966667",
                CountryCode: "KW",
                ContinentName: "Asia"
            }, {
                CountryName: "Kyrgyzstan",
                CapitalName: "Bishkek",
                CapitalLatitude: "42.86666666666667",
                CapitalLongitude: "74.600000",
                CountryCode: "KG",
                ContinentName: "Asia"
            }, {
                CountryName: "LAO PEOPLE'S DEMOCRATIC REPUBLIC",
                CapitalName: "Vientiane",
                CapitalLatitude: "17.966666666666665",
                CapitalLongitude: "102.600000",
                CountryCode: "LA",
                ContinentName: "Asia"
            }, {
                CountryName: "Latvia",
                CapitalName: "Riga",
                CapitalLatitude: "56.95",
                CapitalLongitude: "24.100000",
                CountryCode: "LV",
                ContinentName: "Europe"
            }, {
                CountryName: "Lebanon",
                CapitalName: "Beirut",
                CapitalLatitude: "33.86666666666667",
                CapitalLongitude: "35.500000",
                CountryCode: "LB",
                ContinentName: "Asia"
            }, {
                CountryName: "Lesotho",
                CapitalName: "Maseru",
                CapitalLatitude: "-29.316666666666666",
                CapitalLongitude: "27.483333",
                CountryCode: "LS",
                ContinentName: "Africa"
            }, {
                CountryName: "Liberia",
                CapitalName: "Monrovia",
                CapitalLatitude: "6.3",
                CapitalLongitude: "-10.800000",
                CountryCode: "LR",
                ContinentName: "Africa"
            }, {
                CountryName: "Libya",
                CapitalName: "Tripoli",
                CapitalLatitude: "32.88333333333333",
                CapitalLongitude: "13.166667",
                CountryCode: "LY",
                ContinentName: "Africa"
            }, {
                CountryName: "Liechtenstein",
                CapitalName: "Vaduz",
                CapitalLatitude: "47.13333333333333",
                CapitalLongitude: "9.516667",
                CountryCode: "LI",
                ContinentName: "Europe"
            }, {
                CountryName: "Lithuania",
                CapitalName: "Vilnius",
                CapitalLatitude: "54.68333333333333",
                CapitalLongitude: "25.316667",
                CountryCode: "LT",
                ContinentName: "Europe"
            }, {
                CountryName: "Luxembourg",
                CapitalName: "Luxembourg",
                CapitalLatitude: "49.6",
                CapitalLongitude: "6.116667",
                CountryCode: "LU",
                ContinentName: "Europe"
            }, {
                CountryName: "MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF",
                CapitalName: "Skopje",
                CapitalLatitude: "42",
                CapitalLongitude: "21.433333",
                CountryCode: "MK",
                ContinentName: "Europe"
            }, {
                CountryName: "Madagascar",
                CapitalName: "Antananarivo",
                CapitalLatitude: "-18.916666666666668",
                CapitalLongitude: "47.516667",
                CountryCode: "MG",
                ContinentName: "Africa"
            }, {
                CountryName: "Malawi",
                CapitalName: "Lilongwe",
                CapitalLatitude: "-13.966666666666667",
                CapitalLongitude: "33.783333",
                CountryCode: "MW",
                ContinentName: "Africa"
            }, {
                CountryName: "Malaysia",
                CapitalName: "Kuala Lumpur",
                CapitalLatitude: "3.1666666666666665",
                CapitalLongitude: "101.700000",
                CountryCode: "MY",
                ContinentName: "Asia"
            }, {
                CountryName: "Maldives",
                CapitalName: "Male",
                CapitalLatitude: "4.166666666666667",
                CapitalLongitude: "73.500000",
                CountryCode: "MV",
                ContinentName: "Asia"
            }, {
                CountryName: "Mali",
                CapitalName: "Bamako",
                CapitalLatitude: "12.65",
                CapitalLongitude: "-8.000000",
                CountryCode: "ML",
                ContinentName: "Africa"
            }, {
                CountryName: "Malta",
                CapitalName: "Valletta",
                CapitalLatitude: "35.88333333333333",
                CapitalLongitude: "14.500000",
                CountryCode: "MT",
                ContinentName: "Europe"
            }, {
                CountryName: "Marshall Islands",
                CapitalName: "Majuro",
                CapitalLatitude: "7.1",
                CapitalLongitude: "171.383333",
                CountryCode: "MH",
                ContinentName: "Australia"
            }, {
                CountryName: "Mauritania",
                CapitalName: "Nouakchott",
                CapitalLatitude: "18.066666666666666",
                CapitalLongitude: "-15.966667",
                CountryCode: "MR",
                ContinentName: "Africa"
            }, {
                CountryName: "Mauritius",
                CapitalName: "Port Louis",
                CapitalLatitude: "-20.15",
                CapitalLongitude: "57.483333",
                CountryCode: "MU",
                ContinentName: "Africa"
            }, {
                CountryName: "Mexico",
                CapitalName: "Mexico City",
                CapitalLatitude: "19.433333333333334",
                CapitalLongitude: "-99.133333",
                CountryCode: "MX",
                ContinentName: "Central America"
            }, {
                CountryName: "Federated States of Micronesia",
                CapitalName: "Palikir",
                CapitalLatitude: "6.916666666666667",
                CapitalLongitude: "158.150000",
                CountryCode: "FM",
                ContinentName: "Australia"
            }, {
                CountryName: "MOLDOVA, REPUBLIC OF",
                CapitalName: "Chisinau",
                CapitalLatitude: "47",
                CapitalLongitude: "28.850000",
                CountryCode: "MD",
                ContinentName: "Europe"
            }, {
                CountryName: "Monaco",
                CapitalName: "Monaco",
                CapitalLatitude: "43.733333333333334",
                CapitalLongitude: "7.416667",
                CountryCode: "MC",
                ContinentName: "Europe"
            }, {
                CountryName: "Mongolia",
                CapitalName: "Ulaanbaatar",
                CapitalLatitude: "47.916666666666664",
                CapitalLongitude: "106.916667",
                CountryCode: "MN",
                ContinentName: "Asia"
            }, {
                CountryName: "Montenegro",
                CapitalName: "Podgorica",
                CapitalLatitude: "42.43333333333333",
                CapitalLongitude: "19.266667",
                CountryCode: "ME",
                ContinentName: "Europe"
            }, {
                CountryName: "Montserrat",
                CapitalName: "Plymouth",
                CapitalLatitude: "16.7",
                CapitalLongitude: "-62.216667",
                CountryCode: "MS",
                ContinentName: "North America"
            }, {
                CountryName: "Morocco",
                CapitalName: "Rabat",
                CapitalLatitude: "34.016666666666666",
                CapitalLongitude: "-6.816667",
                CountryCode: "MA",
                ContinentName: "Africa"
            }, {
                CountryName: "Mozambique",
                CapitalName: "Maputo",
                CapitalLatitude: "-25.95",
                CapitalLongitude: "32.583333",
                CountryCode: "MZ",
                ContinentName: "Africa"
            }, {
                CountryName: "Namibia",
                CapitalName: "Windhoek",
                CapitalLatitude: "-22.566666666666666",
                CapitalLongitude: "17.083333",
                CountryCode: "NA",
                ContinentName: "Africa"
            }, {
                CountryName: "Nepal",
                CapitalName: "Kathmandu",
                CapitalLatitude: "27.716666666666665",
                CapitalLongitude: "85.316667",
                CountryCode: "NP",
                ContinentName: "Asia"
            }, {
                CountryName: "Netherlands",
                CapitalName: "Amsterdam",
                CapitalLatitude: "52.35",
                CapitalLongitude: "4.916667",
                CountryCode: "NL",
                ContinentName: "Europe"
            }, {
                CountryName: "New Caledonia",
                CapitalName: "Noumea",
                CapitalLatitude: "-22.266666666666666",
                CapitalLongitude: "166.450000",
                CountryCode: "NC",
                ContinentName: "Australia"
            }, {
                CountryName: "New Zealand",
                CapitalName: "Wellington",
                CapitalLatitude: "-41.3",
                CapitalLongitude: "174.783333",
                CountryCode: "NZ",
                ContinentName: "Australia"
            }, {
                CountryName: "Nicaragua",
                CapitalName: "Managua",
                CapitalLatitude: "12.133333333333333",
                CapitalLongitude: "-86.250000",
                CountryCode: "NI",
                ContinentName: "Central America"
            }, {
                CountryName: "Niger",
                CapitalName: "Niamey",
                CapitalLatitude: "13.516666666666667",
                CapitalLongitude: "2.116667",
                CountryCode: "NE",
                ContinentName: "Africa"
            }, {
                CountryName: "Nigeria",
                CapitalName: "Abuja",
                CapitalLatitude: "9.083333333333334",
                CapitalLongitude: "7.533333",
                CountryCode: "NG",
                ContinentName: "Africa"
            }, {
                CountryName: "Niue",
                CapitalName: "Alofi",
                CapitalLatitude: "-19.016666666666666",
                CapitalLongitude: "-169.916667",
                CountryCode: "NU",
                ContinentName: "Australia"
            }, {
                CountryName: "Norfolk Island",
                CapitalName: "Kingston",
                CapitalLatitude: "-29.05",
                CapitalLongitude: "167.966667",
                CountryCode: "NF",
                ContinentName: "Australia"
            }, {
                CountryName: "Northern Mariana Islands",
                CapitalName: "Saipan",
                CapitalLatitude: "15.2",
                CapitalLongitude: "145.750000",
                CountryCode: "MP",
                ContinentName: "Australia"
            }, {
                CountryName: "Norway",
                CapitalName: "Oslo",
                CapitalLatitude: "59.916666666666664",
                CapitalLongitude: "10.750000",
                CountryCode: "NO",
                ContinentName: "Europe"
            }, {
                CountryName: "Oman",
                CapitalName: "Muscat",
                CapitalLatitude: "23.616666666666667",
                CapitalLongitude: "58.583333",
                CountryCode: "OM",
                ContinentName: "Asia"
            }, {
                CountryName: "Pakistan",
                CapitalName: "Islamabad",
                CapitalLatitude: "33.68333333333333",
                CapitalLongitude: "73.050000",
                CountryCode: "PK",
                ContinentName: "Asia"
            }, {
                CountryName: "Palau",
                CapitalName: "Melekeok",
                CapitalLatitude: "7.483333333333333",
                CapitalLongitude: "134.633333",
                CountryCode: "PW",
                ContinentName: "Australia"
            }, {
                CountryName: "Panama",
                CapitalName: "Panama City",
                CapitalLatitude: "8.966666666666667",
                CapitalLongitude: "-79.533333",
                CountryCode: "PA",
                ContinentName: "Central America"
            }, {
                CountryName: "Papua New Guinea",
                CapitalName: "Port Moresby",
                CapitalLatitude: "-9.45",
                CapitalLongitude: "147.183333",
                CountryCode: "PG",
                ContinentName: "Australia"
            }, {
                CountryName: "Paraguay",
                CapitalName: "Asuncion",
                CapitalLatitude: "-25.266666666666666",
                CapitalLongitude: "-57.666667",
                CountryCode: "PY",
                ContinentName: "South America"
            }, {
                CountryName: "Peru",
                CapitalName: "Lima",
                CapitalLatitude: "-12.05",
                CapitalLongitude: "-77.050000",
                CountryCode: "PE",
                ContinentName: "South America"
            }, {
                CountryName: "Philippines",
                CapitalName: "Manila",
                CapitalLatitude: "14.6",
                CapitalLongitude: "120.966667",
                CountryCode: "PH",
                ContinentName: "Asia"
            }, {
                CountryName: "Pitcairn Islands",
                CapitalName: "Adamstown",
                CapitalLatitude: "-25.066666666666666",
                CapitalLongitude: "-130.083333",
                CountryCode: "PN",
                ContinentName: "Australia"
            }, {
                CountryName: "Poland",
                CapitalName: "Warsaw",
                CapitalLatitude: "52.25",
                CapitalLongitude: "21.000000",
                CountryCode: "PL",
                ContinentName: "Europe"
            }, {
                CountryName: "Portugal",
                CapitalName: "Lisbon",
                CapitalLatitude: "38.71666666666667",
                CapitalLongitude: "-9.133333",
                CountryCode: "PT",
                ContinentName: "Europe"
            }, {
                CountryName: "Puerto Rico",
                CapitalName: "San Juan",
                CapitalLatitude: "18.466666666666665",
                CapitalLongitude: "-66.116667",
                CountryCode: "PR",
                ContinentName: "North America"
            }, {
                CountryName: "Qatar",
                CapitalName: "Doha",
                CapitalLatitude: "25.283333333333335",
                CapitalLongitude: "51.533333",
                CountryCode: "QA",
                ContinentName: "Asia"
            }, {
                CountryName: "Romania",
                CapitalName: "Bucharest",
                CapitalLatitude: "44.43333333333333",
                CapitalLongitude: "26.100000",
                CountryCode: "RO",
                ContinentName: "Europe"
            }, {
                CountryName: "Russia",
                CapitalName: "Moscow",
                CapitalLatitude: "55.75",
                CapitalLongitude: "37.600000",
                CountryCode: "RU",
                ContinentName: "Europe"
            }, {
                CountryName: "RUSSIAN FEDERATION",
                CapitalName: "Moscow",
                CapitalLatitude: "55.75",
                CapitalLongitude: "37.600000",
                CountryCode: "RU",
                ContinentName: "Europe"
            }, {
                CountryName: "Rwanda",
                CapitalName: "Kigali",
                CapitalLatitude: "-1.95",
                CapitalLongitude: "30.050000",
                CountryCode: "RW",
                ContinentName: "Africa"
            }, {
                CountryName: "Saint Barthelemy",
                CapitalName: "Gustavia",
                CapitalLatitude: "17.883333333333333",
                CapitalLongitude: "-62.850000",
                CountryCode: "BL",
                ContinentName: "North America"
            }, {
                CountryName: "Saint Helena",
                CapitalName: "Jamestown",
                CapitalLatitude: "-15.933333333333334",
                CapitalLongitude: "-5.716667",
                CountryCode: "SH",
                ContinentName: "Africa"
            }, {
                CountryName: "Saint Kitts and Nevis",
                CapitalName: "Basseterre",
                CapitalLatitude: "17.3",
                CapitalLongitude: "-62.716667",
                CountryCode: "KN",
                ContinentName: "North America"
            }, {
                CountryName: "Saint Lucia",
                CapitalName: "Castries",
                CapitalLatitude: "14",
                CapitalLongitude: "-61.000000",
                CountryCode: "LC",
                ContinentName: "North America"
            }, {
                CountryName: "Saint Pierre and Miquelon",
                CapitalName: "Saint-Pierre",
                CapitalLatitude: "46.766666666666666",
                CapitalLongitude: "-56.183333",
                CountryCode: "PM",
                ContinentName: "Central America"
            }, {
                CountryName: "Saint Vincent and the Grenadines",
                CapitalName: "Kingstown",
                CapitalLatitude: "13.133333333333333",
                CapitalLongitude: "-61.216667",
                CountryCode: "VC",
                ContinentName: "Central America"
            }, {
                CountryName: "Samoa",
                CapitalName: "Apia",
                CapitalLatitude: "-13.816666666666666",
                CapitalLongitude: "-171.766667",
                CountryCode: "WS",
                ContinentName: "Australia"
            }, {
                CountryName: "San Marino",
                CapitalName: "San Marino",
                CapitalLatitude: "43.93333333333333",
                CapitalLongitude: "12.416667",
                CountryCode: "SM",
                ContinentName: "Europe"
            }, {
                CountryName: "Sao Tome and Principe",
                CapitalName: "Sao Tome",
                CapitalLatitude: "0.3333333333333333",
                CapitalLongitude: "6.733333",
                CountryCode: "ST",
                ContinentName: "Africa"
            }, {
                CountryName: "Saudi Arabia",
                CapitalName: "Riyadh",
                CapitalLatitude: "24.65",
                CapitalLongitude: "46.700000",
                CountryCode: "SA",
                ContinentName: "Asia"
            }, {
                CountryName: "Senegal",
                CapitalName: "Dakar",
                CapitalLatitude: "14.733333333333333",
                CapitalLongitude: "-17.633333",
                CountryCode: "SN",
                ContinentName: "Africa"
            }, {
                CountryName: "Serbia",
                CapitalName: "Belgrade",
                CapitalLatitude: "44.833333333333336",
                CapitalLongitude: "20.500000",
                CountryCode: "RS",
                ContinentName: "Europe"
            }, {
                CountryName: "Seychelles",
                CapitalName: "Victoria",
                CapitalLatitude: "-4.616666666666667",
                CapitalLongitude: "55.450000",
                CountryCode: "SC",
                ContinentName: "Africa"
            }, {
                CountryName: "Sierra Leone",
                CapitalName: "Freetown",
                CapitalLatitude: "8.483333333333333",
                CapitalLongitude: "-13.233333",
                CountryCode: "SL",
                ContinentName: "Africa"
            }, {
                CountryName: "Singapore",
                CapitalName: "Singapore",
                CapitalLatitude: "1.2833333333333332",
                CapitalLongitude: "103.850000",
                CountryCode: "SG",
                ContinentName: "Asia"
            }, {
                CountryName: "SINT MAARTEN (DUTCH PART)",
                CapitalName: "Philipsburg",
                CapitalLatitude: "18.016666666666666",
                CapitalLongitude: "-63.033333",
                CountryCode: "SX",
                ContinentName: "North America"
            }, {
                CountryName: "Slovakia",
                CapitalName: "Bratislava",
                CapitalLatitude: "48.15",
                CapitalLongitude: "17.116667",
                CountryCode: "SK",
                ContinentName: "Europe"
            }, {
                CountryName: "Slovenia",
                CapitalName: "Ljubljana",
                CapitalLatitude: "46.05",
                CapitalLongitude: "14.516667",
                CountryCode: "SI",
                ContinentName: "Europe"
            }, {
                CountryName: "Solomon Islands",
                CapitalName: "Honiara",
                CapitalLatitude: "-9.433333333333334",
                CapitalLongitude: "159.950000",
                CountryCode: "SB",
                ContinentName: "Australia"
            }, {
                CountryName: "Somalia",
                CapitalName: "Mogadishu",
                CapitalLatitude: "2.066666666666667",
                CapitalLongitude: "45.333333",
                CountryCode: "SO",
                ContinentName: "Africa"
            }, {
                CountryName: "South Africa",
                CapitalName: "Pretoria",
                CapitalLatitude: "-25.7",
                CapitalLongitude: "28.216667",
                CountryCode: "ZA",
                ContinentName: "Africa"
            }, {
                CountryName: "South Sudan",
                CapitalName: "Juba",
                CapitalLatitude: "4.85",
                CapitalLongitude: "31.616667",
                CountryCode: "SS",
                ContinentName: "Africa"
            }, {
                CountryName: "Spain",
                CapitalName: "Madrid",
                CapitalLatitude: "40.4",
                CapitalLongitude: "-3.683333",
                CountryCode: "ES",
                ContinentName: "Europe"
            }, {
                CountryName: "Sri Lanka",
                CapitalName: "Colombo",
                CapitalLatitude: "6.916666666666667",
                CapitalLongitude: "79.833333",
                CountryCode: "LK",
                ContinentName: "Asia"
            }, {
                CountryName: "Sudan",
                CapitalName: "Khartoum",
                CapitalLatitude: "15.6",
                CapitalLongitude: "32.533333",
                CountryCode: "SD",
                ContinentName: "Africa"
            }, {
                CountryName: "Suriname",
                CapitalName: "Paramaribo",
                CapitalLatitude: "5.833333333333333",
                CapitalLongitude: "-55.166667",
                CountryCode: "SR",
                ContinentName: "South America"
            }, {
                CountryName: "Svalbard",
                CapitalName: "Longyearbyen",
                CapitalLatitude: "78.21666666666667",
                CapitalLongitude: "15.633333",
                CountryCode: "SJ",
                ContinentName: "Europe"
            }, {
                CountryName: "Swaziland",
                CapitalName: "Mbabane",
                CapitalLatitude: "-26.316666666666666",
                CapitalLongitude: "31.133333",
                CountryCode: "SZ",
                ContinentName: "Africa"
            }, {
                CountryName: "Sweden",
                CapitalName: "Stockholm",
                CapitalLatitude: "59.333333333333336",
                CapitalLongitude: "18.050000",
                CountryCode: "SE",
                ContinentName: "Europe"
            }, {
                CountryName: "Switzerland",
                CapitalName: "Bern",
                CapitalLatitude: "46.916666666666664",
                CapitalLongitude: "7.466667",
                CountryCode: "CH",
                ContinentName: "Europe"
            }, {
                CountryName: "SYRIAN ARAB REPUBLIC",
                CapitalName: "Damascus",
                CapitalLatitude: "33.5",
                CapitalLongitude: "36.300000",
                CountryCode: "SY",
                ContinentName: "Asia"
            }, {
                CountryName: "Taiwan",
                CapitalName: "Taipei",
                CapitalLatitude: "25.033333333333335",
                CapitalLongitude: "121.516667",
                CountryCode: "TW",
                ContinentName: "Asia"
            }, {
                CountryName: " TAIWAN, PROVINCE OF CHINA",
                CapitalName: "Taipei",
                CapitalLatitude: "25.033333333333335",
                CapitalLongitude: "121.516667",
                CountryCode: "TW",
                ContinentName: "Asia"
            }, {
                CountryName: "Tajikistan",
                CapitalName: "Dushanbe",
                CapitalLatitude: "38.55",
                CapitalLongitude: "68.766667",
                CountryCode: "TJ",
                ContinentName: "Asia"
            }, {
                CountryName: "TANZANIA, UNITED REPUBLIC OF",
                CapitalName: "Dar es Salaam",
                CapitalLatitude: "-6.8",
                CapitalLongitude: "39.283333",
                CountryCode: "TZ",
                ContinentName: "Africa"
            }, {
                CountryName: "Thailand",
                CapitalName: "Bangkok",
                CapitalLatitude: "13.75",
                CapitalLongitude: "100.516667",
                CountryCode: "TH",
                ContinentName: "Asia"
            }, {
                CountryName: "Timor-Leste",
                CapitalName: "Dili",
                CapitalLatitude: "-8.583333333333334",
                CapitalLongitude: "125.600000",
                CountryCode: "TL",
                ContinentName: "Asia"
            }, {
                CountryName: "Togo",
                CapitalName: "Lome",
                CapitalLatitude: "6.116666666666666",
                CapitalLongitude: "1.216667",
                CountryCode: "TG",
                ContinentName: "Africa"
            }, {
                CountryName: "Tonga",
                CapitalName: "Nuku'alofa",
                CapitalLatitude: "-21.133333333333333",
                CapitalLongitude: "-175.200000",
                CountryCode: "TO",
                ContinentName: "Australia"
            }, {
                CountryName: "Trinidad and Tobago",
                CapitalName: "Port of Spain",
                CapitalLatitude: "10.65",
                CapitalLongitude: "-61.516667",
                CountryCode: "TT",
                ContinentName: "North America"
            }, {
                CountryName: "Tunisia",
                CapitalName: "Tunis",
                CapitalLatitude: "36.8",
                CapitalLongitude: "10.183333",
                CountryCode: "TN",
                ContinentName: "Africa"
            }, {
                CountryName: "Turkey",
                CapitalName: "Ankara",
                CapitalLatitude: "39.93333333333333",
                CapitalLongitude: "32.866667",
                CountryCode: "TR",
                ContinentName: "Europe"
            }, {
                CountryName: "Turkmenistan",
                CapitalName: "Ashgabat",
                CapitalLatitude: "37.95",
                CapitalLongitude: "58.383333",
                CountryCode: "TM",
                ContinentName: "Asia"
            }, {
                CountryName: "Turks and Caicos Islands",
                CapitalName: "Grand Turk",
                CapitalLatitude: "21.466666666666665",
                CapitalLongitude: "-71.133333",
                CountryCode: "TC",
                ContinentName: "North America"
            }, {
                CountryName: "Tuvalu",
                CapitalName: "Funafuti",
                CapitalLatitude: "-8.516666666666667",
                CapitalLongitude: "179.216667",
                CountryCode: "TV",
                ContinentName: "Australia"
            }, {
                CountryName: "Uganda",
                CapitalName: "Kampala",
                CapitalLatitude: "0.31666666666666665",
                CapitalLongitude: "32.550000",
                CountryCode: "UG",
                ContinentName: "Africa"
            }, {
                CountryName: "Ukraine",
                CapitalName: "Kyiv",
                CapitalLatitude: "50.43333333333333",
                CapitalLongitude: "30.516667",
                CountryCode: "UA",
                ContinentName: "Europe"
            }, {
                CountryName: "United Arab Emirates",
                CapitalName: "Abu Dhabi",
                CapitalLatitude: "24.466666666666665",
                CapitalLongitude: "54.366667",
                CountryCode: "AE",
                ContinentName: "Asia"
            }, {
                CountryName: "United Kingdom",
                CapitalName: "London",
                CapitalLatitude: "51.5",
                CapitalLongitude: "-0.083333",
                CountryCode: "GB",
                ContinentName: "Europe"
            }, {
                CountryName: "United States",
                CapitalName: "Washington",
                CapitalLatitude: " D.C.",
                CapitalLongitude: "38.883333",
                CountryCode: "-77.000000",
                ContinentName: "US"
            }, {
                CountryName: "USA",
                CapitalName: "Washington",
                CapitalLatitude: " D.C.",
                CapitalLongitude: "38.883333",
                CountryCode: "-77.000000",
                ContinentName: "US"
            }, {
                CountryName: "Uruguay",
                CapitalName: "Montevideo",
                CapitalLatitude: "-34.85",
                CapitalLongitude: "-56.166667",
                CountryCode: "UY",
                ContinentName: "South America"
            }, {
                CountryName: "Uzbekistan",
                CapitalName: "Tashkent",
                CapitalLatitude: "41.31666666666667",
                CapitalLongitude: "69.250000",
                CountryCode: "UZ",
                ContinentName: "Asia"
            }, {
                CountryName: "Vanuatu",
                CapitalName: "Port-Vila",
                CapitalLatitude: "-17.733333333333334",
                CapitalLongitude: "168.316667",
                CountryCode: "VU",
                ContinentName: "Australia"
            }, {
                CountryName: "Venezuela",
                CapitalName: "Caracas",
                CapitalLatitude: "10.483333333333333",
                CapitalLongitude: "-66.866667",
                CountryCode: "VE",
                ContinentName: "South America"
            }, {
                CountryName: "Vietnam",
                CapitalName: "Hanoi",
                CapitalLatitude: "21.033333333333335",
                CapitalLongitude: "105.850000",
                CountryCode: "VN",
                ContinentName: "Asia"
            }, {
                CountryName: "VIRGIN ISLANDS, U.S.",
                CapitalName: "Charlotte Amalie",
                CapitalLatitude: "18.35",
                CapitalLongitude: "-64.933333",
                CountryCode: "VI",
                ContinentName: "North America"
            }, {
                CountryName: "Wallis and Futuna",
                CapitalName: "Mata-Utu",
                CapitalLatitude: "-13.95",
                CapitalLongitude: "-171.933333",
                CountryCode: "WF",
                ContinentName: "Australia"
            }, {
                CountryName: "Yemen",
                CapitalName: "Sanaa",
                CapitalLatitude: "15.35",
                CapitalLongitude: "44.200000",
                CountryCode: "YE",
                ContinentName: "Asia"
            }, {
                CountryName: "Zambia",
                CapitalName: "Lusaka",
                CapitalLatitude: "-15.416666666666666",
                CapitalLongitude: "28.283333",
                CountryCode: "ZM",
                ContinentName: "Africa"
            }, {
                CountryName: "Zimbabwe",
                CapitalName: "Harare",
                CapitalLatitude: "-17.816666666666666",
                CapitalLongitude: "31.033333",
                CountryCode: "ZW",
                ContinentName: "Africa"
            }, {
                CountryName: "US Minor Outlying Islands",
                CapitalName: "Washington",
                CapitalLatitude: " D.C.",
                CapitalLongitude: "38.883333",
                CountryCode: "-77.000000",
                ContinentName: "UM"
            }, {
                CountryName: "Antarctica",
                CapitalName: "N/A",
                CapitalLatitude: "0",
                CapitalLongitude: "0.000000",
                CountryCode: "AQ",
                ContinentName: "Antarctica"
            }, {
                CountryName: "Northern Cyprus",
                CapitalName: "North Nicosia",
                CapitalLatitude: "35.183333",
                CapitalLongitude: "33.366667",
                CountryCode: "NULL",
                ContinentName: "Europe"
            }, {
                CountryName: "Hong Kong",
                CapitalName: "N/A",
                CapitalLatitude: "0",
                CapitalLongitude: "0.000000",
                CountryCode: "HK",
                ContinentName: "Asia"
            }, {
                CountryName: "Heard Island and McDonald Islands",
                CapitalName: "N/A",
                CapitalLatitude: "0",
                CapitalLongitude: "0.000000",
                CountryCode: "HM",
                ContinentName: "Antarctica"
            }, {
                CountryName: "British Indian Ocean Territory",
                CapitalName: "Diego Garcia",
                CapitalLatitude: "-7.3",
                CapitalLongitude: "72.400000",
                CountryCode: "IO",
                ContinentName: "Africa"
            }, {
                CountryName: "Macau",
                CapitalName: "N/A",
                CapitalLatitude: "0",
                CapitalLongitude: "0.000000",
                CountryCode: "MO",
                ContinentName: "Asia"
            }]
        }(document, window, window.jQuery));
        (function(j, f, h) {
            var i = f.gdt.Utils.PubSub.UI_EVENTS,
                g = (typeof f.ontouchstart === "undefined") ? "click" : "touchend";
            h("div.captchaDiv").each(function() {
                if (!h(this).parents(".modal").length) {
                    var l = h(this).find(".captchaID"),
                        k = l.prop("id"),
                        d = l.data("sitekey");
                    h("#recaptcha_challenge_field_holder").remove();
                    h("#recaptcha_response_field").remove();
                    h(this).find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" autocomplete="off"/>');
                    h.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                        h("#recaptcha_image").remove();
                        h('<div id="recaptcha_image"></div>').insertBefore(h("#" + k + " .recaptcha_only_if_incorrect_sol"));
                        window.Recaptcha.create(d, k, window.RecaptchaOptions)
                    })
                }
            });
            h("#js-contact-concierge").parent().on(g, function(d) {
                if (d.target.className === "modal-wrap") {
                    h.pubsub("publish", i.createCaptchaOnPage)
                }
            });
            h("#js-contact-concierge .modal-close").on(g, function() {
                h.pubsub("publish", i.createCaptchaOnPage)
            });
            h.pubsub("subscribe", i.createCaptchaOnPage, function() {
                h("div.captchaDiv").each(function() {
                    if (!h(this).parents(".modal").length) {
                        var l = h(this).find(".captchaID"),
                            k = l.prop("id"),
                            d = l.data("sitekey");
                        h("#recaptcha_challenge_field_holder").remove();
                        h("#recaptcha_response_field").remove();
                        h(this).find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" autocomplete="off"/>');
                        h.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                            h("#recaptcha_image").remove();
                            h('<div id="recaptcha_image"></div>').insertBefore(h("#" + k + " .recaptcha_only_if_incorrect_sol"));
                            window.Recaptcha.create(d, k, window.RecaptchaOptions)
                        })
                    }
                })
            })
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var m = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    v = f.gdt.Utils.PubSub.UI_EVENTS,
                    C = h("#js-dealers"),
                    K = C.find(".accordion-tabs-nav"),
                    G = h(".js-dealer-list"),
                    x = h("#js-authorised-dealers"),
                    Q = h("#js-service-centres"),
                    r = x.clone(),
                    y = Q.clone(),
                    N = h("#js-authorised-dealers-input"),
                    P = h("#js-service-centres-input"),
                    A = h("#js-authorised-dealers-submit"),
                    H = h("#js-service-centres-submit"),
                    t = h("#js-mobile-dealersearch-input"),
                    p = h("#js-mobile-dealersearch-submit"),
                    n = h("#js-dealer-search-mobileheader"),
                    R = h('[href="#service"]'),
                    M, o, J = "js-dealer-map",
                    D = f.BMap,
                    I, E, L;
                h.pubsub("subscribe", v.baiduMaps, function() {
                    if (C.length && f.gdt.Utils.Browser.isMobileLayout) {
                        L = true;
                        h("#js-authorised-dealers li, #js-service-centres li").each(function() {
                            h(this).find(".multiMaps").addClass("show-china-links")
                        })
                    }
                });

                function u(T, S, V, U) {
                    this.$submitBtn = U;
                    U.parents("form").on("submit", function(Z) {
                        Z.preventDefault();
                        Z.stopPropagation();
                        var Y = {
                                $listEl: T
                            },
                            W = V.val(),
                            X = h("<ol></ol>");
                        if (W !== "") {
                            X.append(S.find("li").filter('[data-name*="' + W.toLowerCase() + '"], [data-city*="' + W.toLowerCase() + '"]').clone())
                        } else {
                            X.append(S.find("li").clone())
                        }
                        if (L) {
                            X.find("li").find(".multiMaps").addClass("show-china-links")
                        }
                        if (X.find("li").length) {
                            h(".dealers h4.nope").hide()
                        } else {
                            h(".dealers h4.nope").show()
                        }
                        Y.$newList = X;
                        if (f.matchMedia("only screen and (max-width: 668px)").matches) {
                            B()
                        }
                        h.pubsub("publish", v.paginatedList.reinitialise, Y)
                    });
                    this.resetSearch = function() {
                        var W = {
                            $listEl: T,
                            $newList: S
                        };
                        h.pubsub("publish", v.paginatedList.reinitialise, W);
                        if (L) {
                            W.$newList.find("li").find(".multiMaps").addClass("show-china-links")
                        }
                    }
                }

                function s() {
                    M = new u(x, r, N, A);
                    o = new u(Q, y, P, H)
                }

                function B() {
                    n.show();
                    K.hide()
                }

                function l() {
                    n.hide();
                    K.show()
                }

                function w() {
                    var S = M;
                    if (R.parent().hasClass("accordion-tabs-nav-active")) {
                        S = o
                    }
                    return S
                }

                function k() {
                    t.on("keyup", function() {
                        var S = N;
                        if (w() === o) {
                            S = P
                        }
                        S.val(h(this).val());
                        n.find("input").val(h(this).val())
                    });
                    p.parents("form").on("submit", function(S) {
                        S.preventDefault();
                        S.stopPropagation();
                        var T = w();
                        T.$submitBtn.trigger("click")
                    });
                    n.find("span").on(m, function() {
                        var S = w();
                        S.resetSearch();
                        l()
                    })
                }

                function j() {
                    G.each(function(S) {
                        h(this).paginatedList({
                            eventGroup: "dealerList"
                        }, S)
                    })
                }

                function F(U, T) {
                    var S = T.parents(".js-dealer-list:first").data("ordernumber");
                    h.pubsub("subscribe", v.baiduMaps, function() {
                        E = true;
                        T.find(".js-dealer-map").each(function(X) {
                            var W = h(this);
                            W.prop("id", "js-dealer-map" + S + X);
                            var V = W.prop("id");
                            z(W, V)
                        })
                    });
                    if (E && E === true) {
                        h("#js-authorised-dealers").find(".js-dealer-map").prop("id", "");
                        T.find(".js-dealer-map").each(function(X) {
                            var W = h(this);
                            W.prop("id", "js-dealer-map" + X);
                            var V = W.prop("id");
                            z(W, V)
                        })
                    }
                    if (I && I === true) {
                        T.each(function() {
                            q(h(this))
                        })
                    }
                    h.pubsub("subscribe", v.mapApiLoaded, function() {
                        I = true;
                        T.each(function() {
                            q(h(this))
                        })
                    })
                }

                function z(S) {
                    var U = S.prop("id");
                    S.show();
                    S.siblings(".dealer-info").find(".multiMaps").addClass("show-china-links");
                    var T = new D.Map(U);
                    S.bmapWithMarker()
                }

                function q(S) {
                    var T = S.find("." + J);
                    T.show();
                    T.mapWithMarker()
                }

                function d() {
                    C.tabAccordion()
                }

                function O() {
                    if (C.length) {
                        h.pubsub("subscribe", v.paginatedList.dealerList.navigate, F);
                        d();
                        j();
                        s();
                        k()
                    }
                    if (((f.gdt.dealerData || {}).mapData || {}).places) {
                        var W = h(".dealer-mobile-nav #js-dealer-select .places"),
                            S = [];
                        for (var V in f.gdt.dealerData.mapData.places) {
                            if (f.gdt.dealerData.mapData.places.hasOwnProperty(V)) {
                                var T = f.gdt.dealerData.mapData.places[V];
                                var U = (h("#js-dealers h2.dealer-heading").text().toLowerCase() === V.toLowerCase()) ? ' selected="selected"' : "";
                                S.push("<option" + U + ' value="' + T + '">' + V + "</option>")
                            }
                        }
                        W.append(S);
                        W.on("change", function() {
                            location.href = h(this).val()
                        })
                    }
                }
                O()
            };
            f.gdt.Dealers = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(f, d) {
            f("#find, #findfilter").each(function(x, q) {
                var B = d.gdt.Utils.PubSub.UI_EVENTS,
                    D = (typeof d.ontouchstart === "undefined") ? "mouseup" : "touchend",
                    n = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    m = f("#find"),
                    o = f("#js-show-find"),
                    F = o.text(),
                    j = o.data("closetext"),
                    v = f(q),
                    A = f("#find"),
                    y = f("#resultsummary"),
                    r, h = v.add(A).find("form > div:not(.btm, .search) h4, form .btm > div h4"),
                    p = d.gdt.Utils.Browser.hasTransforms,
                    l = false,
                    u = false,
                    E, C;

                function s() {
                    o.on(n, function() {
                        var H = "find-open",
                            i = m.hasClass(H) ? F : j,
                            G = m.hasClass(H) ? 0 : m.find("div").outerHeight() + 30;
                        if (!d.gdt.Utils.Browser.isMobileLayout) {
                            m.toggleClass(H).css("max-height", G + "px");
                            o.text(i)
                        }
                    })
                }
                if (d.gdt.Utils.Browser.isMobileLayout) {
                    f(".fyp").modal()
                }
                f("#js-show-find-mobile").on(n, function() {
                    m.find(".filter").addClass("filterEBoutique")
                });
                f(".fyp").on(n, function() {
                    m.find(".filter").removeClass("filterEBoutique")
                });
                if (v.is("#findfilter")) {
                    f(".topnav .find, #findfilter .close").on(D, function(i) {
                        i.preventDefault();
                        i.stopPropagation();
                        if (r) {
                            if (!d.gdt.filterData && !d.gdt.Utils.Browser.isMobileLayout) {
                                f.pubsub("publish", B.shade.open, {
                                    clsname: "findopen"
                                })
                            }
                        } else {
                            f.pubsub("publish", B.shade.close)
                        }
                    }).on("click", function(i) {
                        i.preventDefault();
                        i.stopPropagation()
                    })
                } else {
                    s()
                }
                v.find(".clear").on("click", function(i) {
                    i.preventDefault();
                    i.stopPropagation();
                    v.find("form").trigger("reset");
                    v.find("form").trigger("change");
                    f(this).removeClass("visible")
                });
                var k;

                function t() {
                    if (!f("html").hasClass("pageFilterOpen")) {
                        k = f("body").hasClass("cookies-bar-visible");
                        f("body").removeClass("cookies-bar-visible")
                    } else {
                        if (k && !d.localStorage.getItem("cookieMessage")) {
                            f("body").addClass("cookies-bar-visible")
                        }
                    }
                    f(".topnav .find").toggleClass("open");
                    f("html").toggleClass("pageFilterOpen");
                    r = f("html").hasClass("pageFilterOpen");
                    if (!p) {
                        if (r) {
                            f(".topnav nav.main").animate({
                                "margin-top": 550
                            })
                        } else {
                            f(".topnav nav.main").animate({
                                "margin-top": 0
                            })
                        }
                    }
                }
                v.find("fieldset").each(function() {
                    var G = f(this),
                        i = G.find('input[type="checkbox"]');
                    i.off().on("change", function() {
                        if (f(this).is('[id$="-all"]')) {
                            i.filter(':not([id$="-all"]):checked').prop("checked", false);
                            v.find(".clear").removeClass("visible")
                        } else {
                            if (i.filter(':not([id$="-all"]):checked').val()) {
                                G.find('input[type="checkbox"][id$="-all"]').prop("checked", false)
                            } else {
                                G.find('input[type="checkbox"][id$="-all"]').prop("checked", true);
                                v.find(".clear").removeClass("visible")
                            }
                        }
                        v.find('input[type="checkbox"]').not('input[value="0"]').each(function() {
                            if (f(this).prop("checked")) {
                                v.find(".clear").addClass("visible");
                                return false
                            }
                        })
                    })
                });

                function g() {
                    if (!d.gdt.Utils.Browser.isMobileLayout) {
                        v.add(A).find("form > div:not(.btm, .search), form .btm > div").mCustomScrollbar({
                            scrollInertia: 0
                        }).off();
                        h.off();
                        v.find('form input[type="submit"]').off("click.mob")
                    } else {
                        v.add(A).find("fieldset").parent(".mCustomScrollbar").mCustomScrollbar("destroy");
                        h.off().on("click", function() {
                            var M = f(this),
                                L = M.parent(),
                                i = h.parent(),
                                H, I, J, K, G;
                            if (L.hasClass("open")) {
                                H = L.height();
                                i.removeClass("open");
                                I = L.height();
                                L.css("height", H).animate({
                                    height: I
                                }, function() {
                                    L.removeAttr("style")
                                })
                            } else {
                                G = i.filter(".open");
                                H = G.height();
                                G.removeClass("open");
                                if (H) {
                                    I = G.height();
                                    G.css("height", H).animate({
                                        height: I
                                    }, function() {
                                        G.removeAttr("style")
                                    })
                                }
                                J = L.height();
                                L.addClass("open");
                                K = L.height();
                                L.css("height", J).animate({
                                    height: K
                                }, function() {
                                    L.removeAttr("style")
                                })
                            }
                        })
                    }
                }
                g();
                f(d).smartresize(g);

                function z(H, L) {
                    var K = L || d.location.search.substring(1),
                        J = K.split(/&|\?/),
                        i = [],
                        I = new RegExp("^" + H + "=");
                    for (var M = 0, G = J.length; M < G; M++) {
                        if (I.test(J[M])) {
                            i.push(decodeURIComponent(J[M].replace(I, "").replace(/\+/gi, "%20")))
                        }
                    }
                    return i
                }

                function w() {
                    f(v, A).find('input[type="search"]').placeholder();
                    f(v, A).find('input[type="search"]').on("keyup", function() {
                        if (f(this).val()) {
                            v.find(".clear").addClass("visible")
                        } else {
                            v.find(".clear").removeClass("visible")
                        }
                    });
                    if (d.gdt.Utils.Browser.isMobileLayout) {
                        f("#js-splash-find").removeAttr("style");
                        f("#js-show-find-mobile").modal()
                    }
                    if (d.gdt.filterData || d.gdt.eboutiqueData) {
                        if (!d.gdt.Utils.Browser.isMobileLayout && v.is("#findfilter") && d.gdt.filterData) {
                            f("html").addClass("results");
                            if (!d.gdt.filterData) {
                                t()
                            }
                        }
                        var I = {},
                            G = {};
                        if (d.gdt.Utils.Browser.isMobileLayout && !f("#eboutiqueFinder")) {
                            f("#findfilter").find("input[name]").each(function() {
                                var K = f(this).attr("name"),
                                    M = y.find(".wmf-" + K),
                                    L = [];
                                if (!I[K]) {
                                    I[K] = true;
                                    G[K] = z(K);
                                    for (var N = 0, J = G[K].length; N < J; N++) {
                                        if (G[K][N] !== "0") {
                                            L.push(f("#findfilter").find('input[name="' + K + '"][value="' + G[K][N] + '"]').next().text());
                                            f("#find").find('input[name="' + K + '"][value="' + G[K][N] + '"]').click()
                                        }
                                    }
                                    if (L.length) {
                                        M.addClass("sh").find("span").html(L.join(", "))
                                    } else {
                                        M.removeClass("sh")
                                    }
                                }
                            })
                        } else {
                            f("#find").find("input[name]").each(function() {
                                var K = f(this).attr("name"),
                                    M = y.find("." + K),
                                    L = [];
                                if (!I[K]) {
                                    I[K] = true;
                                    G[K] = z(K);
                                    for (var N = 0, J = G[K].length; N < J; N++) {
                                        if (G[K][N] !== "0") {
                                            L.push(v.find('input[name="' + K + '"][value="' + G[K][N] + '"]').next().text());
                                            f("#find").find('input[name="' + K + '"][value="' + G[K][N] + '"]').click()
                                        }
                                    }
                                    if (L.length) {
                                        M.addClass("sh").find("span").html(L.join(", "))
                                    } else {
                                        M.removeClass("sh")
                                    }
                                }
                            })
                        }
                        v.find("form").on("change", function() {
                            l = true
                        });
                        v.find('input[name="search"]').on("keyup search", function() {
                            if (!f(this).val() || f(this).val().length > 1) {
                                l = true
                            }
                            if (f(this).val()) {
                                v.find(".clear").addClass("visible")
                            } else {
                                v.find(".clear").removeClass("visible")
                            }
                        });
                        var H = v.find('input[name="search"]');
                        H.val(z("search"));
                        if (H.val()) {
                            v.find(".clear").addClass("visible");
                            y.find(".search").addClass("sh").find("span").html(H.val())
                        } else {
                            y.find(".search").removeClass("sh")
                        }
                        u = true;
                        if (v.is("#find")) {
                            y.find("li.sh").last().addClass("last")
                        }
                    }
                    m.on("submit", ".filterEBoutique", function() {
                        if (f(this).data("search-path-alternate")) {
                            var J = f(this).data("search-path-alternate");
                            f(this).attr("action", J);
                            f(this).submit()
                        }
                    });
                    var i = C + "-" + E;
                    m.find("input[name='salesCode']").val(i)
                }
                f.pubsub("subscribe", "country-currency-determined", function(i, G) {
                    E = G.countryCode;
                    C = G.salesCode;
                    if (v.is("#find")) {
                        w()
                    }
                })
            })
        }(window.jQuery, window));
        (function(i, g, h) {
            g.gdt = g.gdt || {};
            var f = function() {
                var l = {
                        cityField: ".address-city select",
                        districtField: ".address-district select",
                        zipcodeField: ".address-zipcode select",
                        provinceField: ".address-province select",
                        provinceWrapper: ".address-province",
                        cityWrapper: ".address-city",
                        districtWrapper: ".address-district",
                        zipcodeWrapper: ".address-zipcode"
                    },
                    n, p = g.gdt.Utils.PubSub.UI_EVENTS,
                    j = h(".component-shippinginfocn");

                function s(w, v) {
                    var u, t = h("#my-account").length;
                    if (g.gdt.Utils.Browser.isMobileLayout && t) {
                        u = h("#" + v).parents("form").find(".addressData_cn").data("address-url")
                    } else {
                        u = h(".addressData_cn").data("address-url")
                    }
                    h.ajax({
                        type: "get",
                        url: u,
                        dataType: "json",
                        beforeSend: function() {
                            h(l.provinceWrapper).find("label").addClass("loading")
                        },
                        success: function(y) {
                            n = y;
                            var x = h("#" + v).find(l.provinceWrapper).data("default-province");
                            h.each(n, function(z) {
                                h("#" + v).find(l.provinceWrapper).find("select").append("<option id=" + z + " value=" + z + ">" + z + "</option>")
                            });
                            if (h("#" + v).find(l.provinceWrapper).data("default-province") && w) {
                                h("#" + v).find(l.provinceWrapper).find("select").val(x);
                                m(x, v, w)
                            }
                        },
                        complete: function() {
                            h("#" + v).find(l.provinceWrapper).find("label").removeClass("loading")
                        }
                    })
                }

                function m(x, w, v) {
                    if (x !== "") {
                        var u = n[x],
                            y = h("#" + w).find(l.cityField);
                        h("#" + w).find(l.zipcodeField + "," + l.cityField + "," + l.districtField).find("option:not(:first)").remove();
                        h("#" + w).find(l.zipcodeField + "," + l.cityField + "," + l.districtField).prop("disabled", true);
                        h.each(u, function(z) {
                            y.append("<option id=" + z + " value=" + z + ">" + z + "</option>").prop("disabled", false)
                        });
                        if (h("#" + w).find(l.cityWrapper).data("default-city") && v) {
                            var t = h("#" + w).find(l.cityWrapper).data("default-city");
                            h("#" + w).find(l.cityField).val(t);
                            d(t, w, v)
                        }
                    } else {
                        if (x === "") {
                            h("#" + w).find(l.zipcodeField + "," + l.cityField + "," + l.districtField).find("option:not(:first)").remove();
                            h("#" + w).find(l.zipcodeField + "," + l.cityField + "," + l.districtField).prop("disabled", true)
                        }
                    }
                }

                function d(z, t, y) {
                    var x = h("#" + t).find(l.provinceField).val(),
                        u = n[x][z],
                        w = h("#" + t).find(l.districtField);
                    h("#" + t).find(l.zipcodeField + "," + l.districtField).find("option:not(:first)").remove();
                    h("#" + t).find(l.zipcodeField + "," + l.districtField).prop("disabled", true);
                    if (z !== "") {
                        h.each(u, function(A) {
                            w.append("<option id=" + A + " value=" + A + ">" + A + "</option>").prop("disabled", false)
                        })
                    }
                    if (h("#" + t).find(l.districtWrapper).data("default-district") && y) {
                        var v = h("#" + t).find(l.districtWrapper).data("default-district");
                        h("#" + t).find(l.districtField).val(v);
                        q(v, t, y)
                    }
                }

                function q(A, u, E) {
                    var v = h("#" + u).find(l.provinceField).val(),
                        z = h("#" + u).find(l.cityField).val(),
                        y = n[v][z][A],
                        w = h("#" + u).find(l.zipcodeField);
                    w.find(l.districtField).find("option:not(:first)").remove();
                    if (A !== "") {
                        h.each(y, function(G, F) {
                            w.append("<option id=" + F + " value=" + F + ">" + F + "</option>").prop("disabled", false)
                        })
                    }
                    if (h("#" + u).find(l.zipcodeWrapper).data("default-zipcode") && E) {
                        var B = h("#" + u).find(l.zipcodeWrapper).data("default-zipcode");
                        h("#" + u).find(l.zipcodeField).val(B);
                        if (j.length) {
                            var D = j.data("trigger"),
                                C = j.data("href"),
                                x = h("select[name = '" + D + "']").val(),
                                t = C + x;
                            o(t, x)
                        }
                    }
                }

                function o(t, u) {
                    h.ajax({
                        type: "get",
                        url: t,
                        success: function(v) {
                            if (u) {
                                j.find(".shipping-provider-content").html(v)
                            } else {
                                j.find(".shipping-provider-content").empty()
                            }
                        },
                        error: function() {
                            g.console.log("getting some error in fetching delivery date")
                        }
                    })
                }

                function k() {
                    h(document).on("change", l.provinceField, function() {
                        var w = h(this).val(),
                            v = h(this).closest("fieldset").attr("id");
                        m(w, v, false)
                    });
                    h(document).on("change", l.cityField, function() {
                        var w = h(this).val(),
                            v = h(this).closest("fieldset").attr("id");
                        d(w, v, false)
                    });
                    h(document).on("change", l.districtField, function() {
                        var v = h(this).val(),
                            w = h(this).closest("fieldset").attr("id");
                        q(v, w, false)
                    });
                    if (j.length) {
                        var u = j.data("trigger"),
                            t = j.data("href");
                        h("select[name = '" + u + "']").on("change", function() {
                            var v = t + h(this).val();
                            o(v, h(this).val())
                        })
                    }
                }

                function r() {
                    if (h(".addressData_cn").length > 0) {
                        h("html").addClass("cn_rollout");
                        h(l.zipcodeField + "," + l.cityField + "," + l.districtField).prop("disabled", true)
                    }
                    k();
                    var t;
                    if (h("#checkout-billing-shipping").length) {
                        h("fieldset.addresschinafieldset").each(function() {
                            t = h(this).attr("id");
                            if (h("#" + t).find(l.provinceWrapper).data("default-province")) {
                                s(true, t)
                            } else {
                                s(false, t)
                            }
                        })
                    } else {
                        t = h("fieldset.addresschinafieldset").attr("id");
                        if (h("#" + t).find(l.provinceWrapper).data("default-province")) {
                            s(true, t)
                        } else {
                            s(false, t)
                        }
                    }
                    h.pubsub("subscribe", p.myAccountTabLoad, function(v, w) {
                        var u = h("#" + w).find(".addresschinafieldset").attr("id");
                        s(true, u)
                    });
                    h.pubsub("subscribe", p.resetForm, function() {
                        if (h(".addresschinafieldset").length > 0) {
                            h(l.zipcodeField + "," + l.cityField + "," + l.districtField).prop("disabled", true)
                        }
                    })
                }
                r()
            };
            g.gdt.FormAddressFields = new f()
        }(document, window, window.jQuery || window.Zepto));
        (function(j, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var g = (typeof window.ontouchstart === "undefined") ? "click" : "touchend";

            function i() {
                function k() {
                    var n = h(".gdt-form").find("form");
                    n.attr("novalidate", "novalidate")
                }

                function d() {
                    h(".gdt-form").each(function(p, n) {
                        var o = h(n).find("form");
                        o.find("input, select, textarea").on("change", function() {
                            if (h(this).hasClass("has-error")) {
                                f.gdt.Validate.field(this, o[0])
                            }
                        })
                    })
                }

                function m() {
                    var n;
                    n = h(".gdt-form").each(function(q, o) {
                        var p = h(o).find("form"),
                            r = p.find(".form_button_reset");
                        r.on(g, function() {
                            f.gdt.Validate.clear(p[0])
                        })
                    })
                }
                h("select").on("focus", function() {
                    h(this).closest(".moz-select").addClass("focus")
                }).on("blur", function() {
                    h(this).closest(".moz-select").removeClass("focus")
                });
                k();
                m();
                d();
                var l = h("button.form_button_submit");
                l.on(g, function(q) {
                    var o = h(this).parents("form:first").find("input.recaptchaTextbox"),
                        n = h.trim(o.val()),
                        p = h("#gdt form label.captcha span.required");
                    if (o.length === 1) {
                        if (n === "") {
                            p.removeAttr("hidden");
                            p.addClass("captcha-error");
                            q.preventDefault()
                        } else {
                            p.attr("hidden", "hidden");
                            p.removeClass("captcha-error")
                        }
                    }
                })
            }
            f.gdt.Forms = new i();
            h("#forgot_password .form label.email input[type=email]").placeholder()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, g, h) {
            g.gdt = g.gdt || {};
            var f = function() {
                var j = h("#js-carousel-hero"),
                    l = h("#js-carousel-hero").find("li"),
                    n = h(".pager"),
                    p = "carousel-hero-image-lazyload";
                if (g.gdt.Utils.Browser.isMobileLayout) {
                    h("main.home").parent().css("min-height", "135%")
                }

                function m(r, s) {
                    r.css("background-image", "url(" + s + ")");
                    if (g.gdt.Utils.Browser.isMobileLayout) {
                        r.css("height", h(window).height());
                        j.css("height", h(window).height())
                    }
                }

                function d(s) {
                    var r = g.gdt.Utils.Picture.getImgSrcFromTemplate(s);
                    s.removeClass(p);
                    m(s, r)
                }

                function k() {
                    j.akcarousel({
                        delay: 5000,
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: true,
                        scrollSpeed: 5,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        callback: function(s) {
                            var u = h(this.node).find(".slide").size(),
                                r = s === u ? 0 : s + 1,
                                t = h(this.node).find(".slide").eq(r);
                            if (t.hasClass(p)) {
                                d(t)
                            }
                        }
                    });
                    d(l.eq(0));
                    d(l.eq(1))
                }

                function o() {
                    n.on("click", "a", function() {
                        var s = h(this),
                            r = s.index();
                        d(j.find(".slide:eq(" + r + ")"));
                        j.akcarousel("move", s.index())
                    })
                }

                function q() {
                    if (j.length) {
                        k();
                        o()
                    }
                }
                q()
            };
            g.gdt.HomeSlider = new f()
        }(document, window, window.jQuery || window.Zepto));
        (function(l, o, k) {
            var p = o.gdt.Utils.PubSub.UI_EVENTS,
                s = k("#js-carousel-hero"),
                n = k("#homeVideoSlide"),
                g, q, m;

            function f() {
                q.each(function() {
                    var d = k(this).get(0);
                    o.videojs(d, {
                        nativeControlsForTouch: false
                    }).ready(function() {
                        g = this;
                        this.nativeControlsForTouch = false;
                        i(g);
                        m = this.techName
                    })
                })
            }

            function j() {
                s.find("li").each(function() {
                    var d = k(this),
                        t = d.find("video").length;
                    if (t) {
                        d.find(".carousel-hero-link a").on("click", function(w) {
                            w.preventDefault();
                            var v = k(this),
                                u = v.attr("href"),
                                x = v.parents("li:first").find("video").clone(true);
                            h(x, u)
                        })
                    }
                })
            }

            function i(u) {
                var d = u.controlBar,
                    v = d.addChild("button").addClass("pan-volume");
                for (var t = 0; t < 4; t++) {
                    v.addChild("button").addClass("volumelevel level" + (t + 1) + " active")
                }
                k(v.el_).on("click", ".volumelevel", function() {
                    var y = k(this),
                        w = ".volumelevel",
                        z = y.parent().find(w),
                        x = y.index(w) + 1 / z.size();
                    u.volume(x);
                    z.removeClass("active").filter(":lt(" + parseInt(y.index(w) + 1, 10) + ")").addClass("active")
                })
            }

            function h(v, u) {
                n.append(v);
                var t = k("#homeVideoSlide"),
                    d = t.find(".overlapClose");
                d.attr("href", u);
                q = t.find("video");
                f();
                n.modal();
                k.pubsub("publish", p.homeVideo);
                k("#homeVideoSlide video")[0].play();
                k("#homeVideoSlide").find("video").on("ended", function() {
                    window.location.assign(u)
                })
            }

            function r() {
                j()
            }
            if (s.length) {
                r()
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(l, g, i) {
            var j = g.gdt.Utils.PubSub.UI_EVENTS;
            var f = i.Deferred();

            function h() {
                i.getJSON(window.gdt.multisiteURL, function(n, p, o) {
                    var d = "",
                        m = "",
                        q = o.getResponseHeader("X-geoip-country-code");
                    i.each(n.siteDetails[0], function(r, s) {
                        d = s["popup-url"];
                        m = s.countryCode
                    });
                    i.pubsub("publish", j.checkCountry, q);
                    f.resolve({
                        geoip: q,
                        current: m
                    });
                    if (q !== m && q === "US") {
                        if (!i.cookie("eboutique-pan") && d !== "") {
                            i.ajax({
                                url: d,
                                cache: false
                            }).done(function(s) {
                                i("#ipDetection").append(s);
                                i("#ipDetection").modal();
                                i.pubsub("publish", j.ipDetectionPopup);
                                var r = new Date();
                                r.setTime(r.getTime() + (1000 * 60 * 60 * 24 * 30));
                                i.cookie("eboutique-pan", "true", {
                                    path: "/",
                                    domain: g.gdt.Utils.getCookieDomain(),
                                    expires: r
                                })
                            })
                        }
                    } else {
                        if (q !== m && m === "US") {
                            if (!i.cookie("eboutique-pan") && d !== "") {
                                i.ajax({
                                    url: d,
                                    cache: false
                                }).done(function(s) {
                                    i("#ipDetection").append(s);
                                    i("#ipDetection").modal();
                                    i.pubsub("publish", j.ipDetectionPopup);
                                    var r = new Date();
                                    r.setTime(r.getTime() + (1000 * 60 * 60 * 24 * 30));
                                    i.cookie("eboutique-pan", "true", {
                                        path: "/",
                                        domain: g.gdt.Utils.getCookieDomain(),
                                        expires: r
                                    })
                                })
                            }
                        }
                    }
                })
            }

            function k() {
                var d = i(".press-header");
                if (!d.length) {
                    h()
                }
            }
            g.gdt.Utils.ipDetection = {
                countryCodes: f.promise()
            };
            k()
        }(document, window, window.jQuery || window.Zepto));
        (function(B, p, l) {
            var z = l("#library"),
                m = z.find(".mainOverlay"),
                k, t, s = z.find("video"),
                v = z.find("nav"),
                C = [];

            function u() {
                l.each(C, function(d, w) {
                    if (!w.paused()) {
                        w.pause()
                    }
                })
            }

            function n(d) {
                if (d.target) {
                    d = l(d.target)
                }
                clearTimeout(k);
                k = setTimeout(function() {
                    var D = d.parents(".slide"),
                        w = D.attr("id");
                    if (typeof w === "string") {
                        w = w.replace("#", "")
                    }
                    if (D.hasClass("active")) {
                        return
                    }
                    z.find(".slide").removeClass("active");
                    D.addClass("active");
                    u();
                    D.find("video[autoplay]").each(function() {
                        videojs(this).play()
                    });
                    v.find("a").removeClass("active");
                    v.find("a." + w).addClass("active")
                }, 50)
            }

            function h() {
                z.find(".library-intro, .mobileNav").one("touchstart mousedown scroll mousewheel", function() {
                    var d = z.find(".library-intro");
                    d.removeClass("show");
                    setTimeout(function() {
                        d.addClass("back")
                    }, 250);
                    if (window.location.hash === "") {
                        n(l("#overview .box1"))
                    }
                });
                z.find("nav.library").on("click touchend", function(w) {
                    w.preventDefault();
                    w.stopPropagation();
                    l(this).removeClass("open");
                    var d = l(l(w.target).attr("href"));
                    z.find(".slider").akscroller("scrollto", {
                        x: d.position().left,
                        y: 0
                    });
                    setTimeout(function() {
                        n(d.find("section").eq(0));
                        window.location.hash = "lib-" + w.target.href.split("#")[1]
                    }, 250)
                });
                z.on("touchmove", function() {
                    t = true
                }).on("touchend", function() {
                    t = false
                });
                z.on("click touchend", ".libbutton", function(w) {
                    w.preventDefault();
                    w.stopPropagation();
                    if (!t) {
                        var d = l(w.target).parent(".content");
                        if (d.hasClass("open")) {
                            A(d)
                        } else {
                            q(d)
                        }
                    }
                });
                z.on("click", ".mobileNav", function(d) {
                    d.preventDefault();
                    d.stopPropagation();
                    if (!t) {
                        if (z.find("nav.library").hasClass("open")) {
                            g()
                        } else {
                            j()
                        }
                    }
                })
            }

            function A(d) {
                d.removeClass("open");
                m.removeClass("show");
                setTimeout(function() {
                    m.removeClass("open").find(".clone").empty();
                    l("html").removeClass("lib-open");
                    d.parent(".slide").find("video[autoplay]").each(function() {
                        videojs(this).play()
                    })
                }, 250)
            }

            function f(d) {
                d.addClass("infoopen").on("click touchend", function(w) {
                    w.preventDefault();
                    w.stopPropagation();
                    w.stopImmediatePropagation()
                })
            }

            function o(d) {
                d.removeClass("infoopen").off()
            }

            function q(d) {
                l("html").addClass("lib-open");
                var D = d.find(".overlay").clone(true),
                    G = D.find("[id^=video_]"),
                    F = G.data("config") || "",
                    J = (G.data("poster")) ? 'poster="' + G.data("poster") + '"' : "",
                    H = (G.data("mp4")) ? '<source src="' + G.data("mp4") + '" type="video/mp4" />' : "",
                    w = (G.data("webm")) ? '<source src="' + G.data("webm") + '" type="video/webm" />' : "",
                    K = (G.data("ogg")) ? '<source src="' + G.data("ogg") + '" type="video/ogg" />' : "",
                    E = '<video id="' + G.attr("id") + '_active"' + F + ' data-setup="{}" width="100%" height="100%" webkit-playsinline ' + J + ' class="video-js vjs-default-skin vjs-big-play-button">';
                E += H + w + K + "</video>";
                d.addClass("open");
                u();
                D.find(".back").on("click touchend", function(L) {
                    L.preventDefault();
                    L.stopPropagation();
                    A(d)
                });
                D.children(".info").on("click touchend", function(L) {
                    L.preventDefault();
                    L.stopPropagation();
                    f(D)
                });
                D.children(".close").on("click touchend", function(L) {
                    L.preventDefault();
                    L.stopPropagation();
                    o(D)
                });
                D.find("[id^=video_]").replaceWith(E);
                m.addClass("open").find(".clone").append(D);
                var I = D.find("[id^=video_]").get(0);
                if (I) {
                    videojs(I).on("play", i).on("pause", y)
                }
                setTimeout(function() {
                    m.addClass("show");
                    D.on("click", ".vjs-big-play-button", function() {
                        D.find(">p").hide()
                    })
                }, 5)
            }

            function j() {
                clearTimeout(k);
                k = setTimeout(function() {
                    z.find("nav.library, .mobileNav").addClass("open").off("click").one("click", function() {
                        g()
                    });
                    setTimeout(function() {
                        z.find("nav.library").addClass("show")
                    }, 5)
                }, 10)
            }

            function g() {
                clearTimeout(k);
                k = setTimeout(function() {
                    z.find("nav.library").removeClass("show");
                    setTimeout(function() {
                        z.find("nav.library, .mobileNav").removeClass("open")
                    }, 200)
                }, 10)
            }

            function r() {
                var d = window.location.hash;
                if (d !== "") {
                    d = d.replace("lib-", "");
                    z.find(".slider").akscroller("scrollto", {
                        x: l(d).position().left,
                        y: 0
                    });
                    setTimeout(function() {
                        n(l(d).find("section").eq(0));
                        v.find("a").removeClass("active");
                        v.find("a." + d.replace("#", "")).addClass("active");
                        p.console.log("my nav is", v.find("a." + d.replace("#", "")))
                    }, 1000)
                }
            }

            function i() {
                var d = l(this.tag).parents(".overlay");
                if (d.hasClass("infoopen")) {
                    this.pause()
                } else {
                    d.find(".info, .social-button, p").css({
                        opacity: 0
                    })
                }
            }

            function y() {
                var w = this.tag;
                var d = l(w).parents(".overlay");
                if (d.hasClass("infoopen")) {
                    return
                }
                setTimeout(function() {
                    l(w).parents(".overlay").find(".info, .social-button, p").attr("style", "")
                }, 200)
            }

            function x() {
                for (var D = 0, w = s.length; D < w; D++) {
                    var d = videojs(s[D]);
                    C.push(d)
                }
                z.find("nav.library a").each(function() {
                    var E = l(this);
                    E.attr("style", "background-image: url(" + z.find(E.attr("href")).find("img").get(0).src + ")")
                });
                z.find(".slider").akscroller({
                    horizontal: true,
                    inertia: true,
                    mousewheel: true,
                    lockscroll: false,
                    callback: n
                }).on("mouseenter", ".slide", n);
                setTimeout(function() {
                    u();
                    setTimeout(function() {
                        if (!p.gdt.Utils.Browser.isMobileLayout) {
                            l("html,body").animate({
                                scrollTop: z.find(".h1").offset().top - 20
                            }, 1000);
                            setTimeout(function() {
                                r()
                            }, 1000)
                        } else {
                            r()
                        }
                    })
                }, 500);
                h()
            }
            if (z.length) {
                x()
            }
        }(document, window, window.jQuery));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var u = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    k = h("#js-splash-video"),
                    p, l = h("#js-splash-video-playlist"),
                    r = h("#js-video-playlist-nav"),
                    y = h("#js-show-playlist"),
                    v = y.text(),
                    q = y.data("closetext"),
                    t, o = [];

                function x(B, A, z) {
                    this.src = A;
                    this.poster = B;
                    this.title = z
                }

                function n() {
                    var z = false;
                    if (f.gdt.Utils.Browser.isHighDPR && f.matchMedia("only screen and (min-width: 669px)").matches) {
                        z = true
                    }
                    l.find("li").each(function() {
                        var D = h(this),
                            B = z ? D.attr("data-poster-2x") : D.attr("data-poster"),
                            E = D.attr("title"),
                            F = D.attr("data-src").split(","),
                            C;
                        for (var A = 0; A < F.length; A++) {
                            F[A] = h.trim(F[A])
                        }
                        C = new x(B, F, E);
                        o.push(C)
                    })
                }

                function m(B) {
                    var z = B.controlBar,
                        C = z.addChild("button").addClass("pan-volume");
                    for (var A = 0; A < 4; A++) {
                        C.addChild("button").addClass("volumelevel level" + (A + 1) + " active")
                    }
                    h(C.el_).on(u, ".volumelevel", function() {
                        var F = h(this),
                            D = ".volumelevel",
                            G = F.parent().find(D),
                            E = F.index(D) + 1 / G.size();
                        B.volume(E);
                        G.removeClass("active").filter(":lt(" + parseInt(F.index(D) + 1, 10) + ")").addClass("active")
                    });
                    B.on("play", function() {
                        h(B.el_).parent().addClass("video-playing");
                        z.show()
                    });
                    B.on("ended", function() {
                        h(B.el_).parent().removeClass("video-playing");
                        z.hide()
                    })
                }

                function j(z) {
                    l.find("li").removeClass("active").eq(z).addClass("active");
                    k.parent().find("figcaption").text(l.find("li").eq(z).find("figcaption").text())
                }

                function d() {
                    f.videojs(k[0], {
                        nativeControlsForTouch: false,
                        autoplay: false
                    }).ready(function() {
                        t = this;
                        m(t);
                        t.playList(o, {
                            getVideoSource: function(A, z) {
                                z(A.src, A.poster)
                            }
                        });
                        p = k.parent().find(".vjs-big-play-button");
                        p.attr("aria-label", k.attr("data-playtext"))
                    }).on("play", function() {
                        j(this.pl.current)
                    });
                    k = h("#js-splash-video")
                }

                function s() {
                    l.find("li").on(u, function() {
                        t.playList(h(this).index());
                        k.find(".vjs-play-progress").width(0);
                        j(h(this).index())
                    });
                    y.on(u, function() {
                        var B = "playlist-open",
                            z = l.hasClass(B) ? v : q,
                            A = l.hasClass(B) ? 0 : l.find("ul").outerHeight();
                        l.toggleClass(B).css("max-height", A + "px");
                        y.text(z)
                    });
                    r.on(u, "a", function(z) {
                        t.poster("");
                        switch (h(this).attr("rel")) {
                            case "next":
                                t.next();
                                j(t.pl.current);
                                break;
                            case "prev":
                                t.prev();
                                j(t.pl.current);
                                break
                        }
                        z.preventDefault();
                        r.find("a").show();
                        if (t.pl.current === 0) {
                            r.find('a[rel="prev"]').hide()
                        } else {
                            if (t.pl.current === o.length - 1) {
                                r.find('a[rel="next"]').hide()
                            }
                        }
                    });
                    h(f).smartresize(function() {
                        if (f.matchMedia("only screen and (min-width: 669px)").matches) {
                            h(".thumbs").appendTo(h(".title-text-thumbs"))
                        } else {
                            f.console.log("do it now");
                            h(".thumbs").insertBefore(h(".link-list"))
                        }
                    });
                    h(f).trigger("resize")
                }

                function w() {
                    if (k.length) {
                        n();
                        d();
                        s();
                        r.find('a[rel="prev"]').hide()
                    }
                }
                w()
            };
            f.gdt.Manufacture = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(m, g, k) {
            var l = g.gdt.Utils.PubSub.UI_EVENTS,
                j = k("#googleMapsAPI").data("setchinamap"),
                i = k("#googleMapsAPI").data("key-google");
            window.initialize = function() {
                var d = g.google;
                if (d !== undefined) {
                    g.console.log("Google Maps Triggered");
                    k.pubsub("publish", l.mapApiLoaded)
                }
            };

            function f() {
                k.pubsub("subscribe", l.checkCountry, function(d, n) {
                    if (k("#googleMapsAPI")) {
                        h(n)
                    }
                })
            }

            function h(o) {
                var p = "//maps.google.com/maps/api/js?v=3.exp&libraries=geometry,places&callback=initialize&key=" + i,
                    d = document.createElement("script"),
                    n = k("html").hasClass("cn");
                if ((o === "CN" || (o === null && n)) && j === true) {
                    g.console.log("Baidu Triggered");
                    k.pubsub("publish", l.baiduMaps);
                    d.type = "text/javascript";
                    k("#googleMapsAPI").after(d)
                } else {
                    if (o === "CN" && j === false) {
                        g.console.log("NO MAP Triggered");
                        k.pubsub("publish", l.mapApiNotLoaded);
                        return
                    } else {
                        d.type = "text/javascript";
                        d.src = p;
                        k("#googleMapsAPI").after(d)
                    }
                }
            }
            f()
        }(document, window, window.jQuery));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var d = function() {
                    var k = h("#my-account > .accordion-tabs.accordion-tabs-content > section");
                    k.each(function(o, p) {
                        var n = h(p),
                            m = n.children("h2"),
                            r = n.data("href"),
                            q = location.protocol + "//" + location.host + r;
                        m.on("click", function() {
                            f.history.pushState({}, "", q);
                            h("#my-account > .accordion-tabs-nav li.active").removeClass("active");
                            h('#my-account > .accordion-tabs-nav a[href="' + r + '"]').parent().addClass("active");
                            h("#my-account > .accordion-tabs > .accordion-tabs-content > .accordion-tabs-content-active").removeClass("accordion-tabs-content-active");
                            h("#my-account > .accordion-tabs-nav").removeClass("accordion-tabs-content-active");
                            n.addClass("accordion-tabs-content-active")
                        })
                    });

                    function l() {
                        var n = (h("input[name=havepanerai]:checked", "form").val()),
                            m = h("form label.model");
                        if (n === "false") {
                            m.css("display", "none")
                        } else {
                            m.css("display", "block")
                        }
                    }
                    h("form .havepanerai input").on("change", function() {
                        l()
                    });
                    l();
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        h("#my-account > .accordion-tabs .accordion-tabs-content .moreInfoHide").removeClass("accordion-tabs-content-active")
                    }
                };

                function j() {
                    d()
                }
                j();
                return {
                    addListeners: d
                }
            };
            f.gdt.MyAccount = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var m, d, l, j;
                var k = function() {
                    m = h("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead");
                    d = h("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderDetail");
                    l = h("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead .orderPlus");
                    j = h("#my-account .accordion-tabs .accordion-tabs-inner .component-orderreview .orderHead .orderMin");
                    if (m.length > 1) {
                        if (!f.gdt.Utils.Browser.isMobileLayout) {
                            d.hide()
                        }
                        j.hide();
                        m.off().on("click", function() {
                            h(this).next(".orderDetail").slideToggle(200);
                            if (h(this).find(".orderPlus").css("display") === "none") {
                                h(this).find(".orderPlus").show();
                                h(this).find(".orderMin").hide()
                            } else {
                                h(this).find(".orderPlus").hide();
                                h(this).find(".orderMin").show()
                            }
                        })
                    } else {
                        d.show();
                        l.hide();
                        j.hide()
                    }
                };

                function n() {
                    k()
                }
                n();
                return {
                    addListeners: k
                }
            };
            f.gdt.MyOrderHistory = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(g, o) {
            var u = "touchend.bce click.bce",
                r = "mouseenter.bce",
                k = "mouseleave.bce",
                i = "touchmove.bce",
                h = false,
                x = false,
                t = o.gdt.Utils.PubSub.UI_EVENTS,
                m = o.gdt.Utils.Browser.hasTransforms;

            function q(w) {
                w.preventDefault();
                w.stopPropagation()
            }

            function v(B, w, y) {
                var z, A;
                B.on("click", function(C) {
                    q(C);
                    x = false
                }).on(i, function() {
                    x = true
                }).off(u).on(u, function(C) {
                    q(C);
                    if (typeof C !== "undefined") {
                        z = C
                    }
                    if (!x) {
                        w(g(this), z)
                    }
                    x = false
                });
                if (y && h) {
                    B.off(r).on(r, function(D) {
                        if (o.gdt.Utils.Browser.isMobileLayout === false) {
                            var C = g(this);
                            q(D);
                            clearTimeout(A);
                            if (typeof D !== "undefined") {
                                z = D
                            }
                            A = setTimeout(function() {
                                w(C, z, true)
                            }, 200)
                        }
                    });
                    y.off(k).on(k, function(D) {
                        if (o.gdt.Utils.Browser.isMobileLayout === false) {
                            var C = g(this);
                            q(D);
                            clearTimeout(A);
                            if (typeof D !== "undefined") {
                                z = D
                            }
                            A = setTimeout(function() {
                                w(C, z, false)
                            }, 200)
                        }
                    })
                }
            }
            if (/iPad|iPhone/i.test(navigator.appVersion)) {
                var l = g("html").hasClass("cn"),
                    j = g("form.checkout-payment-step").length;
                if (!l && !j) {
                    g(document).on("blur", "input, textarea", function() {
                        g(".navp header, .footerContainer").show()
                    }).on("focus", "input, textarea", function() {
                        g(".navp header, .footerContainer").hide()
                    })
                }
            }
            g(".navp .topnav nav.main .inner > a").each(function() {
                var w = g(this);
                if (w.next(".sub").length === 0) {
                    w.addClass("noIcon")
                }
            });

            function s() {
                var w = g(".navp h1.logo a").prop("href");
                g(".container").find("div.logo:first a").prop("href", w)
            }
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                s()
            }
            g(".navp header .inner ul > li a").on("click", function(A) {
                A.stopPropagation();
                var z = g(this),
                    w = z.parent("li"),
                    y = w.find("ul");
                g(".navp header .inner ul > li").removeClass("opened");
                if (y.length && w.hasClass("opened")) {
                    A.preventDefault();
                    w.removeClass("opened");
                    g("#shopping-bag-overlay").removeClass("show")
                } else {
                    if (y.length) {
                        w.addClass("opened");
                        g("#shopping-bag-overlay").removeClass("show")
                    }
                }
            });
            g("html").click(function() {
                g(".navp header .inner ul > li").removeClass("opened")
            });
            g(".navp header .inner ul > li .back").on("click", function() {
                var y = g(this),
                    w = y.parents(".opened");
                w.removeClass("opened")
            });
            v(g(".navtab"), function(w) {
                if (g("body").hasClass("navOpened")) {

                    g("body").removeClass("navOpened hideMain openSubSection");
                    w.removeClass("open");
                    w.next(".navp").removeClass("open")
                    $(".hamburger").removeClass("is-active");
                } else {
                    g("body").addClass("navOpened").removeClass("openSubSection");
                    g(".navp .head .inner > a").removeClass("active");
                    setTimeout(function() {
                        g("body").removeClass("hideMain");
                        g("#js-modal-bg").removeClass("open navopen")
                    }, 300);
                    w.addClass("open");
                    w.next(".navp").addClass("open")
                    $(".hamburger").addClass("is-active");
                }
                if (w.next(".navp").hasClass("open")) {
                    g("header .find:not(.mobile)").one(u, function(y) {
                        q(y);
                        w.next(".navp").removeClass("open")
                    })
                }
                if (!m) {
                    if (w.next(".navp").hasClass("open")) {
                        w.next(".navp").animate({
                            left: "100%"
                        })
                    } else {
                        w.next(".navp").animate({
                            left: "0%"
                        })
                    }
                }
            });
            
            var f;
            v(g("nav.main>.head>.inner>a, nav.main>.head>.inner>.hassub>a"), function(z, y, w) {
                clearTimeout(f);
                f = setTimeout(function() {
                    p(z, y, w)
                }, 250)
            }, g("nav.main>.head, nav.main .sub"));

            function p(w, y, B) {
                var E = w.hasClass("active"),
                    z = "navopen",
                    A;
                if (B === true) {
                    E = false
                }
                if (B === false) {
                    E = true
                }
                if (o.gdt.Utils.Browser.isMobileLayout === true) {
                    E = w.hasClass("active")
                }
                if (w.parents(".hassub").length && o.gdt.Utils.Browser.isMobileLayout) {
                    o.location.href = w.data("href") || w.href
                }
                if ((w.parents(".hassub").length && E) || (w.hasClass("active") && B)) {
                    return
                }
                if (!o.gdt.Utils.Browser.isMobileLayout) {
                    g.pubsub("publish", t.shade.close)
                }
                g("body").removeClass("hideMain");
                if (!m) {
                    A = w.parent().find(".sub.open, .subsub.open");
                    w.parent().find("a.active").removeClass("active");
                    A.removeClass("open");
                    A.css({
                        display: "block",
                        "min-height": 400,
                        opacity: 1,
                        "margin-top": 0
                    }).animate({
                        opacity: 0,
                        "margin-top": -50
                    }, function() {
                        A.removeAttr("style")
                    })
                } else {
                    if (o.gdt.Utils.Browser.isMobileLayout) {
                        A = w.parent().find(".sub.open, .subsub.open");
                        var D = A.height();
                        w.parent().find("a.active, .sub.open, .subsub.open").removeClass("active open");
                        A.next().css("margin-top", D).animate({
                            "margin-top": 0
                        })
                    } else {
                        w.parent().find(".sub.open, .subsub.open").css({
                            height: 400
                        });
                        setTimeout(function() {
                            w.parent().find(".sub, .subsub").removeAttr("style")
                        }, 400);
                        w.parent().find("a.active, .sub.open, .subsub.open").removeClass("active open")
                    }
                }
                if (w.next(".sub, .subsub").length === 0) {
                    var C = w.prop("target");
                    if (C === "_blank") {
                        o.open(w.prop("href"), "_blank")
                    } else {
                        o.location.href = w.prop("href")
                    }
                } else {
                    if (!E) {
                        w.addClass("active");
                        var F = w.next();
                        if (F.hasClass("sub") || F.hasClass("subsub")) {
                            if (!m) {
                                F.css({
                                    "min-height": 400,
                                    "margin-top": -50,
                                    opacity: 0
                                }).animate({
                                    "margin-top": 0,
                                    opacity: 1
                                }, function() {
                                    F.removeAttr("style")
                                })
                            }
                            F.addClass("open").removeClass("hideimage").find("a").eq(0).addClass("active").next().addClass("open");
                            F.parents("subsub").find(".hideimage").removeClass("hideimage");
                            F.find(".hideimage").removeClass("hideimage");
                            if (o.gdt.Utils.Browser.isMobileLayout) {
                                F.next().css("margin-top", -F.height()).animate({
                                    "margin-top": 0
                                })
                            }
                        }
                        if (!o.gdt.Utils.Browser.isMobileLayout) {
                            g.pubsub("publish", t.shade.open, {
                                clsname: z,
                                clicktoclose: h
                            });
                            g("body").addClass("hideMain").removeClass("navOpened");
                            g(".navtab").removeClass("open");
                            setTimeout(function() {
                                g("body").addClass("openSubSection")
                            }, 300)
                        }
                    }
                }
            }
            v(g(".navp .boutique"), function(y, w) {
                if (g(w.target).attr("href")) {
                    o.location.href = g(w.target).attr("href")
                }
                if (g(".navp .boutique").hasClass("active")) {
                    if (g(w.target).parents(".boutique") && !g(w.target).is("h3")) {
                        return
                    }
                    g(".navp .boutique").removeClass("active");
                    g("body").off("click.close")
                } else {
                    g(".navp .boutique").addClass("active");
                    g("body").on("click.close", function() {
                        g(".navp .boutique").removeClass("active");
                        g("body").off("click.close")
                    })
                }
            });
            if (g(".press-header").length) {
                g(".footerContainer").addClass("open");
                g(".footerContainer .slide").addClass("open");
                if (g("html").is(".ie6, .ie7, .ie8, .ie9")) {
                    g(".footerContainer .slide").css("height", "250px")
                }
                g(".arrow").addClass("close")
            }
            v(g("footer.slide .arrow, footer.slide > .inner > a"), function(w) {
                if (g(".press-header").length) {
                    return
                }
                var y = w.parents("footer");
                y.toggleClass("open");
                if (g(".footerContainer").hasClass("open")) {
                    setTimeout(function() {
                        g(".footerContainer").removeClass("open")
                    }, 500)
                } else {
                    g(".footerContainer").addClass("open").find(".hideimage").removeClass("hideimage")
                }
                if (!m) {
                    if (y.hasClass("open")) {
                        y.animate({
                            bottom: 20
                        })
                    } else {
                        y.animate({
                            bottom: -100
                        })
                    }
                }
            });
            var n = g(".collectionDetail.special-editions");
            v(n.find(".select"), function(w) {
                n.find(".hidden").toggleClass("open");
                w.toggleClass("open")
            });
            var d = o.gdt.Utils.getNameFromCookie();
            if (d) {
                g("html").addClass("logged-in");
                g.pubsub("publish", "loggedIn");
                if (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                    g("#accountName").html(d)
                }
            }
        }(window.jQuery, window));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var l = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    q = g("#js-news-search"),
                    n = g("#js-news-submit"),
                    s = g("#js-news-filter").find("select"),
                    j = g("#js-news-list"),
                    y = j.find("li"),
                    k = g(".js-news-pagination"),
                    E, A = parseInt(j.attr("data-pageitems"), 10),
                    o = parseInt(j.attr("data-pageitems-mobile"), 10),
                    C = g("#js-mobile-load"),
                    v = g(".back-to-top");

                function D(F) {
                    F.each(function() {
                        var J = g(this),
                            G = J.find('[type="text/x-tmpl"]'),
                            I = g.trim(G.html()),
                            H;
                        I = g.parseHTML(I);
                        H = g(I);
                        G.replaceWith(H)
                    });
                    f.picturefill()
                }

                function p() {
                    j.find("li:odd").addClass("even")
                }

                function d() {
                    g("html,body").scrollTop(k.eq(0).position().top - 20)
                }

                function B(F) {
                    k.each(function() {
                        var G = g(this);
                        G.find("li").removeClass("active");
                        G.find("li").eq(F - 1).addClass("active");
                        G.find("li").removeClass("visible")
                    }).find("button").prop("disabled", false);
                    if (F === E) {
                        k.find('[rel="next"]').prop("disabled", true)
                    }
                    if (F === 1) {
                        k.find('[rel="prev"]').prop("disabled", true)
                    }
                    if (F === 1 || F === 2 || F === 3) {
                        k.each(function() {
                            g(this).find("li").slice(0, 5).addClass("visible")
                        })
                    } else {
                        if (F === E || F === E - 1 || F === E - 2) {
                            k.each(function() {
                                g(this).find("li").slice(E - 5, E).addClass("visible")
                            })
                        } else {
                            k.each(function() {
                                g(this).find("li").eq(F - 1).prev().addClass("visible").prev().addClass("visible");
                                g(this).find("li").eq(F - 1).next().addClass("visible").next().addClass("visible")
                            })
                        }
                    }
                }

                function x(G) {
                    var F = j.find('[data-page="' + G + '"]');
                    j.hide().find("li").hide();
                    F.show().filter(function(H) {
                        return H < 2
                    }).addClass("top");
                    D(F);
                    B(G);
                    j.fadeIn(2000)
                }

                function z() {
                    var I = 0,
                        G = g("<ol></ol>"),
                        H = k.find("ol"),
                        F = window.location;
                    y.each(function(J) {
                        if (J % A === 0) {
                            I++;
                            G.append(g('<li data-page="' + I + '"><a href="#" data-tracking-page="' + F + "/" + I + '" data-tracking-event="virtualPageview" data-trackable="true">' + I + "</a></li>"))
                        }
                        g(this).attr("data-page", I)
                    });
                    k.find("ol").empty().append(G.html());
                    E = I;
                    x(1);
                    if (!H.find("li").size()) {
                        k.hide()
                    }
                }

                function u() {
                    var F = j.find("li").not(".loaded").filter(function(G) {
                        return G < o
                    }).addClass("loaded").hide().fadeIn(2000);
                    D(F);
                    setTimeout(function() {
                        F.addClass("active")
                    }, 2000);
                    if (!j.find("li").not(".loaded").length) {
                        C.hide()
                    }
                }

                function t() {
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        u()
                    } else {
                        z()
                    }
                }

                function m(F) {
                    f.location.href = f.location.href.split("?")[0] + "?q=" + F.val()
                }

                function r() {
                    s.on("change", function() {
                        f.location.replace(g(this).val())
                    });
                    q.keypress(function(F) {
                        if (F.keyCode === 13) {
                            m(g(this))
                        }
                    });
                    n.on(l, function() {
                        m(q)
                    });
                    k.on(l, "a", function(F) {
                        x(parseInt(g(this).closest("li").attr("data-page"), 10));
                        d();
                        F.preventDefault()
                    }).on(l, "button:enabled", function() {
                        var G = k.eq(0).find(".active").index() + 1,
                            F = G;
                        switch (g(this).attr("rel")) {
                            case "next":
                                F++;
                                break;
                            case "prev":
                                F--;
                                break
                        }
                        x(F);
                        d()
                    });
                    C.on(l, function() {
                        u()
                    });
                    v.on(l, function() {
                        g("html,body").scrollTop(0)
                    })
                }

                function w() {
                    t();
                    r();
                    if (g(".ie8").length) {
                        p()
                    }
                }
                return {
                    init: w
                }
            };
            f.gdt.NewsList = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.ToggleNightView = f.gdt.ToggleNightView || {};
            var g = function() {
                var j = (typeof window.ontouchstart === "undefined") ? "click" : "touchend";
                var d = function() {
                    var m = h(".js-toggle-nightview"),
                        l = h("#js-nightview-img").closest("figure");
                    m.on(j, function() {
                        var n = h(this);
                        if (n.hasClass("cta-nightview")) {
                            l.addClass("product-image-nightview-visible");
                            n.hide().parents(".product-image-cta").find(".cta-dayview").show()
                        } else {
                            l.removeClass("product-image-nightview-visible");
                            n.hide().parents(".product-image-cta").find(".cta-nightview").show()
                        }
                    })
                };

                function k() {
                    d()
                }
                k();
                return {
                    addListeners: d
                }
            };
            f.gdt.ToggleNightView = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var l = (typeof f.ontouchstart === "undefined") ? "click" : "touchend",
                    n = g(".personalise");

                function d(t) {
                    var q = g(t),
                        s = t.personalMessage.value,
                        p = t.entryIndex.value,
                        r = n.eq(p);
                    q.parents(".add-message-form").find(".modal-close").click();
                    if (s.length) {
                        r.find(".has-message").prop("hidden", false).removeAttr("hidden");
                        r.find(".add-message-cta").prop("hidden", true).attr("hidden", "hidden")
                    } else {
                        r.find(".has-message").prop("hidden", true).attr("hidden", "hidden");
                        r.find(".add-message-cta").prop("hidden", false).removeAttr("hidden")
                    }
                }

                function o(p) {
                    f.gdt.Utils.Console.log(p)
                }

                function j(r) {
                    var p = g(r),
                        s = p.data("form"),
                        t = document.forms[s],
                        q = g(t);
                    p.addClass("loading");
                    t.personalMessage.value = "";
                    f.gdt.Utils.ajaxCall({
                        type: q.attr("method"),
                        url: q.attr("action"),
                        data: q.serialize(),
                        callback: function() {
                            p.removeClass("loading");
                            d(t)
                        },
                        error: o
                    })
                }

                function m(p) {
                    p = p.replace(/\%0D%0A/g, "\r");
                    return p
                }

                function k() {
                    g("body").on(l, ".remove-message", function() {
                        j(this)
                    });
                    g("body").on("submit", ".personal-message", function(t) {
                        var r = this,
                            p = g(r),
                            s = p.serialize(),
                            q = m(s);
                        t.preventDefault();
                        p.find("button").addClass("loading");
                        f.gdt.Utils.ajaxCall({
                            type: p.attr("method"),
                            url: p.attr("action"),
                            data: q,
                            callback: function() {
                                p.find("button").removeClass("loading");
                                d(r)
                            },
                            error: o
                        })
                    })
                }
                k()
            };
            f.gdt.PersonalMessage = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var m = h("body"),
                    s = h("#personal-msg-form"),
                    q = f.gdt.Utils.Browser.isMobileLayout,
                    p = s.find(".personal-msg-field"),
                    o = s.find(".personal-msg-preview-text"),
                    k = s.find(".personal-msg-delete-btn");

                function j() {
                    if (p.val() !== "") {
                        k.addClass("invisible")
                    }
                }

                function l(w) {
                    var x = h(w.target),
                        v = x.val(),
                        u = v.replace(new RegExp("\n", "g"), "</br>");
                    o.html(u);
                    k.removeClass("invisible")
                }

                function t() {
                    event.preventDefault();
                    var u = h(event.target).parent();
                    u.addClass("invisible");
                    p.val("");
                    o.html("")
                }

                function n() {
                    event.preventDefault();
                    var u = h(event.target);
                    u.removeClass("btn-personal-msg").addClass("btn-delete-msg");
                    var v = s.find("fieldset:not(.desktopOnly)");
                    if (v) {
                        s.find("fieldset").removeClass("desktopOnly")
                    }
                }

                function d() {
                    var v = p.val(),
                        u = v.replace(new RegExp("\n", "g"), "</br>");
                    o.html(u)
                }

                function r() {
                    j();
                    k.on("click", t);
                    if (s.length) {
                        d()
                    }
                    m.on("click", ".btn-delete-msg", t);
                    if (q) {
                        m.on("click", ".btn-personal-msg", n)
                    } else {
                        p.on("keyup", l)
                    }
                }
                r()
            };
            f.gdt.PersonalMessagePage = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            f.gdt = f.gdt || {};
            var i = function() {
                var m = g("#js-product-list, #js-search-results"),
                    d = g("#js-wishlist-caro"),
                    l = g(".product-detail"),
                    t = g(".comparator-btn"),
                    o = f.gdt.Utils.Browser.isMobileLayout,
                    j = {
                        productCard: "li.product-list-item",
                        visibleProductCard: "li.product-list-item:visible"
                    },
                    u = {
                        toggleView: "change-view",
                        firstProdCard: "first-prod-card"
                    },
                    r = {
                        comparatorFull: "comparator.full",
                        prodAdded: "comparator.prod.added"
                    },
                    s = {
                        TIME_TO_DELAY: 500
                    };

                function n() {
                    var w = g(j.productCard),
                        v = j.productCard;
                    if (f.Modernizr.touch) {
                        m.find(v).on("click", function(y) {
                            var x = g(this);
                            if (!d.length || d.length && !f.gdt.Utils.Browser.isMobileLayout) {
                                if (!x.hasClass(u.toggleView)) {
                                    y.preventDefault();
                                    w.removeClass(u.toggleView);
                                    x.addClass(u.toggleView)
                                }
                            }
                        })
                    } else {
                        m.find(v).hover(function() {
                            var x = g(this);
                            if (!x.hasClass(u.toggleView)) {
                                w.stop(true, true).removeClass(u.toggleView);
                                x.stop(true, true).delay(s.TIME_TO_DELAY).queue(function() {
                                    g(this).addClass(u.toggleView).dequeue()
                                })
                            }
                        }, function() {
                            w.removeClass(u.toggleView)
                        })
                    }
                    g(document).on("click touchstart", function(x) {
                        if (!w.is(x.target) && w.has(x.target).length === 0) {
                            w.removeClass(u.toggleView)
                        }
                    });
                    g(".close-overlay").on("click touchend", function(x) {
                        x.preventDefault();
                        x.stopPropagation();
                        g(this).parents(v).stop(true, true).removeClass(u.toggleView)
                    })
                }

                function k() {
                    g(document).on("click", ".product-list-item-compare-btn", function(w) {
                        w.preventDefault();
                        var x = g(w.currentTarget).closest(j.productCard).data("prod-code"),
                            v = g(w.currentTarget).closest(j.productCard).data("product-family");
                        g(this).addClass("loading");
                        f.gdt.ComparatorUtil.addItems(x, v)
                    });
                    if (l.length > 0) {
                        t.on("click", function(w) {
                            var x = g(w.currentTarget).data("prod-code"),
                                v = g(w.currentTarget).data("prod-family");
                            w.preventDefault();
                            f.gdt.ComparatorUtil.addItems(x, v)
                        });
                        t.modal()
                    }
                    g.pubsub("subscribe", r.prodAdded, function(x, y) {
                        var v = g(".prod-comparator-msg-wrapper .product-detail-item-added").find(".message-text"),
                            z = v.text(),
                            w;
                        w = z.replace("{}", y);
                        v.text(w);
                        if (l.length > 0) {
                            l.find(".cta-primary .comparator-btn").hide();
                            l.find(".cta-primary .view-comparator-btn").css("display", "inline-block");
                            g("#comparatorMsgWrapper").removeClass("loading");
                            g("#comparatorMsgWrapper").addClass("list-item-added");
                            g(".prod-comparator-msg-wrapper").find(".modal-close").on("click", function() {
                                setTimeout(function() {
                                    g(".mySelection").addClass("opened")
                                }, 500)
                            })
                        }
                    });
                    g.pubsub("subscribe", r.comparatorFull, function(v, w) {
                        f.gdt.ComparatorUtil.showComparatorFullMsg(w)
                    });
                    g.pubsub("subscribe", r.comparatorFull, function() {
                        if (l.length > 0) {
                            g("#comparatorMsgWrapper").removeClass("loading");
                            g("#comparatorMsgWrapper").addClass("comparator-full")
                        }
                    })
                }

                function p() {
                    var v = g(".watch-search");
                    g(j.productCard).removeClass(u.firstProdCard);
                    g(j.visibleProductCard).each(function(w) {
                        if (o) {
                            if (w % 2 === 0) {
                                g(this).addClass(u.firstProdCard)
                            }
                        } else {
                            if (v.length > 0) {
                                if (w % 4 === 0) {
                                    g(this).addClass(u.firstProdCard)
                                }
                            } else {
                                if (w % 3 === 0) {
                                    g(this).addClass(u.firstProdCard)
                                }
                            }
                        }
                    })
                }

                function q() {
                    k();
                    n();
                    p()
                }
                q();
                return {
                    toggleProdInfo: n,
                    overlayPositionHandler: p
                }
            };
            f.gdt.ProdComparator = new i()
        }(document, window, window.jQuery || window.Zepto));
        (function(m, h, j) {
            h.gdt = h.gdt || {};
            var g = h.gdt.Utils.Browser.isMobileLayout,
                i = j("html").hasClass("logged-in"),
                l = window.location.href.indexOf("shared"),
                k = h.gdt.Utils.PubSub.UI_EVENTS;
            var f = function() {
                var D = {
                        COMPARECOOKIE: "compare-product",
                        WATCH: "WMF",
                        BUCKLE: "WBU",
                        STRAP: "WBR",
                        MAXPRODCOMPARESIZE: 3
                    },
                    p, B = j("body"),
                    A = [],
                    C = j("html"),
                    N, M, O = j("#compareListTableWrapper"),
                    t = {
                        WMF: [],
                        WBU: [],
                        WBR: []
                    },
                    o = {},
                    y = {},
                    P = location.hash,
                    r = {
                        event: "",
                        productCategory: "",
                        comparisonProduct1: "",
                        comparisonProduct2: "",
                        comparisonProduct3: ""
                    },
                    n = {
                        prodRemoved: "comparator.prod.removed"
                    };

                function Q() {
                    var V, T, S = h.gdt.ComparatorUtil.getTotalCount(),
                        U;
                    if (S === 0) {
                        C.addClass("emptyComparisonList").removeClass("filledComparisonList");
                        O.removeClass("loading")
                    } else {
                        j.each(p, function(W, Y) {
                            V = Y;
                            T = V.itemList.length;
                            U = W;
                            if (T) {
                                var X = j(".tabs." + U).index();
                                u(V, T, U);
                                j(".tabs." + U).addClass("active").siblings().removeClass("active");
                                O.find(".compareSlide:eq(" + X + ")").addClass("active").siblings().removeClass("active");
                                return false
                            }
                        });
                        if (!i) {
                            j("#loginOverlay").modal();
                            j.pubsub("publish", k.loginOverlay)
                        }
                    }
                }

                function x() {
                    if (p) {
                        j.each(p, function(W, T) {
                            var S = T,
                                V = W,
                                U = S.itemList.length;
                            if (U > 0) {
                                j(".tabs." + V + " .tabCount").html(" (" + U + ")");
                                j(".tabs." + V).removeClass("disabled-tab")
                            }
                        })
                    }
                }

                function u(Y, U, X) {
                    var T, V = X,
                        W, S = [];
                    j.each(Y.itemList, function(Z, aa) {
                        T = aa;
                        W = w(T, V);
                        S.push(K(W, V))
                    });
                    j.when.apply(j, S).then(function() {
                        for (var af in t) {
                            if (t.hasOwnProperty(af)) {
                                if (t[af].length > 0) {
                                    var ac = af,
                                        ad = y[ac],
                                        Z;
                                    x();
                                    j.each(t[af], function(ag, ah) {
                                        Z = ah;
                                        v(ad, Z, ac, ag)
                                    });
                                    j("#compareListTable-" + af).addClass("column-" + t[af].length)
                                }
                            }
                        }
                        O.removeClass("loading");
                        R(X);
                        if (h.gdt.Utils.Browser.isMobileLayout) {
                            j(".fyp").modal()
                        }
                        if (g) {
                            var ab;
                            if (i) {
                                var ae = j(".accordion-tabs-content-active").children(".accordion-tabs-inner"),
                                    aa = ae.children(".mobile-height-calc").height();
                                if (j(".accordion-tabs-content-active").length > 0) {
                                    ab = j(".accordion-tabs-content-active .equalTitle:first .leftIcons").clone(true);
                                    j(".accordion-tabs-content-active .shoppingbag-ctas").empty();
                                    j(".accordion-tabs-content-active .shoppingbag-ctas").prepend(ab);
                                    ae.css("height", aa + "px")
                                } else {
                                    ab = j(".accordion-tabs-content-active .equalTitle:first .leftIcons").clone(true);
                                    j(".accordion-tabs-content-active .shoppingbag-ctas").empty();
                                    j(".accordion-tabs-content-active .shoppingbag-ctas").prepend(ab)
                                }
                            } else {
                                ab = j(".equalTitle:first .leftIcons").clone(true);
                                j(".compareListBottom").empty();
                                j(".compareListBottom").append(ab)
                            }
                        }
                    })
                }

                function w(V) {
                    var S = h.location.pathname,
                        U = S.split("."),
                        T;
                    T = U[0] + ".compareproduct." + V + "." + M + "-" + N + ".json";
                    return T
                }

                function K(U, T) {
                    var S = j.Deferred();
                    h.gdt.Utils.ajaxCall({
                        type: "GET",
                        url: U
                    }).done(function(V) {
                        t[T].push(V);
                        S.resolve()
                    });
                    return S.promise()
                }

                function v(ag, U, aC, au) {
                    var av = ag,
                        ay, ah = j(".compareListTable").data("commerceop-url"),
                        aw = '<img class="dayView" src="' + U.imagePath + '" alt="' + U.title + '">',
                        ab = U.imageNightPath ? '<img class="nightView" src="' + U.imageNightPath + '" alt="' + U.title + '">' : "",
                        at = U.price ? '<div class="price-wrapper"><h4>' + U.price + '</h4><span class="content"></span></div>' : "-",
                        ak = U.inclusiveTax,
                        ae = U.isAddToCartAllowed ? '<form class="save-product" method="POST" action="' + ah + '"><input type="hidden" name="product-path" value="' + U.productPath + '" /><button class="cta-purchase" data-tracking-event="comparatorPageAction" data-tracking-comparatorfeature="purchase"  name="op:" value="add-to-cart" data-tracking-page="' + U.title + '">Purchase</button></form>' : "",
                        am = U.caseWatch ? U.caseWatch : "-",
                        ax = U["case"] ? U["case"] : "-",
                        aG = U.movement ? U.movement : "-",
                        al = U.functions ? U.functions : "-",
                        V = U.dial ? U.dial : "-",
                        ao = U.bezel ? U.bezel : "-",
                        ar = U.back ? U.back : "-",
                        aa = U.waterResistant ? U.waterResistant : "-",
                        W = U.strap ? U.strap : "-",
                        Y = U.buckleType ? U.buckleType : "-",
                        aj = U.buckleSize ? U.buckleSize : "-",
                        S = U.threadColor ? U.threadColor : "-",
                        Z = U.size ? U.size : "-",
                        aq = U.color ? U.color : "-",
                        af = U.hasColorVariants,
                        X = U.url,
                        aA = U.material ? U.material : "-",
                        ac = U.finishing ? U.finishing : "-",
                        aF = U.reference ? U.reference : "",
                        aB = U.title ? U.title : "",
                        T = U.globalReference ? U.globalReference : "",
                        ap = j(".compareListTable").data("day-view"),
                        aD = j(".compareListTable").data("night-view");
                    if (aC === D.STRAP) {
                        X = X + "?sid=" + aF
                    } else {
                        if (aC === D.BUCKLE) {
                            X = X + "?bid=" + aF
                        }
                    }
                    if (ak === "true") {
                        ay = ag.data("including-tax")
                    } else {
                        ay = ag.data("excluding-tax")
                    }
                    av.find(".product td:eq(" + au + ")").addClass("showTitle").removeClass("empty").html('<button data-tracking-event="comparatorPageAction"data-tracking-comparatorfeature="delete" class="removeProduct" data-prod-code="' + T + '" data-prodcut-family="' + aC + '" >Close</button><a class="image-wrapper day-view" href="' + X + '" data-tracking-event="comparatorPageAction" data-tracking-comparatorfeature="navigate">' + aw + ab + '<span class="title">' + aB + '</span><span class="subTitle">' + aF + "</span></a>");
                    av.find(".price td:eq(" + au + ")").addClass("showTitle").find(".fillData").html(at + ae);
                    av.find(".price td:eq(" + au + ")").find(".price-wrapper span").text(ay);
                    av.find(".product td:eq(" + au + ")").attr("data-reference-code", aF);
                    if (ab && !g) {
                        av.find(".product td:eq(" + au + ")").append('<a class="toggle-image-view cta-night-view" href="#">' + aD + '</a><a class="toggle-image-view cta-day-view hide-btn" href="#">' + ap + "</a>")
                    }
                    if (aG) {
                        av.find(".movement td:eq(" + au + ")").addClass("showTitle").find(".content").text(aG)
                    }
                    if (al) {
                        av.find(".functions td:eq(" + au + ")").addClass("showTitle").find(".content").text(al)
                    }
                    if (am) {
                        av.find(".caseWatch td:eq(" + au + ")").addClass("showTitle").find(".content").text(am)
                    }
                    if (ax) {
                        var ad = "";
                        if (ax) {
                            ad = '<ul class="case-description">';
                            for (var an in ax) {
                                if (ax.hasOwnProperty(an)) {
                                    ad += "<li><span>" + an + "</span><span>" + ax[an] + "</span></li>"
                                }
                            }
                            ad += "</ul>"
                        }
                        av.find(".case td:eq(" + au + ")").addClass("showTitle").find(".content").html(ad)
                    }
                    if (V) {
                        av.find(".dial td:eq(" + au + ")").addClass("showTitle").find(".content").text(V)
                    }
                    if (ao) {
                        av.find(".bezel td:eq(" + au + ")").addClass("showTitle").find(".content").text(ao)
                    }
                    if (ar) {
                        av.find(".back td:eq(" + au + ")").addClass("showTitle").find(".content").text(ar)
                    }
                    if (aa) {
                        av.find(".waterResistant td:eq(" + au + ")").addClass("showTitle").find(".content").text(aa)
                    }
                    if (W) {
                        av.find(".strap td:eq(" + au + ")").addClass("showTitle").find(".content").text(W)
                    }
                    if (Y) {
                        av.find(".buckleType td:eq(" + au + ")").addClass("showTitle").find(".content").text(Y)
                    }
                    if (aj) {
                        av.find(".buckleSize td:eq(" + au + ")").addClass("showTitle").find(".content").text(aj)
                    }
                    if (aq) {
                        av.find(".color td:eq(" + au + ")").addClass("showTitle").find(".content").text(aq)
                    }
                    if (af === "TRUE") {
                        av.find(".color td:eq(" + au + ")").find(".available-options").addClass("available");
                        av.find(".color td:eq(" + au + ")").find(".available-options").attr("href", X)
                    }
                    if (S) {
                        av.find(".lining td:eq(" + au + ")").addClass("showTitle").find(".content").text(S)
                    }
                    if (Z) {
                        av.find(".size td:eq(" + au + ")").addClass("showTitle").find(".content").text(Z)
                    }
                    if (aA) {
                        av.find(".material td:eq(" + au + ")").addClass("showTitle").find(".content").text(aA)
                    }
                    if (ac) {
                        av.find(".finishing td:eq(" + au + ")").addClass("showTitle").find(".content").text(ac)
                    }
                    if (g) {
                        av.find(".price td:eq(" + au + ")").find(".newWishList").removeClass("hide").addClass("mobileOnly").attr({
                            "data-id": U.globalReference,
                            "data-path": U.productPath
                        })
                    } else {
                        av.find(".wishlist td:eq(" + au + ")").addClass("showThis").find(".newWishList").attr({
                            "data-id": U.globalReference,
                            "data-path": U.productPath
                        })
                    }
                    z(av);
                    J(av);
                    C.addClass("filledComparisonList");
                    j("#compareListTable-" + aC).replaceWith(av).parents(".compareSlide").addClass("prod-data-added");
                    if (l > -1) {
                        var ai = H("name");
                        ai = d(ai);
                        j("#compareListTable-" + aC).parents(".compareSlide").find(".comparelist-suffix").text(ai)
                    } else {
                        var az = d(A[aC].listName);
                        j("#compareListTable-" + aC).parents(".compareSlide").find(".comparelist-suffix").text(az)
                    }
                    var aE = true;
                    h.gdt.ComparelistCarousel.stickyHeader(0, aE);
                    if (g) {
                        h.gdt.ComparelistCarousel.swipeFunction()
                    }
                    j(".newWishList").modal()
                }

                function d(S) {
                    return decodeURIComponent(S.replace(/\+/g, " "))
                }

                function z(S) {
                    S.find("tr").not(".product, .wishlist").each(function() {
                        var U = j(this),
                            T = "";
                        U.removeClass("hide");
                        U.find("td").each(function() {
                            var V = j(this).find(".content").text() || j(this).find(".fillData").text();
                            T += V
                        });
                        if (T === "-" || T === "--" || T === "---") {
                            U.addClass("hide")
                        }
                    });
                    if (g) {
                        S.find(".price").removeClass("hide")
                    }
                }

                function J(S) {
                    S.find("tr").each(function() {
                        var V = j(this);
                        for (var T = 0; T < 3; T++) {
                            var U = V.find("td").eq(T).find(".content").height();
                            if (U > 38) {
                                if (!V.find("td").eq(T).find(".large-content").length) {
                                    V.find("td").eq(T).find(".content").addClass("large-content").after('<a class="toggle-content" href="#">view more</a>')
                                }
                            }
                        }
                    })
                }

                function L(S, V) {
                    var Y = j("#rename-comparelist-form"),
                        Z = j("#product-category"),
                        T = j("#old-comparelist-name"),
                        W = j("#comparelist-name"),
                        U = location.pathname.split("."),
                        X = location.pathname.split(".").pop(-1),
                        aa = U[0] + ".commerce-op." + X;
                    Y.attr("action", aa);
                    Z.val(S);
                    T.val(V);
                    W.val(V)
                }

                function q(T, U) {
                    var V = T.serialize(),
                        X = T.attr("method"),
                        W = T.attr("action"),
                        S = T.find("#comparelist-name").val();
                    if (i) {
                        h.console.log("logged in user");
                        j.ajax({
                            type: X,
                            url: W,
                            data: V,
                            success: function() {
                                A[U].listName = S;
                                j("#compareListTable-" + U).parents(".compareSlide").find(".comparelist-suffix").text(A[U].listName);
                                h.gdt.ComparatorUtil.updateCompareCookie(p)
                            },
                            beforeSend: function() {
                                T.find(".cta-comparelist").addClass("loading")
                            },
                            complete: function() {
                                j.pubsub("publish", k.modal.close);
                                T.find(".cta-comparelist").removeClass("loading")
                            }
                        })
                    } else {
                        h.console.log("anonymous user");
                        A[U].listName = S;
                        h.gdt.ComparatorUtil.updateCompareCookie(p);
                        j("#compareListTable-" + U).parents(".compareSlide").find(".comparelist-suffix").text(A[U].listName);
                        j.pubsub("publish", k.modal.close)
                    }
                }

                function F(S) {
                    var U, T, V;
                    U = A[S];
                    if (U) {
                        T = U.itemList.length;
                        V = j(".tabs." + S).index();
                        u(U, T, S);
                        j(".tabs." + S).addClass("active").siblings().removeClass("active");
                        O.find(".compareSlide:eq(" + V + ")").addClass("active").siblings().removeClass("active")
                    }
                }

                function E() {
                    j(".tabs").on("click", function() {
                        var X = j(this),
                            V = j("#tab-parent").find(".tabs").length,
                            Z = X.height(),
                            aa = Z * (V - 1),
                            Y = X.parent(),
                            T = X.data("product-family"),
                            U, W, S = X.index();
                        U = A[T];
                        W = U.itemList.length;
                        if (!X.hasClass("active")) {
                            if (W) {
                                X.addClass("active").siblings().removeClass("active");
                                O.find(".compareSlide:eq(" + S + ")").addClass("active").siblings().removeClass("active");
                                if (!O.find(".compareSlide:eq(" + S + ")").hasClass("prod-data-added")) {
                                    O.addClass("loading");
                                    u(U, W, T);
                                    Y.removeClass("open");
                                    h.gdt.ComparelistCarousel.stickyHeader(-aa)
                                } else {
                                    R(T);
                                    Y.removeClass("open");
                                    h.gdt.ComparelistCarousel.stickyHeader(-aa)
                                }
                            }
                        } else {
                            if (Y.hasClass("open")) {
                                Y.removeClass("open");
                                h.gdt.ComparelistCarousel.stickyHeader(-aa)
                            } else {
                                Y.addClass("open");
                                h.gdt.ComparelistCarousel.stickyHeader(aa)
                            }
                        }
                    });
                    B.on("click", ".edit-compare-list", function(U) {
                        U.preventDefault();
                        var T = j(this).data("prod-family"),
                            S = j(this).parents(".compareSlide").find(".comparelist-suffix").text();
                        L(T, S)
                    });
                    B.on("submit", ".rename-comparelist", function(U) {
                        U.preventDefault();
                        var S = j(this),
                            T = S.find("#product-category").val();
                        q(S, T)
                    });
                    j("body").on("click", ".removeProduct", function() {
                        var V = j(this),
                            S = V.data("prod-code"),
                            T = V.data("prodcut-family"),
                            U = j(this).parents("td").index();
                        h.gdt.ComparatorUtil.removeItems(S, T, A[T].listName, U);
                        V.addClass("loading")
                    });
                    j.pubsub("subscribe", n.prodRemoved, function(X, U) {
                        var T = U.prodType,
                            V = U.tdIndex,
                            S;
                        y[T] = o[T].clone();
                        S = y[T];
                        t[T].splice(V, 1);
                        if (j.cookie(D.COMPARECOOKIE)) {
                            p = j.parseJSON(j.cookie(D.COMPARECOOKIE));
                            A = {
                                WMF: p.WMF,
                                WBU: p.WBU,
                                WBR: p.WBR
                            }
                        }
                        if (t[T].length > 0) {
                            j.each(t[T], function(Y, Z) {
                                v(S, Z, T, Y)
                            });
                            j("#compareListTable-" + T).addClass("column-" + t[T].length);
                            j(".tabs." + T + " .tabCount").html(" (" + t[T].length + ")")
                        } else {
                            j("#compareListTable-" + T).replaceWith(S);
                            j("#compareListTable-" + T).parent(".compareSlide").removeClass("prod-data-added");
                            j(".tabs." + T).addClass("disabled-tab").find(".tabCount").html("");
                            j("#tab-parent").find(".tabs:not(.disabled-tab):first").trigger("click");
                            j("#compareListTable-" + T).addClass("column-" + t[T].length);
                            var W = j("#tab-parent").find(".disabled-tab").length;
                            if (W === D.MAXPRODCOMPARESIZE) {
                                C.addClass("emptyComparisonList").removeClass("filledComparisonList");
                                O.find(".compareSlide").removeClass("active")
                            }
                        }
                    });
                    B.on("click", ".toggle-content", function(T) {
                        T.preventDefault();
                        var S = j(this).parents(".showTitle").find(".content");
                        if (S.hasClass("large-content")) {
                            S.removeClass("large-content");
                            j(this).text("view less").addClass("less")
                        } else {
                            S.addClass("large-content");
                            j(this).text("view more").removeClass("less")
                        }
                    });
                    B.on("click", ".toggle-image-view", function(U) {
                        U.preventDefault();
                        var S = j(this).parents("td").find(".image-wrapper"),
                            T = j(this).parents("td");
                        if (S.hasClass("day-view")) {
                            S.removeClass("day-view").addClass("night-view")
                        } else {
                            S.removeClass("night-view").addClass("day-view")
                        }
                        T.find(".cta-day-view").toggleClass("hide-btn");
                        T.find(".cta-night-view").toggleClass("hide-btn")
                    });
                    if (O.length) {
                        B.on("click", ".print", function(S) {
                            S.preventDefault();
                            h.print()
                        })
                    }
                }

                function I() {
                    B.on("click", ".tip", function() {
                        var V = j(this),
                            U = V.position().left,
                            T = V.next(".tipContent"),
                            S = T.height(),
                            W = V.parent();
                        j(".titleTip").removeClass("visible");
                        if (!g) {
                            T.css({
                                "margin-top": -(S / 2),
                                "margin-left": U
                            })
                        }
                        W.addClass("visible")
                    });
                    B.on("click", function() {
                        j(".titleTip").removeClass("visible")
                    });
                    B.on("click", ".tipContent, .tip", function(S) {
                        S.stopPropagation()
                    })
                }

                function H(T) {
                    T = T.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var S = "[\\#&]" + T + "=([^&#]*)";
                    var V = new RegExp(S);
                    var U = V.exec(window.location.hash.substr());
                    if (U === null) {
                        return ""
                    } else {
                        return U[1]
                    }
                }

                function s() {
                    var U = H("products"),
                        X = j(".edit-compare-list").data("prod-family"),
                        S = U.split(","),
                        V = S.length,
                        T = decodeURIComponent(A[X].listName),
                        W = {
                            listName: T,
                            itemList: S
                        };
                    u(W, V, X);
                    C.addClass("filledSharedView")
                }

                function R(V) {
                    var T = {
                            WBU: "Buckles",
                            WBR: "Straps",
                            WMF: "Watches"
                        },
                        U = j(".compareListTable-" + V).find("tr.first td"),
                        S = [];
                    j(U).each(function() {
                        S.push(j(this).data("reference-code"))
                    });
                    r.trackevent = j(".tabs").data("tracking-event");
                    r.comparisonProduct1 = S[0];
                    r.comparisonProduct2 = S[1];
                    r.comparisonProduct3 = S[2];
                    r.productCategory = T[V];
                    j.pubsub("publish", k.tabClicked, r)
                }

                function G() {
                    j(".edit-compare-list").modal();
                    o = {
                        WMF: j(".compareListTable-WMF"),
                        WBU: j(".compareListTable-WBU"),
                        WBR: j(".compareListTable-WBR")
                    };
                    y = {
                        WMF: o.WMF.clone(),
                        WBU: o.WBU.clone(),
                        WBR: o.WBR.clone()
                    };
                    if (j.cookie(D.COMPARECOOKIE)) {
                        p = j.parseJSON(j.cookie(D.COMPARECOOKIE));
                        A = {
                            WMF: p.WMF,
                            WBU: p.WBU,
                            WBR: p.WBR
                        }
                    }
                    if (j("#compareListTableWrapper").length > 0 && l === -1) {
                        P = P.substr(1);
                        if (P && P === "WBU" || P === "WBR" || P === "WMF") {
                            F(P)
                        } else {
                            Q()
                        }
                        I()
                    }
                    if (l > -1) {
                        s();
                        I()
                    }
                    E()
                }
                j.pubsub("subscribe", "country-currency-determined", function(S, T) {
                    N = T.countryCode;
                    M = T.salesCode;
                    G()
                })
            };
            if (j("#compareListTableWrapper").length > 0) {
                h.gdt.ProdComparatorResult = new f()
            } else {
                if (g && i) {
                    j.pubsub("subscribe", k.compareTabUpdated, function() {
                        h.gdt.ProdComparatorResult = new f()
                    })
                } else {
                    if (l > -1 && j(".compareSlide").length) {
                        h.gdt.ProdComparatorResult = new f()
                    }
                }
            }
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.ProductGallery = f.gdt.ProductGallery || {};
            f.videojs.options = {
                flash: {
                    swf: "/swf/video-js.swf",
                    params: {
                        wmode: "transparent"
                    }
                }
            };
            var g = function() {
                var n = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    E = f.gdt.Utils.PubSub.UI_EVENTS,
                    p, r, F, G, t, D, z = h("body"),
                    H = h(".buttonslideup"),
                    o = h(".buttonslideup button"),
                    x = false,
                    I = h(".slidenavigation"),
                    u = h(".video-js"),
                    L;

                function q(M, N) {
                    M.find(".zoom-image").attr("src", N);
                    M.find(".zoom-image").get(0).remove()
                }

                function J(N) {
                    var M = f.gdt.Utils.Picture.getImgSrcFromTemplate(N);
                    q(N, M)
                }

                function k() {
                    if (F.hasClass("zoomed")) {
                        h(".slide.zoomed").each(function() {
                            if (h(this).find('[type="text/x-tmpl"]').length) {
                                J(h(this))
                            }
                        })
                    }
                }

                function l() {
                    A(t);
                    A(D);
                    h(".video-playing").removeClass("video-playing")
                }

                function w(M) {
                    r.on(n, function(O) {
                        var N = F.filter(".active");
                        if (N.has(".video-playing")) {
                            j(D, "pause")
                        }
                        O.preventDefault()
                    });
                    M.on("play", function() {
                        var N = M.player();
                        h(N.el()).parent().addClass("video-playing");
                        N.controlBar.show()
                    });
                    M.on("pause", function() {
                        var N = M.player();
                        h(N.el()).parent().removeClass("video-playing");
                        j(N, "pause");
                        N.controlBar.hide()
                    });
                    M.on("ended", function() {
                        var N = M.player();
                        h(N.el()).parent().removeClass("video-playing");
                        N.controlBar.hide()
                    })
                }
                h(".video-container").on("click", function() {
                    var N = h(this),
                        M = N.find("video.vjs-tech");
                    j(M.get(0).player, "play")
                });

                function m(O) {
                    var M = O.controlBar,
                        P = M.addChild("button").addClass("pan-volume");
                    for (var N = 0; N < 4; N++) {
                        P.addChild("button").addClass("volumelevel level" + (N + 1) + " active")
                    }
                    h(P.el_).on(n, ".volumelevel", function() {
                        var S = h(this),
                            Q = ".volumelevel",
                            T = S.parent().find(Q),
                            R = S.index(Q) + 1 / T.size();
                        O.volume(R);
                        T.removeClass("active").filter(":lt(" + parseInt(S.index(Q) + 1, 10) + ")").addClass("active")
                    })
                }

                function j(M, N) {
                    switch (N) {
                        case "play":
                            if (M.paused()) {
                                M.play()
                            }
                            break;
                        case "pause":
                            if (!M.paused()) {
                                M.pause()
                            }
                            break
                    }
                }

                function s() {
                    u.each(function() {
                        var M = h(this).get(0);
                        f.videojs(M, {
                            nativeControlsForTouch: false
                        }).ready(function() {
                            D = this;
                            this.nativeControlsForTouch = false;
                            m(D);
                            L = this.techName;
                            w(this)
                        })
                    })
                }

                function A(M) {
                    if (M !== undefined) {
                        M.pause()
                    }
                }

                function K() {
                    I.removeClass("slidenavvisible").addClass("slidenavhidden");
                    H.removeClass("slidenavvisible").addClass("slidenavhidden");
                    o.removeClass("arrow-down").addClass("arrow-up")
                }

                function y() {
                    p.akcarousel({
                        delay: 5000,
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: false,
                        scrollSpeed: 1000,
                        navarrows: true,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        callback: function(P) {
                            h(".desktop.slidenavigation").akcarousel("move", P)
                        }
                    });
                    h(".desktop.slidenavigation").akcarousel({
                        horizontal: true,
                        delay: 5000,
                        scrollSpeed: 500,
                        scrollNode: true,
                        interruptionDelay: 10000,
                        skipbounds: true,
                        lockscroll: true,
                        tapnavigation: true,
                        variablesizeslides: true,
                        navarrows: true,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        callback: function(P) {
                            p.akcarousel("move", P);
                            I.removeClass("slidenavvisible").addClass("slidenavhidden");
                            H.removeClass("slidenavvisible").addClass("slidenavhidden");
                            o.removeClass("arrow-down").addClass("arrow-up");
                            o.removeClass("btndisappear")
                        }
                    });
                    setTimeout(function() {
                        K()
                    }, 2000);
                    r = p.find(".cleftarrow, .crightarrow");
                    H.on(n + ".buttonslideup", function(Q) {
                        Q.preventDefault();
                        Q.stopPropagation();
                        var P = h(this).find("button").attr("class");
                        if (x) {
                            return
                        }
                        if (P === "cta-gallery arrow-up") {
                            I.addClass("slidenavvisible").removeClass("slidenavhidden");
                            H.addClass("slidenavvisible").removeClass("slidenavhidden");
                            o.addClass("arrow-down").removeClass("arrow-up");
                            o.addClass("btndisappear").removeClass("btnappear")
                        } else {
                            I.removeClass("slidenavvisible").addClass("slidenavhidden");
                            H.removeClass("slidenavvisible").addClass("slidenavhidden");
                            o.removeClass("arrow-down").addClass("arrow-up")
                        }
                        z.on(n + ".buttonslideup", function(R) {
                            if (h(R.target).parents(".slidenavigation").length) {
                                return
                            }
                            I.removeClass("slidenavvisible").addClass("slidenavhidden");
                            H.removeClass("slidenavvisible").addClass("slidenavhidden");
                            o.removeClass("arrow-down").addClass("arrow-up");
                            o.removeClass("btndisappear");
                            z.off(n + ".buttonslideup")
                        })
                    });
                    if (h(".zoom").length > 0) {
                        h(".zoom").galleryZoom()
                    }
                    var M = window.location.hash,
                        N = [];
                    N = M.split("-");
                    var O = N[1];
                    if (N[0] === "#gallery") {
                        h("#js-product-gallery-carousel").akcarousel("move", O - 1);
                        h(".desktop.slidenavigation").akcarousel("move", O - 1)
                    }
                    k()
                }

                function v() {
                    p = h("#js-product-gallery-carousel");
                    F = p.find("li");
                    G = p.find(".video-js").clone()
                }

                function B() {
                    if (!p) {
                        v();
                        y();
                        s()
                    }
                }

                function d() {
                    h("#js-product-gallery").modal();
                    h("body").on("click", "#js-product-gallery-btn", function() {
                        h.pubsub("publish", E.productGallery);
                        h("#js-product-gallery").find(".slidenavigation .slide").each(function() {
                            var P = h(this),
                                O = P.find("img");
                            O.each(function() {
                                var R = h(this),
                                    Q = R.data("src");
                                R.attr("src", Q)
                            })
                        })
                    });
                    var M = window.location.hash,
                        N = [];
                    N = M.split("-");
                    if (N[0] === "#gallery") {
                        h.pubsub("publish", E.productGallery);
                        h("#js-product-gallery").find(".slidenavigation .slide").each(function() {
                            var P = h(this),
                                O = P.find("img");
                            O.each(function() {
                                var R = h(this),
                                    Q = R.data("src");
                                R.attr("src", Q)
                            })
                        })
                    }
                }

                function C() {
                    h.pubsub("subscribe", E.modal.productGallery.opening, B);
                    h.pubsub("subscribe", E.modal.productGallery.closing, l);
                    d()
                }
                C();
                return {
                    init: C
                }
            };
            f.gdt.ProductGallery = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var p = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    r = false,
                    m = h("#js-product-list"),
                    k = h("#js-splash-promo"),
                    d = h("#js-show-promo"),
                    l = d.text(),
                    j = d.data("closetext"),
                    o = h("#js-product-list-filters").find("[name=product-filter]");

                function q() {
                    d.on(p, function() {
                        var w = "promo-open",
                            u = k.hasClass(w) ? l : j,
                            t = m.prev("h3").outerHeight(true),
                            v = k.hasClass(w) ? 0 : k.find("ul").outerHeight(true) + t;
                        k.toggleClass(w).css("max-height", v + "px");
                        d.text(u).toggleClass("button-minimise")
                    })
                }

                function n() {
                    if (p !== "click") {
                        m.on(p, "li.product-list-item", function() {}).on("touchstart", function() {
                            r = false
                        }).on("touchmove", function() {
                            r = true
                        })
                    }
                    o.on("change", function() {
                        var t = m.find('[data-purchaseable="false"]'),
                            u = h("body"),
                            v;
                        if (h(this).val() === "online") {
                            t.hide();
                            v = "sold online"
                        } else {
                            t.show();
                            v = "view all"
                        }
                        m.hide().fadeIn(2000);
                        f.gdt.ProdComparator.overlayPositionHandler();
                        u.trigger("collectionsViewFilter", {
                            event: "itemDisplay",
                            Product_subsection: h("input[name=Product_subsection]").val(),
                            Product_type: h("input[name=Product_type]").val(),
                            view: v
                        })
                    })
                }

                function s() {
                    n();
                    q()
                }
                return {
                    init: s
                }
            };
            f.gdt.ProductList = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(h, f, g) {
            f.gdt = f.gdt || {};
            var i = function() {
                var q = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    l = g("#js-carousel-QualityControl"),
                    d = g("#js-carousel-QualityControl").find("li"),
                    m = g(".pager"),
                    p = "carousel-hero-image-lazyload";

                function n(s, t) {
                    s.css("background-image", "url(" + t + ")")
                }

                function j(t) {
                    var s = f.gdt.Utils.Picture.getImgSrcFromTemplate(t);
                    t.removeClass(p);
                    n(t, s)
                }

                function k() {
                    l.akcarousel({
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: false,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        callback: function(t) {
                            var v = g(this.node).find(".slide").size(),
                                s = t === v ? 0 : t + 1,
                                u = g(this.node).find(".slide").eq(s);
                            if (u.hasClass(p)) {
                                j(u)
                            }
                        }
                    });
                    j(d.eq(0));
                    j(d.eq(1))
                }

                function o() {
                    m.on(q, "a", function() {
                        j(l.find("." + p));
                        l.akcarousel("move", g(this).index())
                    })
                }

                function r() {
                    if (l.length) {
                        k();
                        o()
                    }
                    if (f.gdt.Utils.Browser.isMobileLayout) {
                        g(".qualityContentContainer").parent().find(".mobile-links").find("a.back").hide()
                    }
                }
                r()
            };
            f.gdt.QualityControlSlider = new i()
        }(document, window, window.jQuery || window.Zepto));
        (function(j, q) {
            var m = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                s = j(".social-wrapper"),
                n = s.find("dl"),
                t = s.find(".emailOverlay"),
                f = s.find(".close, .modal-close"),
                h = j("#library"),
                A = j("#empty-comparelist, #emptyWishlist, #js-wishlist-caro"),
                x = j("html"),
                g = j("#empty-comparelist"),
                l = ".social-wrapper .facebook a, .social-wrapper .twitter a, .social-wrapper .linkedin a, .social-wrapper .googleplus a, .social-wrapper .pinterest a, .close",
                z = j(".socialShare"),
                k = j("#compareListTableWrapper"),
                o = j("#js-wishlist-caro"),
                v = j(".carousel-wishlist-wrap"),
                r = j(".equalTitle").length ? j(".equalTitle") : 0;
            if (!q.gdt.Utils.Browser.isMobileLayout) {
                if (g.length || o.length) {
                    if (r) {
                        var y = r.offset().top;
                        s.css("top", y + 100);
                        j("body").on("click", l, function() {
                            x.removeClass("mobileSite openOptions openTellFriend")
                        })
                    }
                }
            }
            if (s.length) {
                var d = j(".socialShare.social-button");
                if (q.gdt.Utils.Browser.isMobileLayout) {
                    var p = z.clone(true);
                    j(".product-image-cta").append(p)
                } else {
                    if (d.length) {
                        t.css({
                            top: z.offset().top,
                            left: z.offset().left - 410,
                            marginTop: -t.height() / 2
                        });
                        n.css({
                            top: z.offset().top,
                            left: z.offset().left + 4,
                            marginTop: -(n.height() + 15)
                        });
                        j(window).on("orientationchange", function() {
                            t.css({
                                top: z.offset().top,
                                left: z.offset().left - 410,
                                marginTop: -t.height() / 2
                            });
                            n.css({
                                top: z.offset().top,
                                left: z.offset().left + 4,
                                marginTop: -(n.height() + 15)
                            })
                        })
                    }
                }
                if (!d.length && q.gdt.Utils.Browser.isMobileLayout) {
                    s.find("dd.email").on(m, function(w) {
                        w.preventDefault();
                        x.addClass("openTellFriend")
                    })
                } else {
                    if (!d.length && !h.length && !A.length) {
                        x.addClass("footerShare")
                    }
                }
                if (A.length && !q.gdt.Utils.Browser.isMobileLayout) {
                    x.addClass("compareAndwishlistShare")
                }
                j("body").on(m, ".socialShare", function(E) {
                    E.preventDefault();
                    var K = t.find(".captchaID"),
                        L = K.prop("id"),
                        F = K.data("sitekey");
                    if (q.gdt.Utils.Browser.isMobileLayout) {
                        x.addClass("openOptions mobileSite")
                    } else {
                        x.addClass("openOptions")
                    }
                    j("#recaptcha_challenge_field_holder").remove();
                    j("#recaptcha_response_field").remove();
                    t.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />');
                    j.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                        j("#recaptcha_image").remove();
                        j('<div id="recaptcha_image"></div>').insertBefore(j("#" + L + " .recaptcha_only_if_incorrect_sol"));
                        window.Recaptcha.create(F, L, window.RecaptchaOptions)
                    });
                    if (k.length || o.length) {
                        var B = j("#compareListTableWrapper").find(".compareSlide.active table"),
                            I = B.data("description"),
                            D = j("#compareListTableWrapper").find(".compareSlide.active div.h1 .comparelist-suffix").text() ? j("#compareListTableWrapper").find(".compareSlide.active div.h1 .comparelist-suffix").text() : v.data("title"),
                            w = B.data("media") ? B.data("media") : v.data("media"),
                            H = B.data("share-url") ? B.data("share-url") : v.data("share-url"),
                            J = B.data("title") ? B.data("title") : v.data("title"),
                            C = [];
                        D = encodeURIComponent(D);
                        B.find("tr.first td.showTitle").each(function() {
                            var M = j(this).find(".removeProduct").data("prod-code");
                            C.push(M)
                        });
                        if (!q.gdt.Utils.Browser.isMobileLayout) {
                            o.find(".slide.active .wishlist-prod-list li").each(function() {
                                var M = j(this).data("prod-code");
                                C.push(M)
                            })
                        } else {
                            j(this).parents(".slide:first").find(".wishlist-prod-list li").each(function() {
                                var M = j(this).data("prod-code");
                                C.push(M)
                            })
                        }
                        s.find("dd a").not(".email a, .footerShareThis a, .close a, .title a").each(function() {
                            var N = j(this),
                                M = N.data("href-original"),
                                P = "products=" + C + "&name=" + D;
                            P = encodeURIComponent(P);
                            var O = M.replace(/{url}/g, H + P).replace(/{description}/g, I).replace(/{pagetitle}/g, J).replace(/{media}/g, w);
                            N.prop("href", O)
                        });
                        var G = decodeURIComponent(H);
                        j("#share-url").prop("value", G + "products=" + C + "&name=" + D)
                    }
                });
                j("body").find("dd.email").on(m, function(C) {
                    C.preventDefault();
                    var D = t.find(".captchaID"),
                        B = D.prop("id"),
                        w = D.data("sitekey");
                    x.addClass("openTellFriend");
                    t.find("form").show();
                    t.find(".gdt-message").remove();
                    j("#recaptcha_challenge_field_holder").remove();
                    j("#recaptcha_response_field").remove();
                    t.find(".captchaID").append('<input type="text" id="recaptcha_response_field" required name="recaptcha_response_field" />');
                    j.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js", function() {
                        j("#recaptcha_image").remove();
                        j('<div id="recaptcha_image"></div>').insertBefore(j("#" + B + " .recaptcha_only_if_incorrect_sol"));
                        window.Recaptcha.create(w, B, window.RecaptchaOptions)
                    })
                });
                if (h.length) {
                    if (q.gdt.Utils.Browser.isMobileLayout) {
                        var i = j(".emailOverlay"),
                            u = j(".social-button:first dl").clone(true);
                        i.wrap('<div class="social-wrapper createdOne"></div>').parent().prepend(u);
                        j("body").on(m, "#library .social-button", function() {
                            x.addClass("libEmail");
                            j("#library").hide()
                        });
                        j("body").on(m, "dd.close", function() {
                            x.removeClass("libEmail");
                            j("#library").show()
                        })
                    } else {
                        j("body").on(m, "#library .social-button", function() {
                            j(this).addClass("visible")
                        })
                    }
                    j("body").on(m, function() {
                        j("#library .social-button").removeClass("visible")
                    });
                    j("body").on(m, "#library .social-button", function(w) {
                        w.stopPropagation()
                    });
                    j(".modal-close").on(m, function(w) {
                        w.preventDefault();
                        x.removeClass("openTellFriend")
                    })
                }
                f.on(m, function(w) {
                    w.preventDefault();
                    x.removeClass("mobileSite openOptions openTellFriend")
                });
                j("body").on(m, function() {
                    x.removeClass("mobileSite openOptions openTellFriend")
                });
                j("body").on(m, ".socialShare, .social-wrapper, .emailOverlay", function(w) {
                    w.stopPropagation()
                })
            }
        }(window.jQuery, window));
        (function(h, f, g) {
            f.gdt = f.gdt || {};
            var i = function() {
                var l = window.location.href.slice(window.location.href.indexOf("?") + 1),
                    d = f.location.search.indexOf("ref="),
                    p = f.location.search.indexOf("wid="),
                    k = f.location.search.indexOf("sid=");

                function o(u) {
                    u = u.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var v = "[\\?&]" + u + "=([^&#]*)";
                    var t = new RegExp(v);
                    var s = t.exec(window.location.href);
                    if (s === null) {
                        return ""
                    } else {
                        return s[1]
                    }
                }

                function m() {
                    var s = o("case"),
                        u = o("case-diameter");
                    s = s.replace(new RegExp("%7C", "g"), "|");
                    u = u.replace(new RegExp("%7C", "g"), "|");
                    s = s.substring(0, s.indexOf("|"));
                    u = u.substring(0, u.indexOf("|"));
                    var y = window.location.protocol,
                        w = window.location.host,
                        x = window.location.pathname;
                    x = x.substring(0, x.indexOf("."));
                    var t = g("input.colorVariantsPathVar").data("path"),
                        v = g("input.sizeVariantsPathVar").data("path"),
                        z = g("input.relatedVariantsPathVar").data("path");
                    g("input.colorVariantsPathVar").val(y + "//" + w + x + t + s + "." + u + ".html");
                    g("input.sizeVariantsPathVar").val(y + "//" + w + x + v + s + "." + u + ".html");
                    g("input.relatedVariantsPathVar").val(y + "//" + w + x + z + s + "." + u + ".html")
                }

                function n() {
                    var s = g("input.colorVariantsPathVar").val();
                    g("div.moreVariants").hide();
                    g("div.availableVariantsSection").hide();
                    g("div.strap-Size").hide();
                    if (d > 0 && p > 0) {
                        var t = o("ref");
                        s = s.slice(0, -6);
                        s = s + "REF-" + t + ".html"
                    }
                    g.ajax({
                        type: "GET",
                        url: s,
                        dataType: "html",
                        success: function(u) {
                            g("div.availableVariantsCont").html(u);
                            g("div.availableData:gt(3)").hide();
                            if (g("div.availableData").length >= 5) {
                                g("div.moreVariants").show()
                            } else {
                                g("div.moreVariants").hide()
                            }
                            if (g("div.availableData").length >= 1) {
                                g("div.availableVariantsSection").show()
                            }
                            g("#strapDetailPage .availableVariantsSection .availableVariantsCont .availableData a").attr("href", function(v, w) {
                                return w + "?" + l
                            })
                        }
                    });
                    g("div.variantsAvailable .moreVariants span").on("click", function() {
                        g("div.availableData:gt(3)").animate({
                            height: "toggle"
                        }, 600, function() {});
                        g("div.availableData").not(":visible").animate({
                            height: "toggle"
                        }, 500, function() {});
                        var w = g("div.variantsAvailable .moreVariants span"),
                            v = "more",
                            u = "less";
                        if (w.hasClass("more")) {
                            g(".availableVariantsSection").addClass("visibleAvailableColors");
                            w.removeClass("more");
                            g(this).addClass("slideUp");
                            w.html(u)
                        } else {
                            g(".availableVariantsSection").removeClass("visibleAvailableColors");
                            g(this).addClass("more");
                            g(this).removeClass("slideUp");
                            g(this).html(v)
                        }
                    })
                }

                function j() {
                    var s = g("input.sizeVariantsPathVar").val();
                    if (d > 0 && p > 0) {
                        var t = o("ref");
                        s = s.slice(0, -6);
                        s = s + "REF-" + t + ".html"
                    }
                    g.ajax({
                        type: "GET",
                        url: s,
                        dataType: "html",
                        success: function(u) {
                            g("span.product-size").html(u);
                            if (g("span.product-size select option").length >= 1) {
                                g("div.strap-Size").show()
                            }
                            g("#strapDetailPage .product-overview .strap-Size .product-size select").bind("change", function() {
                                var v = this.value + "?" + l;
                                if (v) {
                                    window.location = v
                                }
                                return false
                            })
                        }
                    })
                }

                function q() {
                    var s = g("input.relatedVariantsPathVar").val();
                    if (d > 0 && p > 0) {
                        var t = o("ref");
                        s = s.slice(0, -6);
                        s = s + "REF-" + t + ".html"
                    }
                    g.ajax({
                        type: "GET",
                        url: s,
                        dataType: "html",
                        success: function(u) {
                            g("div.products-related-accessories").html(u);
                            g(".products-related-accessories a").attr("href", function(v, w) {
                                return w + "?" + l
                            });
                            if (g("main div.products-related-accessories ul li").length < 1) {
                                g("div.products-related-accessories").remove()
                            }
                        }
                    })
                }

                function r() {
                    if (g("main #strapDetailPage").length > 0) {
                        m();
                        n();
                        if (k !== 1) {
                            j();
                            q()
                        }
                        if (g("main div.related-buckle ul li").length < 1) {
                            g("main div.related-buckle").remove()
                        } else {
                            g(".related-buckle ul li a").attr("href", function(t, u) {
                                if (u.indexOf("?") === -1) {
                                    return u + "?" + l
                                }
                            })
                        }
                        g("nav.product-crumb span a").attr("href", function(t, u) {
                            return u + "?" + l
                        });
                        var s = document.URL.split("?")[1];
                        if (s !== undefined) {
                            g("#snb-selection .selectionView").show();
                            g("#snb-selection .selectionView p a").attr("href", function(t, u) {
                                return u + "?" + l
                            })
                        } else {
                            g("#snb-selection .selectionView").hide()
                        }
                    }
                }
                r()
            };
            f.gdt.strapsBracelets = new i()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var u = h("#js-sustainability-wrap"),
                    q = u.find(".splash"),
                    j = q.find("script"),
                    r, n = u.find(".thumbs");

                function l() {
                    var w = h.trim(j.html()),
                        v;
                    w = h.parseHTML(w);
                    v = h(w);
                    j.replaceWith(v);
                    r = q.find("picture");
                    f.picturefill()
                }

                function m() {
                    r.hide()
                }

                function d() {
                    r.show()
                }

                function p() {}

                function o() {
                    n.each(function() {
                        var v = h(this);
                        v.parent().prepend(v)
                    })
                }

                function k() {}

                function s() {
                    h(f).smartresize(function() {
                        var v = (typeof r !== "undefined");
                        if (f.matchMedia("only screen and (min-width: 668px)").matches) {
                            k();
                            if (!v) {
                                l()
                            } else {
                                d()
                            }
                        } else {
                            p();
                            if (u.data("index") !== 0) {
                                o()
                            }
                            if (!v && u.data("index") === 0) {
                                l()
                            } else {
                                if (u.data("index") !== 0) {
                                    m()
                                }
                            }
                        }
                    });
                    h(f).trigger("resize")
                }

                function t() {
                    if (u.length) {
                        s()
                    }
                }
                t()
            };
            f.gdt.SustainabilityWrap = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var g = (typeof window.ontouchstart === "undefined") ? "click" : "touchend";

            function j() {
                var d = h("#js-tell-a-friend div.send-request button");

                function k(l) {
                    h.ajax({
                        type: "post",
                        url: l.attr("action"),
                        data: l.serialize(),
                        dataType: "json",
                        success: function(m) {
                            d.removeClass("loading");
                            l.parents("div.emailOverlay").addClass("messageTellaFriend");
                            if (m.status === true) {
                                l.hide().after("<div class='gdt-message'>" + m.message + "</div>");
                                f.Recaptcha.reload();
                                l.find("[type=reset]").trigger("click");
                                l.find(".captchaDiv").removeClass("captchaError")
                            } else {
                                if (m.status === false && m.validCaptcha !== undefined && m.validCaptcha === false) {
                                    l.find(".captchaDiv").addClass("captchaError");
                                    f.Recaptcha.reload()
                                } else {
                                    l.hide().after("<div class='gdt-message'>" + m.message + "</div>");
                                    f.Recaptcha.reload();
                                    l.find("[type=reset]").trigger("click");
                                    l.find(".captchaDiv").removeClass("captchaError")
                                }
                            }
                        },
                        error: function(m, o, n) {
                            l.hide().after("<div class='gdt-message'>" + n + "</div>")
                        }
                    })
                }
                d.on(g, function(l) {
                    l.preventDefault();
                    if (window.gdt.Validate.form("tellafriend")) {
                        k(h("#tellafriend"));
                        d.addClass("loading")
                    }
                })
            }
            f.gdt.Tellafriend = new j()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var r = (typeof window.ontouchstart === "undefined") ? "click" : "touchstart",
                    m = h("#js-timeline-carousel"),
                    j = h("#js-timeline-content-carousel"),
                    d = j.find(".slide"),
                    p = m.find(".slide"),
                    k = h(".cq-wcm-edit");

                function l(v) {
                    var x = h.trim(v.html()),
                        w;
                    x = h.parseHTML(x);
                    w = h(x);
                    v.replaceWith(w);
                    f.picturefill()
                }

                function u(v) {
                    l(d.eq(v).find('[type="text/x-tmpl"]'));
                    l(d.eq(v + 1).find('[type="text/x-tmpl"]'))
                }

                function s() {
                    j.akcarousel({
                        delay: 5000,
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: false,
                        scrollSpeed: 1000,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        navarrows: true,
                        callback: function(v) {
                            m.akcarousel("move", v);
                            n(p.eq(v));
                            u(v)
                        }
                    })
                }

                function o() {
                    m.akcarousel({
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: false,
                        scrollSpeed: 600,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
                        navarrows: true
                    })
                }

                function n(v) {
                    p.removeClass("clicked");
                    v.addClass("clicked");
                    window.location.hash = v.data("year")
                }

                function q() {
                    m.find(".slide").on("click", function() {
                        var w = h(this),
                            v = w.index();
                        n(w);
                        j.akcarousel("move", v);
                        m.akcarousel("move", v);
                        u(v)
                    });
                    h(document).on(r, function() {
                        j.find(".scroll").addClass("scroll-interacted")
                    })
                }

                function t() {
                    if (m.length) {
                        s();
                        o();
                        q();
                        var w = window.location.href.split("#")[1],
                            v = w ? m.find('[data-year="' + w + '"]').index() : 0;
                        v = v === -1 ? 0 : v;
                        p.eq(v).addClass("clicked");
                        j.akcarousel("move", v);
                        m.akcarousel("move", v);
                        u(v);
                        h(".carousel-history-container").find(".slide section").mCustomScrollbar({
                            scrollInertia: 0
                        })
                    }
                    if (k.length) {
                        d.each(function() {
                            l(h(this).find('[type="text/x-tmpl"]'))
                        })
                    }
                }
                t()
            };
            f.gdt.Timeline = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(j, f, i) {
            f.gdt = f.gdt || {};
            f.gdt.Utils = f.gdt.Utils || {};
            var g = (typeof window.ontouchstart === "undefined") ? "click" : "touchend";

            function h() {
                var l = i("button.btn-tooltip");

                function k(m, n) {
                    if (!m.hasClass("myCustomTooltip")) {
                        m.css("opacity", 0);
                        m.prop("hidden", false);
                        m.removeAttr("hidden");
                        if (f.gdt.Utils.Browser.isMobileLayout) {
                            m.css("left", 0);
                            m.css("top", -(n.position().top + n.height() + m.height() + 10))
                        } else {
                            m.css("left", n.position().left + n.width() + 10);
                            m.css("top", ((n.position().top + n.height()) / 2) - (m.height() / 2) - 10)
                        }
                        m.css("opacity", 1)
                    } else {
                        m.css("opacity", 0);
                        m.prop("hidden", false);
                        m.removeAttr("hidden");
                        m.css("top", ((n.position().top + n.height()) / 2) - (m.height()) - 24);
                        m.css("opacity", 1)
                    }
                }

                function d(m) {
                    m.animate({
                        opacity: 0
                    }, 200, function() {
                        m.prop("hidden", true);
                        m.attr("hidden", "hidden")
                    });
                    l.removeClass("mobileTip")
                }
                l.each(function(o, n) {
                    var r = i(n),
                        q = r.closest("label").length ? r.closest("label") : r.closest("fieldset"),
                        m = q.find("span.tooltip").length ? q.find("span.tooltip") : r.next("span.tooltip"),
                        s = q.find("input, select, textarea"),
                        p = m.find(".closeBtn");
                    r.on(g, function(t) {
                        i(".tooltip").attr("hidden", "hidden");
                        i(".tooltip").prop("hidden", true);
                        if (f.gdt.Utils.Browser.isMobileLayout) {
                            r.addClass("mobileTip")
                        }
                        if (m.prop("hidden")) {
                            k(m, r)
                        } else {
                            d(m)
                        }
                        t.stopPropagation()
                    });
                    m.on(g, function(t) {
                        t.preventDefault();
                        t.stopPropagation()
                    });
                    q.on(g, function(t) {
                        if (!i("#js-strapsBracelets-wrap").length) {
                            if (!i(t.target).is("input") || !i(t.target).is("label")) {
                                t.preventDefault();
                                t.stopPropagation()
                            }
                        }
                    });
                    s.on("focus", function() {
                        d(m)
                    });
                    i(document.body).on(g, function() {
                        d(m)
                    });
                    p.on(g, function() {
                        d(m)
                    })
                })
            }
            f.gdt.Tooltips = new h();
            i("#my-account #profile-section-1").on("click", function() {
                i(document).ajaxComplete(function() {
                    f.gdt.Tooltips = new h()
                })
            })
        }(document, window, window.jQuery || window.Zepto));
        (function(g, f) {
            f.gdt = f.gdt || {};
            f.gdt.Validate = f.gdt.Validate || {};
            var h = function() {
                var i = [{
                    name: "amex",
                    pattern: /^3[47]/
                }, {
                    name: "diners_club_carte_blanche",
                    pattern: /^30[0-5]/
                }, {
                    name: "diners_club_international",
                    pattern: /^36/
                }, {
                    name: "jcb",
                    pattern: /^35(2[89]|[3-8][0-9])/
                }, {
                    name: "laser",
                    pattern: /^(6304|670[69]|6771)/
                }, {
                    name: "visa_electron",
                    pattern: /^(4026|417500|4508|4844|491(3|7))/
                }, {
                    name: "visa",
                    pattern: /^4/
                }, {
                    name: "mastercard",
                    pattern: /^5[1-5]/
                }, {
                    name: "maestro",
                    pattern: /^(5018|5020|5038|6304|6759|676[1-3])/
                }, {
                    name: "discover",
                    pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/
                }];

                function d(m) {
                    var p, l, o, n;
                    o = [];
                    for (p = 0, l = m.length; p < l; p++) {
                        if (i[p] && m.match(i[p].pattern)) {
                            n = i[p].name
                        }
                    }
                    return n
                }

                function k(q) {
                    var r = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9],
                        l = 0,
                        o, p = false,
                        m = String(q).replace(/[^\d]/g, ""),
                        n;
                    if (m.length === 0) {
                        return false
                    }
                    for (n = m.length - 1; n >= 0;
                        --n) {
                        o = parseInt(m.charAt(n), 10);
                        l += (p = !p) ? o : r[o]
                    }
                    return (l % 10 === 0)
                }

                function j(m) {
                    var l = k(m),
                        n = d(m);
                    return l ? n : false
                }
                return {
                    type: "creditcard",
                    luhnChk: k,
                    creditCardName: d,
                    getValidity: j
                }
            };
            f.gdt.Validate.ext = f.gdt.Validate.ext || {};
            f.gdt.Validate.ext.CreditCards = new h()
        }(document, window));
        (function(k, f, i) {
            f.gdt = f.gdt || {};
            f.gdt.snbFilteredResultsData = {};
            var h = i("#find"),
                g = h.find("form"),
                j = f.gdt.Utils.PubSub.UI_EVENTS;
            i("#watch-list-filters").find("[name=watch-filter]").on("click", function() {
                if (i(this).val() === "online") {
                    i("#find").find(".clear").addClass("visible")
                }
            });
            g.on("submit", function(J) {
                h.find(".filter").addClass("filterEBoutique");
                if (h.hasClass("open-from-filter")) {
                    J.preventDefault();
                    h.removeClass("open-from-filter");
                    var t = i(this),
                        n = t.find("div.search input"),
                        P = n.val(),
                        s = i("#watch-list-filters").find("[name=watch-filter]:checked").val(),
                        x = i("#watch-list-filters").find("[name=watch-filter]:checked").next().text();
                    i.pubsub("publish", j.modal.close);
                    i("#watchListFilterLink").addClass("clicked");
                    var m = "";
                    g.find("input[type=checkbox]").each(function() {
                        if (i(this).is(":checked")) {
                            m += i(this).attr("name") + "=" + i(this).val() + "&"
                        }
                    });
                    var w = m.split("&");
                    var o = {};
                    for (var H = w.length; H--;) {
                        var Q = w[H].split("="),
                            q = Q[0].replace("[]", ""),
                            v = Q[1];
                        o[q] = o[q] || [];
                        o[q].push(v)
                    }
                    var y = o.movement,
                        C = o["function"],
                        u = o.casediameter,
                        O = o.material,
                        D = o.color;
                    var E = [],
                        p = [],
                        l = [],
                        r = [],
                        z = [];
                    if (y !== undefined) {
                        for (var N = 0; N < y.length; N++) {
                            E.push(g.find('input[name="movement"][value="' + y[N] + '"]').next().text())
                        }
                    }
                    if (C !== undefined) {
                        for (var M = 0; M < C.length; M++) {
                            p.push(g.find('input[name="function"][value="' + C[M] + '"]').next().text())
                        }
                    }
                    if (u !== undefined) {
                        for (var L = 0; L < u.length; L++) {
                            l.push(g.find('input[name="casediameter"][value="' + u[L] + '"]').next().text())
                        }
                    }
                    if (O !== undefined) {
                        for (var K = 0; K < O.length; K++) {
                            r.push(g.find('input[name="material"][value="' + O[K] + '"]').next().text())
                        }
                    }
                    if (D !== undefined) {
                        for (var I = 0; I < D.length; I++) {
                            z.push(g.find('input[name="color"][value="' + D[I] + '"]').next().text())
                        }
                    }
                    if (P !== "") {
                        i("#js-product-list").find("li").addClass("hide").removeClass("show");
                        i("#js-product-list").find("li").each(function() {
                            var Z = i(this),
                                W = Z.data("filter"),
                                T = Z.data("purchaseable"),
                                Y = P.toUpperCase(),
                                R = W.movement,
                                aa = W["function"],
                                V = W.casediameter,
                                X = W.material,
                                d = W.name,
                                S = W.reference,
                                U = W.color;
                            if (d !== null && d !== "") {
                                d = d.toUpperCase();
                                if (d.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (S !== null && S !== "") {
                                S = S.toUpperCase();
                                if (S.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (R !== null && R !== "") {
                                R = R.toUpperCase();
                                if (R.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (aa !== null && aa !== "") {
                                aa = aa.toUpperCase();
                                if (aa.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (V !== null && V !== "") {
                                V = V.toUpperCase();
                                if (V.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (X !== null && X !== "") {
                                X = X.toUpperCase();
                                if (X.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (U !== null && U !== "") {
                                U = U.toUpperCase();
                                if (U.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (U !== null && U !== "") {
                                U = U.toUpperCase();
                                if (U.indexOf(Y) !== -1) {
                                    Z.addClass("show")
                                }
                            }
                            if (T === false) {
                                Z.removeClass("show")
                            }
                        });
                        i("#resultsummary span.resultsCount").text(i("#js-product-list").find("li.show").length);
                        i("#resultsummary li").removeClass("sh");
                        i("#resultsummary").find("li.search").addClass("sh").find("span:last").text(P)
                    } else {
                        i("#js-product-list").find("li").addClass("hide").removeClass("show");
                        var A = ["movement", "function", "casediameter", "material", "color"];
                        i("#js-product-list").find("li").addClass("show").removeClass("hide");
                        for (var F = 0; F < A.length; F++) {
                            var B = A[F];
                            var G = i("#find fieldset." + B).find("input:checkbox:checked").map(function() {
                                return i(this).val()
                            }).get();
                            if (G && G.length === 1 && G[0] === "0") {
                                f.console.log(G)
                            } else {
                                i("#js-product-list").find("li.show").each(function() {
                                    var T = i(this),
                                        S = T.data("filter");
                                    var R = false;
                                    for (var d = 0; d < G.length; d++) {
                                        if (S[B] === G[d]) {
                                            R = true
                                        }
                                    }
                                    if (!R) {
                                        T.addClass("hide");
                                        T.removeClass("show")
                                    }
                                })
                            }
                        }
                        i("#resultsummary").find("li").removeClass("sh");
                        i("#js-product-list").find("li.show").each(function() {
                            var R = i(this),
                                d = R.data("purchaseable");
                            if (s === "online" && d === false) {
                                R.addClass("hide").removeClass("show");
                                i("#resultsummary").find("li.soldOnlineWatch").addClass("sh").find("span:last").text(x)
                            }
                        });
                        if (y && y[0] !== "0") {
                            i("#resultsummary").find("li.movement").addClass("sh").find("span:last").text(E)
                        }
                        if (C && C[0] !== "0") {
                            i("#resultsummary").find("li.function").addClass("sh").find("span:last").text(p)
                        }
                        if (u && u[0] !== "0") {
                            i("#resultsummary").find("li.casediameter").addClass("sh").find("span:last").text(l)
                        }
                        if (O && O[0] !== "0") {
                            i("#resultsummary").find("li.material").addClass("sh").find("span:last").text(r)
                        }
                        if (D && D[0] !== "0") {
                            i("#resultsummary").find("li.color").addClass("sh").find("span:last").text(z)
                        }
                        i("#resultsummary span.resultsCount").text(i("#js-product-list").find("li.show").length)
                    }
                }
            });
            i(".gdt-form").on("click", ".clear", function() {
                i(this).removeClass("visible");
                i(this).parents("form:first").trigger("reset")
            });
            i("#watchListFilterLink").modal();
            i("#watchListFilterLink").on("click", function() {
                i("#watch-list-filters").addClass("product-list-filters-show");
                h.addClass("open-from-filter");
                var l = i("#find").find("div.case").data("default-case"),
                    d = i("#find").find('div.case input[type="checkbox"]');
                d.each(function() {
                    i(this).removeAttr("checked").attr("disabled", "disabled");
                    if (i(this).val() === l) {
                        i(this).prop("checked", "checked")
                    }
                })
            });
            i(".modal-close.mobileOnly").on("click", function() {
                i("#watch-list-filters").removeClass("product-list-filters-show");
                var d = i("#find").find('div.case input[type="checkbox"]');
                h.removeClass("open-from-filter");
                d.each(function() {
                    i(this).removeAttr("checked").removeAttr("disabled");
                    if (i(this).val() === "0") {
                        i(this).prop("checked", "checked")
                    }
                })
            })
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function() {
                var q = (typeof window.ontouchstart === "undefined") ? "click" : "touchend",
                    d = g("#js-wishlist-caro"),
                    o = d.find(".slide"),
                    n = o.length,
                    m = g(".pager"),
                    l = d.find(".next"),
                    k = d.find(".prev"),
                    t = d.find("#js-product-list"),
                    r = g(".printWishlistSlide");

                function j() {
                    d.akcarousel({
                        delay: 5000,
                        horizontal: true,
                        scrollNode: true,
                        autoSwitch: false,
                        scrollSpeed: 500,
                        easing: "cubic-bezier(0.390, 0.575, 0.565, 1.000)"
                    });
                    var v = t.find("li.slide:first .shareIconsMobile").data("pdf-url");
                    r.prop("href", v)
                }

                function p() {
                    m.on(q, "a", function() {
                        d.akcarousel("move", g(this).index());
                        var v = d.find("ul li.active").index(),
                            x = d.find("ul li.active").height();
                        g("#profile-section-2 .accordion-tabs-inner").removeAttr("style");
                        d.find("#js-product-list").height(x);
                        var y = parseInt(n);
                        if (v === 0) {
                            k.hide();
                            l.show()
                        } else {
                            if (v === (y - 1)) {
                                l.hide();
                                k.show()
                            } else {
                                k.show();
                                l.show()
                            }
                        }
                        var z = g(this).index(),
                            w = t.find("li.slide:eq(" + z + ") .shareIconsMobile").data("pdf-url");
                        r.prop("href", w)
                    });
                    if (n > 1) {
                        l.show()
                    }
                    l.on(q, function(z) {
                        z.preventDefault();
                        var v = d.find("ul li.active").index(),
                            x = d.find("ul li.active").next().height();
                        d.akcarousel("move", g(this).index() + v);
                        var A = g(this).index() + v,
                            w = t.find("li.slide:eq(" + A + ") .shareIconsMobile").data("pdf-url");
                        r.prop("href", w);
                        g("#profile-section-2 .accordion-tabs-inner").removeAttr("style");
                        d.find("#js-product-list").height(x);
                        var y = parseInt(n);
                        if (v === y - 2) {
                            l.hide()
                        }
                        k.show()
                    });
                    k.on(q, function(y) {
                        y.preventDefault();
                        var v = d.find("ul li.active").index() - 1,
                            x = d.find("ul li.active").prev().height();
                        d.akcarousel("move", g(this).index() + v);
                        var z = g(this).index() + v,
                            w = t.find("li.slide:eq(" + z + ") .shareIconsMobile").data("pdf-url");
                        r.prop("href", w);
                        g("#profile-section-2 .accordion-tabs-inner").removeAttr("style");
                        d.find("#js-product-list").height(x);
                        l.show();
                        if (v === 0) {
                            k.hide()
                        }
                    })
                }

                function s() {
                    o.each(function() {
                        var v = g(this).find("ul li"),
                            w = g(this).find("h2:first").text();
                        v.each(function() {
                            g(this).find("[name=wishlist-name]").val(w)
                        })
                    })
                }

                function u() {
                    if (o.length && !f.gdt.Utils.Browser.isMobileLayout) {
                        j();
                        p();
                        s()
                    }
                }
                u()
            };
            f.gdt.WishlistSlider = new h()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function(k, j, d) {
                this.markerData = k.storeData;
                this.mapWrapper = j;
                this.latitude = d.latitude;
                this.longitude = d.longitude;
                this.searchBtn = h(".bsoad-search-btn");
                this.resetBtn = h(".bsoad-reset-btn");
                this.searchField = h(".bsoad-store-search");
                this.currentLocationBtn = h(".bsoad-current-location");
                this.map = null;
                this.initBaiduMap();
                this.markers = [];
                this.touchEnabled = h("html").hasClass("touch");
                this.mcStyles = [{
                    url: f.gdt.Utils.google.clusterIcon,
                    size: new f.BMap.Size(36, 36),
                    opt_anchor: [0, 0],
                    textColor: "#FFFFFF",
                    opt_textSize: 16,
                    textSize: 12
                }, {
                    url: f.gdt.Utils.google.clusterIcon,
                    size: new f.BMap.Size(36, 36),
                    opt_anchor: [0, 0],
                    textColor: "#FFFFFF",
                    opt_textSize: 16,
                    textSize: 12
                }, {
                    url: f.gdt.Utils.google.clusterIcon,
                    size: new f.BMap.Size(36, 36),
                    opt_anchor: [0, 0],
                    textColor: "#FFFFFF",
                    opt_textSize: 16,
                    textSize: 12
                }]
            };
            g.prototype.initBaiduMap = function() {
                var j = this;
                f.console.log("inside baidu map init");
                var d = new f.BMap.Point(j.longitude, j.latitude);
                f.BMap.Convertor.translate(d, 2, function(k) {
                    j.map = new f.BMap.Map(j.mapWrapper);
                    j.map.centerAndZoom(k, 2);
                    j.map.addControl(new f.BMap.NavigationControl());
                    j.map.enableScrollWheelZoom(true);
                    j.map.setMapStyle({
                        style: "dark"
                    });
                    j.addMarkerOnMap();
                    j.eventBinding();
                    h.pubsub("subscribe", "mapCenter", function(m, l) {
                        j.map.centerAndZoom(l, 2)
                    })
                })
            };
            g.prototype.addMarkerOnMap = function() {
                var k = this;
                var j = new f.BMap.Icon(f.gdt.Utils.google.mapIcon, new f.BMap.Size(30, 35), {
                        anchor: new f.BMap.Size(10, 30),
                        infoWindowAnchor: new f.BMap.Size(10, 0)
                    }),
                    d = new f.BMapLib.MarkerClusterer(k.map, {
                        markers: k.markers
                    });
                h.each(k.markerData, function(l, q) {
                    var n = q.location.latitude,
                        p = q.location.longitude,
                        m = q.id,
                        o = new f.BMap.Point(p, n);
                    f.BMap.Convertor.translate(o, 2, function(r) {
                        k.marker = new f.BMap.Marker(r, {
                            icon: j,
                            title: m,
                        });
                        var s = [];
                        k.map.addOverlay(k.marker);
                        s.push(k.marker);
                        k.markers.push(k.marker);
                        k.mapEventBinding(k.map);
                        if (!k.touchEnabled) {
                            d.addMarkers(s);
                            d.setStyles(k.mcStyles)
                        }
                    })
                })
            };
            g.prototype.mapEventBinding = function(d) {
                var j = this;
                j.marker.addEventListener("click", function() {
                    h.pubsub("publish", "markerClick", this.getTitle());
                    f.console.log("markerClick event fired")
                });
                j.map.addEventListener("tilesloaded", function() {
                    var m = d.getBounds(),
                        n = [];
                    for (var l = 0; l < j.markers.length; l++) {
                        var k = j.markers[l];
                        if (m.containsPoint(k.getPosition())) {
                            n.push(j.markers[l].getTitle())
                        }
                    }
                    h.pubsub("publish", "boundChanged", n)
                })
            };
            g.prototype.boutiqueSearchHandler = function(d, j) {
                var k = new f.BMap.Geocoder();
                k.getPoint(d, function(l) {
                    j.centerAndZoom(l, 7)
                }, d)
            };
            g.prototype.resetMapHandler = function() {
                var d = this;
                while (this.markers.length > 0) {
                    d.markers.pop()
                }
                d.initBaiduMap()
            };
            g.prototype.getCurrenLocation = function(j) {
                var d = new f.google.maps.LatLng(j.coords.latitude, j.coords.longitude);
                return d
            };
            g.prototype.calculateDistance = function(d, l) {
                var m, n = {},
                    k = 0.001,
                    j = h(".pan-boutiques-list-item");
                h.each(this.markerData, function(o, p) {
                    m = new f.BMap.Point(p.location.latitude, p.location.longitude);
                    var q = Math.round(l.getDistance(d, m) * k);
                    j.eq(o).find(".pan-boutiques-distance span").html(q);
                    j.eq(o).find(".pan-boutiques-distance").show()
                })
            };
            g.prototype.eventBinding = function() {
                var d = this;
                d.currentLocationBtn.on("click", (function() {
                    navigator.geolocation.getCurrentPosition(function(k) {
                        var j = new f.BMap.Point(k.coords.longitude, k.coords.latitude);
                        d.calculateDistance(j, d.map)
                    })
                }).bind(this));
                d.searchBtn.on("click", (function() {
                    var j = d.searchField.val();
                    d.boutiqueSearchHandler(j, this.map);
                    d.searchBtn.hide();
                    d.resetBtn.show()
                }).bind(this));
                d.resetBtn.on("click", (function() {
                    d.searchField.val("");
                    d.searchBtn.show();
                    d.resetBtn.hide();
                    h(".pan-boutiques-list-item").removeClass("not-visible");
                    d.resetMapHandler()
                }).bind(this))
            };
            f.gdt.BaiduMapHandler = g
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function() {
                var d = {},
                    l, q, k, o = f.gdt.Utils.PubSub.UI_EVENTS;

                function m(r) {
                    h.ajax({
                        type: "get",
                        url: r.url,
                        dataType: "json",
                        beforeSend: function() {
                            h(".bsoad-overlay-store-details").addClass("loading")
                        },
                        success: function(s) {
                            d = s;
                            var t = {
                                latitude: r.defaultLat,
                                longitude: r.defaultLong
                            };
                            l = new f.gdt.BoutiqueListModule(d);
                            q = new f.gdt.BoutiqueMapModule(d, k, t);
                            n(r)
                        },
                        error: function() {
                            f.console.log("some error loading list")
                        },
                        complete: function() {
                            h(".bsoad-overlay-store-details").removeClass("loading")
                        }
                    })
                }

                function n(r) {
                    h.ajax({
                        type: "get",
                        url: r.availabilityUrl,
                        dataType: "json",
                        success: function(t) {
                            var s = t;
                            l.updateAvailability(s)
                        },
                        error: function() {
                            f.console.log("error getting availabitliy data")
                        }
                    })
                }

                function j() {
                    h(".cta-stock-status").on("click", function(t) {
                        t.preventDefault();
                        var s = h(t.target),
                            r = {
                                url: s.data("bsoad-url"),
                                defaultLat: s.data("default-lat"),
                                defaultLong: s.data("default-long"),
                                availabilityUrl: s.data("availability-url")
                            };
                        m(r)
                    })
                }

                function p() {
                    j();
                    h.pubsub("subscribe", o.mapApiLoaded, function() {
                        k = "google"
                    });
                    h.pubsub("subscribe", o.baiduMaps, function() {
                        k = "baidu"
                    });
                    h.pubsub("subscribe", "bsoadListUpdated", function(r, s) {
                        l.reCreateStoreList(s)
                    });
                    h.pubsub("subscribe", "boundChanged", function(r, s) {
                        l.reCreateStoreList(s)
                    })
                }
                p()
            };
            f.gdt.BoutiqueAvailabilityModule = new g()
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function(d) {
                this.createStoreList(d);
                this.boutiqueListItem = h(".pan-boutiques-list-item");
                this.eventBinding()
            };
            g.prototype.createStoreList = function(d) {
                var m = h("#tpl-store-list").html(),
                    u = [],
                    q, l = /{{ boutiqueId }}/gi,
                    j = /{{ boutiqueName }}/gi,
                    o = /{{ boutiqueAddress }}/gi,
                    k = /{{ boutiqueZip }}/gi,
                    n = /{{ boutiqueCity }}/gi,
                    t = /{{ boutiqueCountry }}/gi,
                    p = /{{ pagePath }}/gi,
                    r = /{{ getDirectionLink }}/gi,
                    s;
                h.each(d.storeData, function(v, x) {
                    var w = h("html").hasClass("cn");
                    if (w) {
                        s = "http://map.baidu.com/?latlng=" + x.location.latitude + "," + x.location.longitude + "&title=Panerai"
                    } else {
                        s = "http://www.google.com/maps/place/" + x.location.latitude + "," + x.location.longitude
                    }
                    q = m.replace(l, x.id).replace(j, x.name).replace(o, x.address.street).replace(k, x.address.zip).replace(n, x.address.city).replace(t, x.address.country).replace(p, x.pagePath).replace(r, s);
                    u.push(q)
                });
                h(".bsoad-boutique-list").html(u).mCustomScrollbar({
                    scrollInertia: 0
                })
            };
            g.prototype.updateAvailability = function(d) {
                var j = this;
                h.each(d.availableBoutiqueIds, function(k, l) {
                    j.boutiqueListItem.each(function(m, p) {
                        var o = h(p),
                            q = o.data("boutique-id"),
                            n = parseInt(l);
                        if (Number(q) === n) {
                            o.find(".pan-boutiques-availability").removeClass("not-available")
                        }
                    })
                })
            };
            g.prototype.reCreateStoreList = function(d) {
                var j = this;
                j.boutiqueListItem.removeClass("visibled not-visible");
                if (d.length) {
                    h.each(d, function(k, l) {
                        h(".boutique-" + l).addClass("visibled")
                    });
                    h(".bosad-no-list-msg").removeClass("show");
                    h(".bsoad-boutique-list").removeClass("hide")
                } else {
                    h(".bosad-no-list-msg").addClass("show");
                    h(".bsoad-boutique-list").addClass("hide")
                }
                j.mobilePagination()
            };
            g.prototype.mobilePagination = function() {
                var d = h(".pan-boutiques-list-item.visibled");
                if (d.length > 4) {
                    h(".bsoad-view-more").removeClass("show-more")
                } else {
                    h(".bsoad-view-more").addClass("show-more")
                }
                if (d.length >= 4) {
                    h(".pan-boutiques-list-item.visibled:gt(3)").removeClass("visibled").addClass("temp-hidden")
                }
            };
            g.prototype.eventBinding = function() {
                h(".bsoad-view-more").on("click", function() {
                    h(".pan-boutiques-list-item.temp-hidden").removeClass("temp-hidden").addClass("visibled");
                    h(".bsoad-view-more").addClass("show-more")
                });
                h.pubsub("subscribe", "markerClick", function(d, k) {
                    var j = h(".bsoad-boutique-list li.boutique-" + k).position().top;
                    f.console.log(k);
                    h(".bsoad-boutique-list").mCustomScrollbar("scrollTo", j)
                })
            };
            f.gdt.BoutiqueListModule = g
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, g) {
            f.gdt = f.gdt || {};
            var h = function(k, j, d) {
                this.googleMap = null;
                this.baiduMap = null;
                this.centerLatLong = d;
                this.boutiqueListObj = k;
                this.initMap(k, j)
            };
            h.prototype.initMap = function(k, d) {
                var j = g(".bsoad-map-wrapper").attr("id");
                if (d === "google") {
                    this.googleMap = new f.gdt.GoogleMapHandler(k, j, this.centerLatLong)
                } else {
                    if (d === "baidu") {
                        this.baiduMap = new f.gdt.BaiduMapHandler(k, j, this.centerLatLong)
                    } else {
                        g(".bsoad-map-wrapper").html("No map  to display")
                    }
                }
            };
            f.gdt.BoutiqueMapModule = h
        }(document, window, window.jQuery || window.Zepto));
        (function(i, f, h) {
            f.gdt = f.gdt || {};
            var g = function(k, j, d) {
                this.map = null;
                this.markers = [];
                this.mapOptions = {};
                this.mapWrapper = j;
                this.latitude = d.latitude;
                this.longitude = d.longitude;
                this.searchBtn = h(".bsoad-search-btn");
                this.resetBtn = h(".bsoad-reset-btn");
                this.searchField = h(".bsoad-store-search");
                this.currentLocationBtn = h(".bsoad-current-location");
                this.markerData = k.storeData;
                this.MARKER_IMAGE = f.gdt.Utils.google.mapIcon;
                this.CLUSTER_IMAGE = f.gdt.Utils.google.clusterIcon;
                this.geolocationApiKey = h("#googleMapsAPI").data("key-geolocation");
                this.checkoutMapsStyle = [{
                    elementType: "geometry",
                    stylers: [{
                        invert_lightness: true
                    }, {
                        visibility: "simplified"
                    }, {
                        saturation: -100
                    }, {
                        lightness: -40
                    }]
                }, {
                    featureType: "poi.park",
                    stylers: [{
                        lightness: -100
                    }]
                }, {
                    featureType: "administrative.country",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#fff0d2"
                    }, {
                        weight: "0.5"
                    }]
                }, {
                    featureType: "administrative.locality",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "water"
                }, {
                    featureType: "road.highway.controlled_access",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "water",
                    elementType: "geometry",
                    stylers: [{
                        visibility: "off"
                    }, {
                        color: "#454545"
                    }]
                }, {
                    stylers: [{
                        visibility: "simplified"
                    }]
                }, {
                    elementType: "labels",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape",
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "simplified"
                    }]
                }, {
                    featureType: "administrative.country",
                    stylers: [{
                        visibility: "on"
                    }]
                }, {
                    featureType: "administrative.locality",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.country",
                    elementType: "labels.text.stroke",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.country",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "water",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.province",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape.natural",
                    stylers: [{
                        color: "#000000"
                    }]
                }, {
                    featureType: "road.highway.controlled_access",
                    elementType: "labels",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "poi",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "poi",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.line",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "transit.station",
                    elementType: "labels.text.fill",
                    stylers: [{
                        color: "#ffffff"
                    }]
                }, {
                    featureType: "administrative.land_parcel",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "administrative.neighborhood",
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.arterial",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#333333"
                    }]
                }, {
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.arterial",
                    elementType: "labels.text",
                    stylers: [{
                        color: "#FFFFFF"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road.arterial",
                    elementType: "labels.text.fill",
                    stylers: [{
                        weight: 0.1
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "labels.text",
                    stylers: [{
                        color: "#808080"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "labels.text.fill",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "landscape",
                    elementType: "labels.text.fill",
                    stylers: [{
                        weight: 0.1
                    }, {
                        visibility: "off"
                    }]
                }, {
                    featureType: "road",
                    stylers: [{
                        visibility: "on"
                    }]
                }, {
                    featureType: "road.highway.controlled_access",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    elementType: "labels.text",
                    stylers: [{
                        visibility: "on"
                    }, {
                        color: "#808080"
                    }, {
                        weight: 0.1
                    }]
                }, {
                    featureType: "road",
                    elementType: "labels.icon",
                    stylers: [{
                        visibility: "off"
                    }]
                }, {
                    featureType: "road.local",
                    elementType: "geometry",
                    stylers: [{
                        weight: 0.8
                    }, {
                        color: "#343435"
                    }]
                }];
                this.mcStyles = [
                    [{
                        url: f.gdt.Utils.google.clusterIcon,
                        height: 36,
                        width: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }, {
                        url: f.gdt.Utils.google.clusterIcon,
                        height: 36,
                        width: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }, {
                        url: f.gdt.Utils.google.clusterIcon,
                        width: 36,
                        height: 36,
                        anchor: [0, 0],
                        textColor: "#FFFFFF",
                        textSize: 12
                    }]
                ];
                this.initGoogleMap();
                this.eventBinding()
            };
            g.prototype.initGoogleMap = function() {
                var k = this;
                var d = new f.google.maps.LatLng(k.latitude, k.longitude),
                    j = {
                        zoom: 2,
                        center: d,
                        styles: this.checkoutMapsStyle,
                        mapTypeId: f.google.maps.MapTypeId.ROADMAP
                    };
                this.map = new f.google.maps.Map(h("#" + this.mapWrapper).get(0), j);
                this.addMarkersOnMap()
            };
            g.prototype.addMarkersOnMap = function() {
                var d = this;
                h.each(this.markerData, function(j, l) {
                    var k = new f.google.maps.LatLng(l.location.latitude, l.location.longitude);
                    d.marker = new f.google.maps.Marker({
                        position: k,
                        icon: d.MARKER_IMAGE,
                        map: d.map,
                        boutiqueId: l.id
                    });
                    d.markers.push(d.marker);
                    d.markerEventBinding(d.marker)
                });
                d.markerCluster = new f.MarkerClusterer(d.map, d.markers, {
                    gridSize: 20,
                    styles: d.mcStyles[0]
                })
            };
            g.prototype.markerEventBinding = function() {
                var d = this;
                f.google.maps.event.addListener(this.marker, "click", function() {
                    h.pubsub("publish", "markerClick", this.boutiqueId);
                    f.console.log("markerClick event fired")
                });
                f.google.maps.event.addListener(d.map, "idle", function() {
                    var k = d.map.getBounds(),
                        l = [];
                    for (var j = 0; j < d.markers.length; j++) {
                        if (k.contains(d.markers[j].getPosition()) === true) {
                            l.push(d.markers[j].boutiqueId)
                        }
                    }
                    h.pubsub("publish", "boundChanged", l)
                })
            };
            g.prototype.boutiqueSearchHandler = function(d) {
                var j = new f.google.maps.Geocoder();
                var k = this;
                j.geocode({
                    address: d
                }, function(m, l) {
                    if (l === f.google.maps.GeocoderStatus.OK) {
                        k.map.setZoom(10);
                        k.map.setCenter(m[0].geometry.location);
                        k.updateBoutiqueList()
                    } else {
                        f.console.log("Geocode was not successful for the following reason: " + l)
                    }
                })
            };
            g.prototype.resetMapHandler = function() {
                var d = this;
                while (this.markers.length > 0) {
                    d.markers.pop()
                }
                d.initGoogleMap()
            };
            g.prototype.updateBoutiqueList = function() {
                var j = this.map.getBounds(),
                    k = [];
                for (var d = 0; d < this.markers.length; d++) {
                    if (j.contains(this.markers[d].getPosition()) === true) {
                        k.push(this.markers[d].boutiqueId)
                    }
                }
                h.pubsub("publish", "bsoadListUpdated", k)
            };
            g.prototype.getCurrenLocation = function(j) {
                var d = new window.google.maps.LatLng(j.coords.latitude, j.coords.longitude);
                return d
            };
            g.prototype.calculateDistance = function(d) {
                var l, m = {},
                    k = 0.001,
                    j = h(".pan-boutiques-list-item");
                h.each(this.markerData, function(n, o) {
                    l = new f.google.maps.LatLng(o.location.latitude, o.location.longitude);
                    m = Math.round(google.maps.geometry.spherical.computeDistanceBetween(d, l) * k);
                    j.eq(n).find(".pan-boutiques-distance span").html(m);
                    j.eq(n).find(".pan-boutiques-distance").show()
                })
            };
            g.prototype.eventBinding = function() {
                var d = this;
                d.currentLocationBtn.on("click", (function() {
                    h.post("https://www.googleapis.com/geolocation/v1/geolocate?key=" + d.geolocationApiKey, function(k) {
                        var l = {
                                coords: {
                                    latitude: k.location.lat,
                                    longitude: k.location.lng
                                }
                            },
                            j = d.getCurrenLocation(l);
                        d.calculateDistance(j)
                    }).fail(function() {
                        f.console.log("API Geolocation error")
                    })
                }).bind(this));
                d.searchBtn.on("click", (function() {
                    var j = d.searchField.val();
                    d.boutiqueSearchHandler(j);
                    d.searchBtn.hide();
                    d.resetBtn.show()
                }).bind(this));
                d.resetBtn.on("click", (function() {
                    d.searchField.val("");
                    d.searchBtn.show();
                    d.resetBtn.hide();
                    h(".pan-boutiques-list-item").removeClass("not-visible");
                    d.resetMapHandler()
                }).bind(this))
            };
            f.gdt.GoogleMapHandler = g
        }(document, window, window.jQuery || window.Zepto));
        (function(F, m, h) {
            m.gdt = m.gdt || {};
            var i = (typeof m.ontouchstart === "undefined") ? "click" : "touchend",
                x = h("body"),
                B = h("form label span.tooltip").next("input"),
                y = h("html"),
                D = m.gdt.Utils.PubSub.UI_EVENTS,
                s = m.gdt.Utils.Browser.isMobileLayout;
            B.on(i, function() {
                h(this).select()
            });
            h("#my-account section.lazy").lazyloadContent({
                callback: function(L) {
                    h(".component-cataloguetab", L).tabAccordion();
                    h(".component-myactsubscription", L).subscriptions();
                    var M = h(".accordion-tabs-content-active"),
                        d = M.find(".compareListTableWrapper").length,
                        w = M.find(".carousel-wishlist-wrap").length,
                        J = M.find("#paper_catalog"),
                        K = M.find("form").attr("id");
                    if (d > 0) {
                        h.pubsub("publish", D.compareTabUpdated)
                    } else {
                        if (w > 0) {
                            h.pubsub("publish", D.wishlistTabUpdated)
                        } else {
                            if (J) {
                                h.pubsub("publish", D.myAccountTabLoad, K)
                            }
                        }
                    }
                }
            });
            if (h("#progress-bar").length) {
                var v = h("#progress-bar"),
                    I = 0;
                v.find("li").each(function(d) {
                    if (h(this).hasClass("active")) {
                        I = 50 * d
                    }
                });
                v.addClass("progress" + I)
            }
            h("#my-account section.lazy").on("click", function() {
                h(document).ajaxComplete(function() {
                    h.pubsub("publish", m.gdt.Utils.PubSub.UI_EVENTS.accordionContentUpdated);
                    h(".js-contact-concierge-btn").modal();
                    h(".editWishlistMobile").modal()
                })
            });
            if (h(".product-detail").length && m.gdt.Utils.Browser.isMobileLayout) {
                if (h(".product-detail-top").length) {
                    var p = h(".product-detail-top").offset().top;
                    h(document).scrollTop(p)
                }
            }
            if (h(".findYourPaneraiSearch").length) {
                var t = m.location.search,
                    H = h("#top").offset().top;
                if (t.indexOf("setTopSearch") > -1) {
                    h(document).scrollTop(H)
                }
            }
            if (h("#shoppingbag").length && m.gdt.Utils.Browser.isMobileLayout) {
                var f = h("#shoppingbag").find(".mobileScroll .row").length;
                if (f > 1) {
                    h(".mobileScroll").addClass("height").mCustomScrollbar()
                }
            }
            h("input, textarea").placeholder();
            h("#my-account > .accordion-tabs").tabAccordion({
                closeOthers: true
            });
            if (h("#js-wishlist-caro").length) {
                h(".product-list-item .product-list-item-info").matchHeight();
                y.addClass("wishListPage")
            }
            h("#saveLink, #saveLinkMobile").modal();
            if (h(".eboutiqueContainer").length) {
                h("main").addClass("blackBoutique")
            }
            if (!m.gdt.Utils.Browser.isMobileLayout && h("#shoppingbag").length || h("#checkout").length) {
                h(".component-ecommercehighlights").each(function() {
                    var d = 0;
                    h("section", this).each(function() {
                        if (h(this).height() > d) {
                            d = h(this).height()
                        }
                    });
                    h("section", this).height(d)
                })
            }
            h(".nav-secondary").each(function() {
                var d = 0;
                h("a", this).each(function() {
                    if (h(this).height() > d) {
                        d = h(this).height()
                    }
                });
                h("a", this).height(d)
            });
            if (F.getElementById("js-product-list")) {
                m.gdt.ProductList.init()
            }
            var E = h(".search-results-watch, .search-results-eboutique-watch");
            if (E.length) {
                E.each(function() {
                    h(this).find("a").each(function() {
                        var d = h(this).attr("href");
                        h(this).attr("href", d + m.location.search)
                    })
                })
            }
            h("#js-product-details").tabAccordion({
                trigger: "h4"
            });
            h("#js-basket-error").modal();
            h("#confirmWishlistAdded").modal();
            if (m.gdt.Utils.Browser.isMobileLayout && h(".order-confirmation").length && h(".form-errors").length) {
                var k = h(".form-errors").offset().top;
                setTimeout(function() {
                    h("html, body").animate({
                        scrollTop: k
                    }, 300)
                }, 200)
            }
            h("#js-movement-details").tabAccordion({
                trigger: "h4"
            });
            h(".component-shippinginfo").shippingInfo();
            h(".personalise a").modal();
            if (h("#exceptionMsg").length === 1) {
                var j = h("#exceptionMsgA");
                j.modal();
                j.trigger("click")
            }
            h("#card-number").creditcard("#card-types");
            if (F.getElementById("js-news-list")) {
                m.gdt.NewsList.init()
            }
            if (h(".js-vertical-gallery-thumbs").length) {
                h(".js-vertical-gallery-thumbs").modal();
                h(".js-vertical-gallery-content").verticalGallery()
            }
            h(".component-cataloguetab").tabAccordion();
            h("#newShippingOptions").tabAccordion();
            h(".component-cataloguetab .accordion-tabs-content .download a.download-file").on(i, function() {
                var d = h(this).data("cookie-name");
                h.cookie(d, "1", {
                    path: "/",
                    domain: "panerai.com",
                    expires: 999999
                })
            });
            h(".gdt-form #catalogs").submit(function() {
                var d = h("#catalogs_catalogType").val();
                if (d !== undefined && d === "digital") {
                    var w = h("#catalogs .catalogRequested select option:selected").data("cookie-name");
                    if (w === undefined) {
                        w = "panerai_catalogo"
                    }
                    h.cookie(w, "1", {
                        path: "/",
                        domain: "panerai.com",
                        expires: 999999
                    })
                }
            });
            var l = h("#js-catalogue-msg-wrapper"),
                r = h("#js-catalogue-msg-wrapper .close-btn");

            function z() {
                h(".js-show-cataglogue-msg-btn").modal();
                if (h.trim(l.html()).length) {
                    h(".js-show-cataglogue-msg-btn").trigger("click")
                }
                r.on("click", function() {
                    l.find(".modal-close").trigger("click")
                })
            }
            if (h("#js-catalogue-msg-container").length > 0) {
                z()
            }
            if (m.gdt.Utils.Browser.isMobileLayout) {
                if (h(".photographers").length > 0) {
                    h(".photographers").addClass("open");
                    h(".photographers .editable-title h4").on("click", function() {
                        h(".photographers .two-column").slideToggle(1000);
                        if (h(".photographers").hasClass("open")) {
                            h(".photographers").removeClass("open")
                        } else {
                            h(".photographers").addClass("open")
                        }
                    })
                }
            }
            if (m.gdt.Utils.Browser.isIE && document.location.hash === "#top") {
                var q = h("#top").offset().top;
                window.scrollTo(0, q)
            }
            if (m.gdt.Utils.Browser.isMobileLayout) {
                h("#gdt main div.history-wrap").next("p.mobile-links").css("display", "none");
                h("#gdt main div.history-wrap").prev("h1").css("display", "none");
                h("#gdt main div.history-wrap").css("margin-top", "20px")
            }
            var u = new Date(),
                G = u.getMonth() + 1,
                A = u.getDate(),
                n = u.getFullYear();
            if (G <= 9) {
                G = "0" + G
            }
            if (A <= 9) {
                A = "0" + A
            }
            var g = A + "." + G + "." + n;
            h(".c-date span").html(g);
            x.on(i, ".cta-print", function(d) {
                d.preventDefault();
                if (m.print) {
                    m.print();
                    x.trigger("print:product")
                }
            });
            x.on(i, ".cta-strapsize", function(d) {
                d.preventDefault();
                h("#strapDetailPage .findStrapLinkSection a").click();
                location.href = h("#strapDetailPage .findStrapLinkSection a").attr("href")
            });
            h(".ie9 #js-product-details .mobile-height-calc").columnize({
                width: 400
            });
            var C = window.location.href.slice(window.location.href.indexOf("?") + 1);
            if (window.location.href.indexOf("?") > -1) {
                h(".product-detail .product-detail-top a.watchBack").attr("href", function(d, w) {
                    return w + "?" + C
                });
                h(".product-detail .product-detail-top a.strapBack").attr("href", function(d, w) {
                    return w
                });
                h(".product-detail .product-detail-top a.buckleBack").attr("href", function(d, w) {
                    return w
                })
            } else {
                h(".product-detail .product-detail-top a.watchBack").attr("href", function(d, w) {
                    return w
                });
                h(".product-detail .product-detail-top a.strapBack").hide();
                h(".product-detail .product-detail-top a.buckleBack").hide()
            }
            if (h(".cn-checkout").length > 0) {
                h("html").addClass("cn_rollout")
            }
            h(".ecom-overlay-btn").modal();
            h(".payment-options-cn").tabAccordion();
            h('input:radio[name="paymentOption"]').change(function() {
                h('input:radio[name="paymentOption"]').closest("label").removeClass("selected");
                if (h(this).is(":checked")) {
                    h(this).closest("label").addClass("selected")
                }
            });
            h(".payment-options-cn").find(".accordion-tabs-content-active input:radio:first").prop("checked", true);
            h(".payment-options-cn").find(".accordion-tabs-content-active label.radio:first").addClass("selected");
            h(".payment-options-cn").on("click", ".accordion-tabs-nav, .accordion-tabs-trigger", function() {
                h(".payment-options-cn").find(".accordion-tabs-content-active input:radio:first").prop("checked", true);
                h(".payment-options-cn").find(".accordion-tabs-content label.radio").removeClass("selected");
                h(".payment-options-cn").find(".accordion-tabs-content-active label.radio:first").addClass("selected")
            });
            h(".header-checkout").on("click", "a.back", function(d) {
                d.preventDefault();
                history.go(-1)
            });
            var o = h(".checkout-hub");
            if (o.length && s) {
                h(".progress-bar").addClass("desktopOnly")
            }
            h(".cta-stock-status").modal()
        }(document, window, window.jQuery || window.Zepto))
    }, {}]
}, {}, [17]);
